const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccc-C6OZp4C3.js","assets/react-C27rl8UZ.js"])))=>i.map(i=>d[i]);
import{_ as g}from"./index-CTtht2NI.js";import{a as n,j as e}from"./react-C27rl8UZ.js";import"./crypto-CzeFfIDu.js";import"./ccc-C6OZp4C3.js";const b=({isConnected:t,address:s,balance:o,onConnect:c,onDisconnect:i,loading:l})=>{const[d,a]=n.useState(!1),x=u=>{if(!u)return"";const r=u.replace(/^\s+|\s+$/g,"");return r.length<=16?r:`${r.slice(0,8)}...${r.slice(-8)}`},m=async()=>{if(s)try{await navigator.clipboard.writeText(s),a(!0),setTimeout(()=>a(!1),2e3)}catch{}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto mt-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ‘›"}),"é’±åŒ…è¿žæŽ¥ç®¡ç†"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600",children:t?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1",children:["åœ°å€ï¼š",e.jsx("span",{className:"font-mono",children:x(s)})]}),e.jsxs("div",{children:["ä½™é¢ï¼š",o??"åŠ è½½ä¸­..."," CKB"]}),e.jsx("button",{onClick:m,className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium",children:"å¤åˆ¶å®Œæ•´åœ°å€"}),d&&e.jsx("div",{className:"mt-1 text-green-600 text-sm",children:"å·²å¤åˆ¶å®Œæ•´åœ°å€"})]}):e.jsx("div",{children:"æœªè¿žæŽ¥"})}),e.jsx("div",{className:"flex gap-3",children:t?e.jsx("button",{onClick:i,disabled:l,className:"bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-semibold py-2 px-4 rounded-lg",children:"æ–­å¼€è¿žæŽ¥"}):e.jsx("button",{onClick:c,disabled:l,className:"bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-semibold py-2 px-4 rounded-lg",children:"è¿žæŽ¥é’±åŒ…"})})]})]})},p=({ccc:t})=>{const{open:s,disconnect:o}=t.useCcc(),c=t.useSigner(),[i,l]=n.useState(null),[d,a]=n.useState(null),[x,m]=n.useState(!1);n.useEffect(()=>{c&&(async()=>{const f=await c.getRecommendedAddress();l(f),m(!0);try{const h=await c.getBalance();a(t.fixedPointToString(h))}catch{a(null)}})()},[c,t]);const u=n.useCallback(async()=>{await s()},[s]),r=n.useCallback(async()=>{await o(),m(!1),l(null),a(null)},[o]);return e.jsx(b,{isConnected:x,address:i,balance:d,onConnect:u,onDisconnect:r,loading:!1})},y=()=>{const[t,s]=n.useState(null),[o,c]=n.useState(!1),i=n.useMemo(()=>t?new t.ccc.ClientPublicTestnet:null,[t]),l=n.useCallback(async()=>{c(!0);const d=await g(()=>import("./ccc-C6OZp4C3.js").then(a=>a.i),__vite__mapDeps([0,1]));s(d)},[]);return!t||!i?e.jsx(b,{isConnected:!1,address:null,balance:null,onConnect:l,onDisconnect:()=>{},loading:!1}):e.jsx(t.ccc.Provider,{defaultClient:i,clientOptions:[{name:"CKB Testnet",client:new t.ccc.ClientPublicTestnet},{name:"CKB Mainnet",client:new t.ccc.ClientPublicMainnet}],children:e.jsx(p,{ccc:t.ccc})})};export{y as default};
