var c1=r=>{throw TypeError(r)};var f1=(r,e,t)=>e.has(r)||c1("Cannot "+t);var Tt=(r,e,t)=>(f1(r,e,"read from private field"),t?t.call(r):e.get(r)),ei=(r,e,t)=>e.has(r)?c1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),qt=(r,e,t,n)=>(f1(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);import{y as v3,i as Kn,n as Ut,r as St,t as Zn,o as x3,R as _3,a as Pt,b as d1}from"./react-C27rl8UZ.js";var u1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Su(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function A3(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Aa={},Ni={},l1;function E3(){if(l1)return Ni;l1=1,Ni.byteLength=a,Ni.toByteArray=f,Ni.fromByteArray=g;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(y){var m=y.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");x===-1&&(x=m);var E=x===m?0:4-x%4;return[x,E]}function a(y){var m=o(y),x=m[0],E=m[1];return(x+E)*3/4-E}function c(y,m,x){return(m+x)*3/4-x}function f(y){var m,x=o(y),E=x[0],B=x[1],R=new t(c(y,E,B)),D=0,H=B>0?E-4:E,N;for(N=0;N<H;N+=4)m=e[y.charCodeAt(N)]<<18|e[y.charCodeAt(N+1)]<<12|e[y.charCodeAt(N+2)]<<6|e[y.charCodeAt(N+3)],R[D++]=m>>16&255,R[D++]=m>>8&255,R[D++]=m&255;return B===2&&(m=e[y.charCodeAt(N)]<<2|e[y.charCodeAt(N+1)]>>4,R[D++]=m&255),B===1&&(m=e[y.charCodeAt(N)]<<10|e[y.charCodeAt(N+1)]<<4|e[y.charCodeAt(N+2)]>>2,R[D++]=m>>8&255,R[D++]=m&255),R}function d(y){return r[y>>18&63]+r[y>>12&63]+r[y>>6&63]+r[y&63]}function l(y,m,x){for(var E,B=[],R=m;R<x;R+=3)E=(y[R]<<16&16711680)+(y[R+1]<<8&65280)+(y[R+2]&255),B.push(d(E));return B.join("")}function g(y){for(var m,x=y.length,E=x%3,B=[],R=16383,D=0,H=x-E;D<H;D+=R)B.push(l(y,D,D+R>H?H:D+R));return E===1?(m=y[x-1],B.push(r[m>>2]+r[m<<4&63]+"==")):E===2&&(m=(y[x-2]<<8)+y[x-1],B.push(r[m>>10]+r[m>>4&63]+r[m<<2&63]+"=")),B.join("")}return Ni}var Rs={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var h1;function S3(){return h1||(h1=1,Rs.read=function(r,e,t,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,f=c>>1,d=-7,l=t?i-1:0,g=t?-1:1,y=r[e+l];for(l+=g,s=y&(1<<-d)-1,y>>=-d,d+=a;d>0;s=s*256+r[e+l],l+=g,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+r[e+l],l+=g,d-=8);if(s===0)s=1-f;else{if(s===c)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-f}return(y?-1:1)*o*Math.pow(2,s-n)},Rs.write=function(r,e,t,n,i,s){var o,a,c,f=s*8-i-1,d=(1<<f)-1,l=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,m=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+l>=1?e+=g/c:e+=g*Math.pow(2,1-l),e*c>=2&&(o++,c/=2),o+l>=d?(a=0,o=d):o+l>=1?(a=(e*c-1)*Math.pow(2,i),o=o+l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;r[t+y]=a&255,y+=m,a/=256,i-=8);for(o=o<<i|a,f+=i;f>0;r[t+y]=o&255,y+=m,o/=256,f-=8);r[t+y-m]|=x*128}),Rs}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var p1;function C3(){return p1||(p1=1,(function(r){const e=E3(),t=S3(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=R,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u";function s(){try{const M=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(M,w),M.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(M){if(M>i)throw new RangeError('The value "'+M+'" is invalid for option "size"');const w=new Uint8Array(M);return Object.setPrototypeOf(w,a.prototype),w}function a(M,w,A){if(typeof M=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(M)}return c(M,w,A)}a.poolSize=8192;function c(M,w,A){if(typeof M=="string")return g(M,w);if(ArrayBuffer.isView(M))return m(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(we(M,ArrayBuffer)||M&&we(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(M,SharedArrayBuffer)||M&&we(M.buffer,SharedArrayBuffer)))return x(M,w,A);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=M.valueOf&&M.valueOf();if(I!=null&&I!==M)return a.from(I,w,A);const L=E(M);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return a.from(M[Symbol.toPrimitive]("string"),w,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}a.from=function(M,w,A){return c(M,w,A)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function f(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function d(M,w,A){return f(M),M<=0?o(M):w!==void 0?typeof A=="string"?o(M).fill(w,A):o(M).fill(w):o(M)}a.alloc=function(M,w,A){return d(M,w,A)};function l(M){return f(M),o(M<0?0:B(M)|0)}a.allocUnsafe=function(M){return l(M)},a.allocUnsafeSlow=function(M){return l(M)};function g(M,w){if((typeof w!="string"||w==="")&&(w="utf8"),!a.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const A=D(M,w)|0;let I=o(A);const L=I.write(M,w);return L!==A&&(I=I.slice(0,L)),I}function y(M){const w=M.length<0?0:B(M.length)|0,A=o(w);for(let I=0;I<w;I+=1)A[I]=M[I]&255;return A}function m(M){if(we(M,Uint8Array)){const w=new Uint8Array(M);return x(w.buffer,w.byteOffset,w.byteLength)}return y(M)}function x(M,w,A){if(w<0||M.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<w+(A||0))throw new RangeError('"length" is outside of buffer bounds');let I;return w===void 0&&A===void 0?I=new Uint8Array(M):A===void 0?I=new Uint8Array(M,w):I=new Uint8Array(M,w,A),Object.setPrototypeOf(I,a.prototype),I}function E(M){if(a.isBuffer(M)){const w=B(M.length)|0,A=o(w);return A.length===0||M.copy(A,0,0,w),A}if(M.length!==void 0)return typeof M.length!="number"||Mr(M.length)?o(0):y(M);if(M.type==="Buffer"&&Array.isArray(M.data))return y(M.data)}function B(M){if(M>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return M|0}function R(M){return+M!=M&&(M=0),a.alloc(+M)}a.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==a.prototype},a.compare=function(w,A){if(we(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),we(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(w)||!a.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===A)return 0;let I=w.length,L=A.length;for(let j=0,V=Math.min(I,L);j<V;++j)if(w[j]!==A[j]){I=w[j],L=A[j];break}return I<L?-1:L<I?1:0},a.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(w,A){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return a.alloc(0);let I;if(A===void 0)for(A=0,I=0;I<w.length;++I)A+=w[I].length;const L=a.allocUnsafe(A);let j=0;for(I=0;I<w.length;++I){let V=w[I];if(we(V,Uint8Array))j+V.length>L.length?(a.isBuffer(V)||(V=a.from(V)),V.copy(L,j)):Uint8Array.prototype.set.call(L,V,j);else if(a.isBuffer(V))V.copy(L,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=V.length}return L};function D(M,w){if(a.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||we(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const A=M.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&A===0)return 0;let L=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return Ft(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return Vr(M).length;default:if(L)return I?-1:Ft(M).length;w=(""+w).toLowerCase(),L=!0}}a.byteLength=D;function H(M,w,A){let I=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,w>>>=0,A<=w))return"";for(M||(M="utf8");;)switch(M){case"hex":return C(this,w,A);case"utf8":case"utf-8":return _(this,w,A);case"ascii":return S(this,w,A);case"latin1":case"binary":return k(this,w,A);case"base64":return p(this,w,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,w,A);default:if(I)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),I=!0}}a.prototype._isBuffer=!0;function N(M,w,A){const I=M[w];M[w]=M[A],M[A]=I}a.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let A=0;A<w;A+=2)N(this,A,A+1);return this},a.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let A=0;A<w;A+=4)N(this,A,A+3),N(this,A+1,A+2);return this},a.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let A=0;A<w;A+=8)N(this,A,A+7),N(this,A+1,A+6),N(this,A+2,A+5),N(this,A+3,A+4);return this},a.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?_(this,0,w):H.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(w){if(!a.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:a.compare(this,w)===0},a.prototype.inspect=function(){let w="";const A=r.INSPECT_MAX_BYTES;return w=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(w+=" ... "),"<Buffer "+w+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(w,A,I,L,j){if(we(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(A===void 0&&(A=0),I===void 0&&(I=w?w.length:0),L===void 0&&(L=0),j===void 0&&(j=this.length),A<0||I>w.length||L<0||j>this.length)throw new RangeError("out of range index");if(L>=j&&A>=I)return 0;if(L>=j)return-1;if(A>=I)return 1;if(A>>>=0,I>>>=0,L>>>=0,j>>>=0,this===w)return 0;let V=j-L,se=I-A;const Ie=Math.min(V,se),de=this.slice(L,j),ue=w.slice(A,I);for(let Ae=0;Ae<Ie;++Ae)if(de[Ae]!==ue[Ae]){V=de[Ae],se=ue[Ae];break}return V<se?-1:se<V?1:0};function U(M,w,A,I,L){if(M.length===0)return-1;if(typeof A=="string"?(I=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,Mr(A)&&(A=L?0:M.length-1),A<0&&(A=M.length+A),A>=M.length){if(L)return-1;A=M.length-1}else if(A<0)if(L)A=0;else return-1;if(typeof w=="string"&&(w=a.from(w,I)),a.isBuffer(w))return w.length===0?-1:W(M,w,A,I,L);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(M,w,A):Uint8Array.prototype.lastIndexOf.call(M,w,A):W(M,[w],A,I,L);throw new TypeError("val must be string, number or Buffer")}function W(M,w,A,I,L){let j=1,V=M.length,se=w.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(M.length<2||w.length<2)return-1;j=2,V/=2,se/=2,A/=2}function Ie(ue,Ae){return j===1?ue[Ae]:ue.readUInt16BE(Ae*j)}let de;if(L){let ue=-1;for(de=A;de<V;de++)if(Ie(M,de)===Ie(w,ue===-1?0:de-ue)){if(ue===-1&&(ue=de),de-ue+1===se)return ue*j}else ue!==-1&&(de-=de-ue),ue=-1}else for(A+se>V&&(A=V-se),de=A;de>=0;de--){let ue=!0;for(let Ae=0;Ae<se;Ae++)if(Ie(M,de+Ae)!==Ie(w,Ae)){ue=!1;break}if(ue)return de}return-1}a.prototype.includes=function(w,A,I){return this.indexOf(w,A,I)!==-1},a.prototype.indexOf=function(w,A,I){return U(this,w,A,I,!0)},a.prototype.lastIndexOf=function(w,A,I){return U(this,w,A,I,!1)};function Y(M,w,A,I){A=Number(A)||0;const L=M.length-A;I?(I=Number(I),I>L&&(I=L)):I=L;const j=w.length;I>j/2&&(I=j/2);let V;for(V=0;V<I;++V){const se=parseInt(w.substr(V*2,2),16);if(Mr(se))return V;M[A+V]=se}return V}function q(M,w,A,I){return Se(Ft(w,M.length-A),M,A,I)}function J(M,w,A,I){return Se(ke(w),M,A,I)}function O(M,w,A,I){return Se(Vr(w),M,A,I)}function u(M,w,A,I){return Se(Oe(w,M.length-A),M,A,I)}a.prototype.write=function(w,A,I,L){if(A===void 0)L="utf8",I=this.length,A=0;else if(I===void 0&&typeof A=="string")L=A,I=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(I)?(I=I>>>0,L===void 0&&(L="utf8")):(L=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-A;if((I===void 0||I>j)&&(I=j),w.length>0&&(I<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");let V=!1;for(;;)switch(L){case"hex":return Y(this,w,A,I);case"utf8":case"utf-8":return q(this,w,A,I);case"ascii":case"latin1":case"binary":return J(this,w,A,I);case"base64":return O(this,w,A,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,w,A,I);default:if(V)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),V=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(M,w,A){return w===0&&A===M.length?e.fromByteArray(M):e.fromByteArray(M.slice(w,A))}function _(M,w,A){A=Math.min(M.length,A);const I=[];let L=w;for(;L<A;){const j=M[L];let V=null,se=j>239?4:j>223?3:j>191?2:1;if(L+se<=A){let Ie,de,ue,Ae;switch(se){case 1:j<128&&(V=j);break;case 2:Ie=M[L+1],(Ie&192)===128&&(Ae=(j&31)<<6|Ie&63,Ae>127&&(V=Ae));break;case 3:Ie=M[L+1],de=M[L+2],(Ie&192)===128&&(de&192)===128&&(Ae=(j&15)<<12|(Ie&63)<<6|de&63,Ae>2047&&(Ae<55296||Ae>57343)&&(V=Ae));break;case 4:Ie=M[L+1],de=M[L+2],ue=M[L+3],(Ie&192)===128&&(de&192)===128&&(ue&192)===128&&(Ae=(j&15)<<18|(Ie&63)<<12|(de&63)<<6|ue&63,Ae>65535&&Ae<1114112&&(V=Ae))}}V===null?(V=65533,se=1):V>65535&&(V-=65536,I.push(V>>>10&1023|55296),V=56320|V&1023),I.push(V),L+=se}return v(I)}const h=4096;function v(M){const w=M.length;if(w<=h)return String.fromCharCode.apply(String,M);let A="",I=0;for(;I<w;)A+=String.fromCharCode.apply(String,M.slice(I,I+=h));return A}function S(M,w,A){let I="";A=Math.min(M.length,A);for(let L=w;L<A;++L)I+=String.fromCharCode(M[L]&127);return I}function k(M,w,A){let I="";A=Math.min(M.length,A);for(let L=w;L<A;++L)I+=String.fromCharCode(M[L]);return I}function C(M,w,A){const I=M.length;(!w||w<0)&&(w=0),(!A||A<0||A>I)&&(A=I);let L="";for(let j=w;j<A;++j)L+=Te[M[j]];return L}function b(M,w,A){const I=M.slice(w,A);let L="";for(let j=0;j<I.length-1;j+=2)L+=String.fromCharCode(I[j]+I[j+1]*256);return L}a.prototype.slice=function(w,A){const I=this.length;w=~~w,A=A===void 0?I:~~A,w<0?(w+=I,w<0&&(w=0)):w>I&&(w=I),A<0?(A+=I,A<0&&(A=0)):A>I&&(A=I),A<w&&(A=w);const L=this.subarray(w,A);return Object.setPrototypeOf(L,a.prototype),L};function T(M,w,A){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+w>A)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(w,A,I){w=w>>>0,A=A>>>0,I||T(w,A,this.length);let L=this[w],j=1,V=0;for(;++V<A&&(j*=256);)L+=this[w+V]*j;return L},a.prototype.readUintBE=a.prototype.readUIntBE=function(w,A,I){w=w>>>0,A=A>>>0,I||T(w,A,this.length);let L=this[w+--A],j=1;for(;A>0&&(j*=256);)L+=this[w+--A]*j;return L},a.prototype.readUint8=a.prototype.readUInt8=function(w,A){return w=w>>>0,A||T(w,1,this.length),this[w]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(w,A){return w=w>>>0,A||T(w,2,this.length),this[w]|this[w+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(w,A){return w=w>>>0,A||T(w,2,this.length),this[w]<<8|this[w+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(w,A){return w=w>>>0,A||T(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(w,A){return w=w>>>0,A||T(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},a.prototype.readBigUInt64LE=ve(function(w){w=w>>>0,ce(w,"offset");const A=this[w],I=this[w+7];(A===void 0||I===void 0)&&He(w,this.length-8);const L=A+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,j=this[++w]+this[++w]*2**8+this[++w]*2**16+I*2**24;return BigInt(L)+(BigInt(j)<<BigInt(32))}),a.prototype.readBigUInt64BE=ve(function(w){w=w>>>0,ce(w,"offset");const A=this[w],I=this[w+7];(A===void 0||I===void 0)&&He(w,this.length-8);const L=A*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],j=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+I;return(BigInt(L)<<BigInt(32))+BigInt(j)}),a.prototype.readIntLE=function(w,A,I){w=w>>>0,A=A>>>0,I||T(w,A,this.length);let L=this[w],j=1,V=0;for(;++V<A&&(j*=256);)L+=this[w+V]*j;return j*=128,L>=j&&(L-=Math.pow(2,8*A)),L},a.prototype.readIntBE=function(w,A,I){w=w>>>0,A=A>>>0,I||T(w,A,this.length);let L=A,j=1,V=this[w+--L];for(;L>0&&(j*=256);)V+=this[w+--L]*j;return j*=128,V>=j&&(V-=Math.pow(2,8*A)),V},a.prototype.readInt8=function(w,A){return w=w>>>0,A||T(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},a.prototype.readInt16LE=function(w,A){w=w>>>0,A||T(w,2,this.length);const I=this[w]|this[w+1]<<8;return I&32768?I|4294901760:I},a.prototype.readInt16BE=function(w,A){w=w>>>0,A||T(w,2,this.length);const I=this[w+1]|this[w]<<8;return I&32768?I|4294901760:I},a.prototype.readInt32LE=function(w,A){return w=w>>>0,A||T(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},a.prototype.readInt32BE=function(w,A){return w=w>>>0,A||T(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},a.prototype.readBigInt64LE=ve(function(w){w=w>>>0,ce(w,"offset");const A=this[w],I=this[w+7];(A===void 0||I===void 0)&&He(w,this.length-8);const L=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(I<<24);return(BigInt(L)<<BigInt(32))+BigInt(A+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),a.prototype.readBigInt64BE=ve(function(w){w=w>>>0,ce(w,"offset");const A=this[w],I=this[w+7];(A===void 0||I===void 0)&&He(w,this.length-8);const L=(A<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(L)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+I)}),a.prototype.readFloatLE=function(w,A){return w=w>>>0,A||T(w,4,this.length),t.read(this,w,!0,23,4)},a.prototype.readFloatBE=function(w,A){return w=w>>>0,A||T(w,4,this.length),t.read(this,w,!1,23,4)},a.prototype.readDoubleLE=function(w,A){return w=w>>>0,A||T(w,8,this.length),t.read(this,w,!0,52,8)},a.prototype.readDoubleBE=function(w,A){return w=w>>>0,A||T(w,8,this.length),t.read(this,w,!1,52,8)};function $(M,w,A,I,L,j){if(!a.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>L||w<j)throw new RangeError('"value" argument is out of bounds');if(A+I>M.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(w,A,I,L){if(w=+w,A=A>>>0,I=I>>>0,!L){const se=Math.pow(2,8*I)-1;$(this,w,A,I,se,0)}let j=1,V=0;for(this[A]=w&255;++V<I&&(j*=256);)this[A+V]=w/j&255;return A+I},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(w,A,I,L){if(w=+w,A=A>>>0,I=I>>>0,!L){const se=Math.pow(2,8*I)-1;$(this,w,A,I,se,0)}let j=I-1,V=1;for(this[A+j]=w&255;--j>=0&&(V*=256);)this[A+j]=w/V&255;return A+I},a.prototype.writeUint8=a.prototype.writeUInt8=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,1,255,0),this[A]=w&255,A+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,2,65535,0),this[A]=w&255,this[A+1]=w>>>8,A+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,2,65535,0),this[A]=w>>>8,this[A+1]=w&255,A+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,4,4294967295,0),this[A+3]=w>>>24,this[A+2]=w>>>16,this[A+1]=w>>>8,this[A]=w&255,A+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,4,4294967295,0),this[A]=w>>>24,this[A+1]=w>>>16,this[A+2]=w>>>8,this[A+3]=w&255,A+4};function Z(M,w,A,I,L){ye(w,I,L,M,A,7);let j=Number(w&BigInt(4294967295));M[A++]=j,j=j>>8,M[A++]=j,j=j>>8,M[A++]=j,j=j>>8,M[A++]=j;let V=Number(w>>BigInt(32)&BigInt(4294967295));return M[A++]=V,V=V>>8,M[A++]=V,V=V>>8,M[A++]=V,V=V>>8,M[A++]=V,A}function G(M,w,A,I,L){ye(w,I,L,M,A,7);let j=Number(w&BigInt(4294967295));M[A+7]=j,j=j>>8,M[A+6]=j,j=j>>8,M[A+5]=j,j=j>>8,M[A+4]=j;let V=Number(w>>BigInt(32)&BigInt(4294967295));return M[A+3]=V,V=V>>8,M[A+2]=V,V=V>>8,M[A+1]=V,V=V>>8,M[A]=V,A+8}a.prototype.writeBigUInt64LE=ve(function(w,A=0){return Z(this,w,A,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ve(function(w,A=0){return G(this,w,A,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(w,A,I,L){if(w=+w,A=A>>>0,!L){const Ie=Math.pow(2,8*I-1);$(this,w,A,I,Ie-1,-Ie)}let j=0,V=1,se=0;for(this[A]=w&255;++j<I&&(V*=256);)w<0&&se===0&&this[A+j-1]!==0&&(se=1),this[A+j]=(w/V>>0)-se&255;return A+I},a.prototype.writeIntBE=function(w,A,I,L){if(w=+w,A=A>>>0,!L){const Ie=Math.pow(2,8*I-1);$(this,w,A,I,Ie-1,-Ie)}let j=I-1,V=1,se=0;for(this[A+j]=w&255;--j>=0&&(V*=256);)w<0&&se===0&&this[A+j+1]!==0&&(se=1),this[A+j]=(w/V>>0)-se&255;return A+I},a.prototype.writeInt8=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,1,127,-128),w<0&&(w=255+w+1),this[A]=w&255,A+1},a.prototype.writeInt16LE=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,2,32767,-32768),this[A]=w&255,this[A+1]=w>>>8,A+2},a.prototype.writeInt16BE=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,2,32767,-32768),this[A]=w>>>8,this[A+1]=w&255,A+2},a.prototype.writeInt32LE=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,4,2147483647,-2147483648),this[A]=w&255,this[A+1]=w>>>8,this[A+2]=w>>>16,this[A+3]=w>>>24,A+4},a.prototype.writeInt32BE=function(w,A,I){return w=+w,A=A>>>0,I||$(this,w,A,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[A]=w>>>24,this[A+1]=w>>>16,this[A+2]=w>>>8,this[A+3]=w&255,A+4},a.prototype.writeBigInt64LE=ve(function(w,A=0){return Z(this,w,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ve(function(w,A=0){return G(this,w,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(M,w,A,I,L,j){if(A+I>M.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function re(M,w,A,I,L){return w=+w,A=A>>>0,L||X(M,w,A,4),t.write(M,w,A,I,23,4),A+4}a.prototype.writeFloatLE=function(w,A,I){return re(this,w,A,!0,I)},a.prototype.writeFloatBE=function(w,A,I){return re(this,w,A,!1,I)};function ie(M,w,A,I,L){return w=+w,A=A>>>0,L||X(M,w,A,8),t.write(M,w,A,I,52,8),A+8}a.prototype.writeDoubleLE=function(w,A,I){return ie(this,w,A,!0,I)},a.prototype.writeDoubleBE=function(w,A,I){return ie(this,w,A,!1,I)},a.prototype.copy=function(w,A,I,L){if(!a.isBuffer(w))throw new TypeError("argument should be a Buffer");if(I||(I=0),!L&&L!==0&&(L=this.length),A>=w.length&&(A=w.length),A||(A=0),L>0&&L<I&&(L=I),L===I||w.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),w.length-A<L-I&&(L=w.length-A+I);const j=L-I;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(A,I,L):Uint8Array.prototype.set.call(w,this.subarray(I,L),A),j},a.prototype.fill=function(w,A,I,L){if(typeof w=="string"){if(typeof A=="string"?(L=A,A=0,I=this.length):typeof I=="string"&&(L=I,I=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!a.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(w.length===1){const V=w.charCodeAt(0);(L==="utf8"&&V<128||L==="latin1")&&(w=V)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(A<0||this.length<A||this.length<I)throw new RangeError("Out of range index");if(I<=A)return this;A=A>>>0,I=I===void 0?this.length:I>>>0,w||(w=0);let j;if(typeof w=="number")for(j=A;j<I;++j)this[j]=w;else{const V=a.isBuffer(w)?w:a.from(w,L),se=V.length;if(se===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(j=0;j<I-A;++j)this[j+A]=V[j%se]}return this};const ge={};function ne(M,w,A){ge[M]=class extends A{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(L){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:L,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}ne("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ne("ERR_INVALID_ARG_TYPE",function(M,w){return`The "${M}" argument must be of type number. Received type ${typeof w}`},TypeError),ne("ERR_OUT_OF_RANGE",function(M,w,A){let I=`The value of "${M}" is out of range.`,L=A;return Number.isInteger(A)&&Math.abs(A)>2**32?L=oe(String(A)):typeof A=="bigint"&&(L=String(A),(A>BigInt(2)**BigInt(32)||A<-(BigInt(2)**BigInt(32)))&&(L=oe(L)),L+="n"),I+=` It must be ${w}. Received ${L}`,I},RangeError);function oe(M){let w="",A=M.length;const I=M[0]==="-"?1:0;for(;A>=I+4;A-=3)w=`_${M.slice(A-3,A)}${w}`;return`${M.slice(0,A)}${w}`}function pt(M,w,A){ce(w,"offset"),(M[w]===void 0||M[w+A]===void 0)&&He(w,M.length-(A+1))}function ye(M,w,A,I,L,j){if(M>A||M<w){const V=typeof w=="bigint"?"n":"";let se;throw w===0||w===BigInt(0)?se=`>= 0${V} and < 2${V} ** ${(j+1)*8}${V}`:se=`>= -(2${V} ** ${(j+1)*8-1}${V}) and < 2 ** ${(j+1)*8-1}${V}`,new ge.ERR_OUT_OF_RANGE("value",se,M)}pt(I,L,j)}function ce(M,w){if(typeof M!="number")throw new ge.ERR_INVALID_ARG_TYPE(w,"number",M)}function He(M,w,A){throw Math.floor(M)!==M?(ce(M,A),new ge.ERR_OUT_OF_RANGE("offset","an integer",M)):w<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${w}`,M)}const xe=/[^+/0-9A-Za-z-_]/g;function _e(M){if(M=M.split("=")[0],M=M.trim().replace(xe,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function Ft(M,w){w=w||1/0;let A;const I=M.length;let L=null;const j=[];for(let V=0;V<I;++V){if(A=M.charCodeAt(V),A>55295&&A<57344){if(!L){if(A>56319){(w-=3)>-1&&j.push(239,191,189);continue}else if(V+1===I){(w-=3)>-1&&j.push(239,191,189);continue}L=A;continue}if(A<56320){(w-=3)>-1&&j.push(239,191,189),L=A;continue}A=(L-55296<<10|A-56320)+65536}else L&&(w-=3)>-1&&j.push(239,191,189);if(L=null,A<128){if((w-=1)<0)break;j.push(A)}else if(A<2048){if((w-=2)<0)break;j.push(A>>6|192,A&63|128)}else if(A<65536){if((w-=3)<0)break;j.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((w-=4)<0)break;j.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return j}function ke(M){const w=[];for(let A=0;A<M.length;++A)w.push(M.charCodeAt(A)&255);return w}function Oe(M,w){let A,I,L;const j=[];for(let V=0;V<M.length&&!((w-=2)<0);++V)A=M.charCodeAt(V),I=A>>8,L=A%256,j.push(L),j.push(I);return j}function Vr(M){return e.toByteArray(_e(M))}function Se(M,w,A,I){let L;for(L=0;L<I&&!(L+A>=w.length||L>=M.length);++L)w[L+A]=M[L];return L}function we(M,w){return M instanceof w||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===w.name}function Mr(M){return M!==M}const Te=(function(){const M="0123456789abcdef",w=new Array(256);for(let A=0;A<16;++A){const I=A*16;for(let L=0;L<16;++L)w[I+L]=M[A]+M[L]}return w})();function ve(M){return typeof BigInt>"u"?bn:M}function bn(){throw new Error("BigInt not supported")}})(Aa)),Aa}function T3(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Cu(r,...e){if(!T3(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${r.length}`)}function b1(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function M3(r,e){Cu(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Ea=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sa=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),hr=(r,e)=>r<<32-e|r>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function B3(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Tu(r){return typeof r=="string"&&(r=B3(r)),Cu(r),r}let k3=class{clone(){return this._cloneInto()}};function O3(r){const e=n=>r().update(Tu(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function jg(r=32){if(Ea&&typeof Ea.getRandomValues=="function")return Ea.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}function I3(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),c=n?4:0,f=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+f,a,n)}const R3=(r,e,t)=>r&e^~r&t,D3=(r,e,t)=>r&e^r&t^e&t;let P3=class extends k3{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Sa(this.buffer)}update(e){b1(this);const{view:t,buffer:n,blockLen:i}=this;e=Tu(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Sa(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){b1(this),M3(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let l=o;l<i;l++)t[l]=0;I3(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Sa(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)a.setUint32(4*l,d[l],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(n),e}};const N3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Kr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zr=new Uint32Array(64);let L3=class extends P3{constructor(){super(64,32,8,!1),this.A=Kr[0]|0,this.B=Kr[1]|0,this.C=Kr[2]|0,this.D=Kr[3]|0,this.E=Kr[4]|0,this.F=Kr[5]|0,this.G=Kr[6]|0,this.H=Kr[7]|0}get(){const{A:e,B:t,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,t,n,i,s,o,a,c]}set(e,t,n,i,s,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let l=0;l<16;l++,t+=4)Zr[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const g=Zr[l-15],y=Zr[l-2],m=hr(g,7)^hr(g,18)^g>>>3,x=hr(y,17)^hr(y,19)^y>>>10;Zr[l]=x+Zr[l-7]+m+Zr[l-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:f,H:d}=this;for(let l=0;l<64;l++){const g=hr(a,6)^hr(a,11)^hr(a,25),y=d+g+R3(a,c,f)+N3[l]+Zr[l]|0,x=(hr(n,2)^hr(n,13)^hr(n,22))+D3(n,i,s)|0;d=f,f=c,c=a,a=o+y|0,o=s,s=i,i=n,n=y+x|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,c,f,d)}roundClean(){Zr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const g1=O3(()=>new L3);function H3(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function pi(r,...e){if(!H3(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${r.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const U3=r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength),Ws=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),$3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$3)throw new Error("Non little-endian hardware is not supported");const F3=(r,e)=>(Object.assign(e,r),e);var gn={},y1;function q3(){if(y1)return gn;y1=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.bech32m=gn.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={};for(let f=0;f<r.length;f++){const d=r.charAt(f);e[d]=f}function t(f){const d=f>>25;return(f&33554431)<<5^-(d>>0&1)&996825010^-(d>>1&1)&642813549^-(d>>2&1)&513874426^-(d>>3&1)&1027748829^-(d>>4&1)&705979059}function n(f){let d=1;for(let l=0;l<f.length;++l){const g=f.charCodeAt(l);if(g<33||g>126)return"Invalid prefix ("+f+")";d=t(d)^g>>5}d=t(d);for(let l=0;l<f.length;++l){const g=f.charCodeAt(l);d=t(d)^g&31}return d}function i(f,d,l,g){let y=0,m=0;const x=(1<<l)-1,E=[];for(let B=0;B<f.length;++B)for(y=y<<d|f[B],m+=d;m>=l;)m-=l,E.push(y>>m&x);if(g)m>0&&E.push(y<<l-m&x);else{if(m>=d)return"Excess padding";if(y<<l-m&x)return"Non-zero padding"}return E}function s(f){return i(f,8,5,!0)}function o(f){const d=i(f,5,8,!1);if(Array.isArray(d))return d}function a(f){const d=i(f,5,8,!1);if(Array.isArray(d))return d;throw new Error(d)}function c(f){let d;f==="bech32"?d=1:d=734539939;function l(x,E,B){if(B=B||90,x.length+7+E.length>B)throw new TypeError("Exceeds length limit");x=x.toLowerCase();let R=n(x);if(typeof R=="string")throw new Error(R);let D=x+"1";for(let H=0;H<E.length;++H){const N=E[H];if(N>>5!==0)throw new Error("Non 5-bit word");R=t(R)^N,D+=r.charAt(N)}for(let H=0;H<6;++H)R=t(R);R^=d;for(let H=0;H<6;++H){const N=R>>(5-H)*5&31;D+=r.charAt(N)}return D}function g(x,E){if(E=E||90,x.length<8)return x+" too short";if(x.length>E)return"Exceeds length limit";const B=x.toLowerCase(),R=x.toUpperCase();if(x!==B&&x!==R)return"Mixed-case string "+x;x=B;const D=x.lastIndexOf("1");if(D===-1)return"No separator character for "+x;if(D===0)return"Missing prefix for "+x;const H=x.slice(0,D),N=x.slice(D+1);if(N.length<6)return"Data too short";let U=n(H);if(typeof U=="string")return U;const W=[];for(let Y=0;Y<N.length;++Y){const q=N.charAt(Y),J=e[q];if(J===void 0)return"Unknown character "+q;U=t(U)^J,!(Y+6>=N.length)&&W.push(J)}return U!==d?"Invalid checksum for "+x:{prefix:H,words:W}}function y(x,E){const B=g(x,E);if(typeof B=="object")return B}function m(x,E){const B=g(x,E);if(typeof B=="object")return B;throw new Error(B)}return{decodeUnsafe:y,decode:m,encode:l,toWords:s,fromWordsUnsafe:o,fromWords:a}}return gn.bech32=c("bech32"),gn.bech32m=c("bech32m"),gn}var Bt=q3(),Tc=C3();const Mu=Uint8Array;function fr(r,...e){return e.reduce((t,n)=>{const i=Q(n);for(const s of i)r.push(s);return t},r)}function Fe(...r){return new Uint8Array(fr([],...r))}function sn(r,e){return Tc.Buffer.from(Q(r)).toString(e)}function Q(r,e){if(r instanceof Uint8Array)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(typeof r=="string"){if(e!==void 0)return Tc.Buffer.from(r,e);const n=r.startsWith("0x")?r.slice(2):r,i=n.length%2===0?n:`0${n}`,s=Tc.Buffer.from(i,"hex");if(s.length*2!==i.length)throw new Error(`Invalid bytes ${r}`);return s}if(Array.from(r).some(n=>n<0||255<n))throw new Error(`Invalid bytes ${JSON.stringify(r)}`);return new Uint8Array(r)}function o0(r,e){if(r===e)return!0;const t=Q(r),n=Q(e);if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==n[i])return!1;return!0}const ti=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function mo(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function lt(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function dr(r,...e){if(!mo(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function a0(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");lt(r.outputLen),lt(r.blockLen)}function cn(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function c0(r,e){dr(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function on(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function Lt(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function Gs(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function pr(r,e){return r<<32-e|r>>>e}function me(r,e){return r<<e|r>>>32-e>>>0}const Bu=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ku(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}const Or=Bu?r=>r:r=>ku(r);function j3(r){for(let e=0;e<r.length;e++)r[e]=ku(r[e]);return r}const wr=Bu?r=>r:j3,Ou=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",z3=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function fi(r){if(dr(r),Ou)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=z3[r[t]];return e}const Br={_0:48,_9:57,A:65,F:70,a:97,f:102};function m1(r){if(r>=Br._0&&r<=Br._9)return r-Br._0;if(r>=Br.A&&r<=Br.F)return r-(Br.A-10);if(r>=Br.a&&r<=Br.f)return r-(Br.a-10)}function no(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(Ou)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const o=m1(r.charCodeAt(s)),a=m1(r.charCodeAt(s+1));if(o===void 0||a===void 0){const c=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}const V3=async()=>{};async function w1(r,e,t){let n=Date.now();for(let i=0;i<r;i++){t(i);const s=Date.now()-n;s>=0&&s<e||(await V3(),n+=s)}}function f0(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function Lr(r){return typeof r=="string"&&(r=f0(r)),dr(r),r}function v1(r){return typeof r=="string"&&(r=f0(r)),dr(r),r}function vr(...r){let e=0;for(let n=0;n<r.length;n++){const i=r[n];dr(i),e+=i.length}const t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}function Iu(r,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(r,e)}let wo=class{};function d0(r){const e=n=>r().update(Lr(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function K3(r){const e=(n,i)=>r(i).update(Lr(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function Dn(r=32){if(ti&&typeof ti.getRandomValues=="function")return ti.getRandomValues(new Uint8Array(r));if(ti&&typeof ti.randomBytes=="function")return Uint8Array.from(ti.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}const Z3=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);function W3(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),c=n?4:0,f=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+f,a,n)}function G3(r,e,t){return r&e^~r&t}function X3(r,e,t){return r&e^r&t^e&t}class Ru extends wo{constructor(e,t,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Gs(this.buffer)}update(e){cn(this),e=Lr(e),dr(e);const{view:t,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Gs(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cn(this),c0(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,Lt(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let l=o;l<i;l++)t[l]=0;W3(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Gs(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)a.setUint32(4*l,d[l],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Wr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ds=BigInt(2**32-1),x1=BigInt(32);function Du(r,e=!1){return e?{h:Number(r&Ds),l:Number(r>>x1&Ds)}:{h:Number(r>>x1&Ds)|0,l:Number(r&Ds)|0}}function Y3(r,e=!1){const t=r.length;let n=new Uint32Array(t),i=new Uint32Array(t);for(let s=0;s<t;s++){const{h:o,l:a}=Du(r[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const Pu=(r,e,t)=>r>>>t|e<<32-t,Nu=(r,e,t)=>r<<32-t|e>>>t,Q3=(r,e,t)=>r<<64-t|e>>>t-32,J3=(r,e,t)=>r>>>t-32|e<<64-t,e4=(r,e)=>e,t4=(r,e)=>r,r4=(r,e,t)=>r<<t|e>>>32-t,n4=(r,e,t)=>e<<t|r>>>32-t,i4=(r,e,t)=>e<<t-32|r>>>64-t,s4=(r,e,t)=>r<<t-32|e>>>64-t;function Lu(r,e,t,n){const i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const Hu=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),Uu=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,ct=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ee=new Uint32Array(32);function Gr(r,e,t,n,i,s){const o=i[s],a=i[s+1];let c=ee[2*r],f=ee[2*r+1],d=ee[2*e],l=ee[2*e+1],g=ee[2*t],y=ee[2*t+1],m=ee[2*n],x=ee[2*n+1],E=Hu(c,d,o);f=Uu(E,f,l,a),c=E|0,{Dh:x,Dl:m}={Dh:x^f,Dl:m^c},{Dh:x,Dl:m}={Dh:e4(x,m),Dl:t4(x)},{h:y,l:g}=Lu(y,g,x,m),{Bh:l,Bl:d}={Bh:l^y,Bl:d^g},{Bh:l,Bl:d}={Bh:Pu(l,d,24),Bl:Nu(l,d,24)},ee[2*r]=c,ee[2*r+1]=f,ee[2*e]=d,ee[2*e+1]=l,ee[2*t]=g,ee[2*t+1]=y,ee[2*n]=m,ee[2*n+1]=x}function Xr(r,e,t,n,i,s){const o=i[s],a=i[s+1];let c=ee[2*r],f=ee[2*r+1],d=ee[2*e],l=ee[2*e+1],g=ee[2*t],y=ee[2*t+1],m=ee[2*n],x=ee[2*n+1],E=Hu(c,d,o);f=Uu(E,f,l,a),c=E|0,{Dh:x,Dl:m}={Dh:x^f,Dl:m^c},{Dh:x,Dl:m}={Dh:Pu(x,m,16),Dl:Nu(x,m,16)},{h:y,l:g}=Lu(y,g,x,m),{Bh:l,Bl:d}={Bh:l^y,Bl:d^g},{Bh:l,Bl:d}={Bh:Q3(l,d,63),Bl:J3(l,d,63)},ee[2*r]=c,ee[2*r+1]=f,ee[2*e]=d,ee[2*e+1]=l,ee[2*t]=g,ee[2*t+1]=y,ee[2*n]=m,ee[2*n+1]=x}function o4(r,e={},t,n,i){if(lt(t),r<0||r>t)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>t))throw new Error("key length must be undefined or 1.."+t);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class a4 extends wo{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,lt(e),lt(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=on(this.buffer)}update(e){cn(this),e=Lr(e),dr(e);const{blockLen:t,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===t&&(wr(i),this.compress(i,0,!1),wr(i),this.pos=0);const f=Math.min(t-this.pos,s-c),d=o+c;if(f===t&&!(d%4)&&c+f<s){const l=new Uint32Array(a,d,Math.floor((s-c)/4));wr(l);for(let g=0;c+t<s;g+=i.length,c+=t)this.length+=t,this.compress(l,g,!1);wr(l);continue}n.set(e.subarray(c,c+f),this.pos),this.pos+=f,this.length+=f,c+=f}return this}digestInto(e){cn(this),c0(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,Lt(this.buffer.subarray(t)),wr(n),this.compress(n,0,!0),wr(n);const i=on(e);this.get().forEach((s,o)=>i[o]=Or(s))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(t),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class c4 extends a4{constructor(e={}){const t=e.dkLen===void 0?64:e.dkLen;super(128,t),this.v0l=ct[0]|0,this.v0h=ct[1]|0,this.v1l=ct[2]|0,this.v1h=ct[3]|0,this.v2l=ct[4]|0,this.v2h=ct[5]|0,this.v3l=ct[6]|0,this.v3h=ct[7]|0,this.v4l=ct[8]|0,this.v4h=ct[9]|0,this.v5l=ct[10]|0,this.v5h=ct[11]|0,this.v6l=ct[12]|0,this.v6h=ct[13]|0,this.v7l=ct[14]|0,this.v7h=ct[15]|0,o4(t,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Lr(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Lr(s);const a=on(s);this.v4l^=Or(a[0]),this.v4h^=Or(a[1]),this.v5l^=Or(a[2]),this.v5h^=Or(a[3])}if(i!==void 0){i=Lr(i);const a=on(i);this.v6l^=Or(a[0]),this.v6h^=Or(a[1]),this.v7l^=Or(a[2]),this.v7h^=Or(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:f,v4h:d,v5l:l,v5h:g,v6l:y,v6h:m,v7l:x,v7h:E}=this;return[e,t,n,i,s,o,a,c,f,d,l,g,y,m,x,E]}set(e,t,n,i,s,o,a,c,f,d,l,g,y,m,x,E){this.v0l=e|0,this.v0h=t|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=f|0,this.v4h=d|0,this.v5l=l|0,this.v5h=g|0,this.v6l=y|0,this.v6h=m|0,this.v7l=x|0,this.v7h=E|0}compress(e,t,n){this.get().forEach((c,f)=>ee[f]=c),ee.set(ct,16);let{h:i,l:s}=Du(BigInt(this.length));ee[24]=ct[8]^s,ee[25]=ct[9]^i,n&&(ee[28]=~ee[28],ee[29]=~ee[29]);let o=0;const a=Z3;for(let c=0;c<12;c++)Gr(0,4,8,12,e,t+2*a[o++]),Xr(0,4,8,12,e,t+2*a[o++]),Gr(1,5,9,13,e,t+2*a[o++]),Xr(1,5,9,13,e,t+2*a[o++]),Gr(2,6,10,14,e,t+2*a[o++]),Xr(2,6,10,14,e,t+2*a[o++]),Gr(3,7,11,15,e,t+2*a[o++]),Xr(3,7,11,15,e,t+2*a[o++]),Gr(0,5,10,15,e,t+2*a[o++]),Xr(0,5,10,15,e,t+2*a[o++]),Gr(1,6,11,12,e,t+2*a[o++]),Xr(1,6,11,12,e,t+2*a[o++]),Gr(2,7,8,13,e,t+2*a[o++]),Xr(2,7,8,13,e,t+2*a[o++]),Gr(3,4,9,14,e,t+2*a[o++]),Xr(3,4,9,14,e,t+2*a[o++]);this.v0l^=ee[0]^ee[16],this.v0h^=ee[1]^ee[17],this.v1l^=ee[2]^ee[18],this.v1h^=ee[3]^ee[19],this.v2l^=ee[4]^ee[20],this.v2h^=ee[5]^ee[21],this.v3l^=ee[6]^ee[22],this.v3h^=ee[7]^ee[23],this.v4l^=ee[8]^ee[24],this.v4h^=ee[9]^ee[25],this.v5l^=ee[10]^ee[26],this.v5h^=ee[11]^ee[27],this.v6l^=ee[12]^ee[28],this.v6h^=ee[13]^ee[29],this.v7l^=ee[14]^ee[30],this.v7h^=ee[15]^ee[31],Lt(ee)}destroy(){this.destroyed=!0,Lt(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const f4=K3(r=>new c4(r)),d4=f4;function F(r){return`0x${sn(Q(r),"hex")}`}const u4="ckb-default-hash";class vo{constructor(e=32,t=u4){this.hasher=d4.create({personalization:t,dkLen:e})}update(e){return this.hasher.update(Q(e)),this}digest(){return F(this.hasher.digest())}}function Dt(...r){const e=new vo;return r.forEach(t=>e.update(t)),e.digest()}function u0(r,...e){let t=K(r);return e.forEach(n=>{const i=K(n);i<t&&(t=i)}),t}function l0(r,...e){let t=K(r);return e.forEach(n=>{const i=K(n);i>t&&(t=i)}),t}function K(r){if(typeof r=="bigint")return r;if(r==="0x")return BigInt(0);if(typeof r=="string"||typeof r=="number")return BigInt(r);const e=F(r);return BigInt(e)}function vt(r){return`0x${K(r).toString(16)}`}function Pe(r,e){return sr(r,e)}function sr(r,e){return Pn(r,e).reverse()}function Pn(r,e){let t=K(r);if(t<K(0)){if(e==null)throw Error("negative number can not be serialized without knowing bytes length");if(t=(K(1)<<K(8)*K(e))+t,t<0)throw Error("negative number underflow")}const n=Q(t.toString(16));if(e==null)return n;if(n.length>e)throw Error("number overflow");return Fe("00".repeat(e-n.length),n)}function Wn(r){return Sn(r)}function Sn(r){return xo(Q(r).map(e=>e).reverse())}function xo(r){return K(Q(r))}const _1=K(1e7),l4=K(1e3);function ji([r,e]){return[K(r),K(e)]}function he(r,e){if(e!=null)return r(e)}async function or(r,e,t){if(t===void 0){if(r.length===0)throw new TypeError("Reduce of empty array with no initial value");t=r[0],r=r.slice(1)}return r.reduce((n,i,s,o)=>n.then(a=>Promise.resolve(e(a,i,s,o)).then(c=>c??a)),Promise.resolve(t))}function h0(r){return new Promise(e=>setTimeout(e,Number(K(r))))}function p0(r){return/webview|wv|ip((?!.*Safari)|(?=.*like Safari))/i.test(r)}function $u(r){return JSON.stringify(r,(e,t)=>typeof t=="bigint"?vt(t):t)}class fn{constructor(e,t){this.cellDep=e,this.type=t}static from(e){return e instanceof fn?e:new fn(Yt.from(e.cellDep),he(be.from,e.type))}}let cs=class Mc{constructor(e,t,n){this.codeHash=e,this.hashType=t,this.cellDeps=n}static from(e){return e instanceof Mc?e:new Mc(F(e.codeHash),Xn(e.hashType),e.cellDeps.map(t=>fn.from(t)))}};class an{constructor(e,t,n,i,s,o,a){this.transaction=e,this.status=t,this.cycles=n,this.blockHash=i,this.blockNumber=s,this.txIndex=o,this.reason=a}static from(e){return e instanceof an?e:new an(fe.from(e.transaction),e.status,he(K,e.cycles),he(F,e.blockHash),he(K,e.blockNumber),he(K,e.txIndex),e.reason)}clone(){return new an(this.transaction.clone(),this.status,this.cycles,this.blockHash,this.blockNumber,this.txIndex,this.reason)}}class $n{constructor(e,t,n,i,s,o,a){this.script=e,this.scriptLenRange=t,this.outputData=n,this.outputDataSearchMode=i,this.outputDataLenRange=s,this.outputCapacityRange=o,this.blockRange=a}static from(e){return e instanceof $n?e:new $n(he(be.from,e.script),he(ji,e.scriptLenRange),he(F,e.outputData),e.outputDataSearchMode??void 0,he(ji,e.outputDataLenRange),he(ji,e.outputCapacityRange),he(ji,e.blockRange))}}class dn{constructor(e,t,n,i,s){this.script=e,this.scriptType=t,this.scriptSearchMode=n,this.filter=i,this.withData=s}static from(e){return e instanceof dn?e:new dn(be.from(e.script),e.scriptType,e.scriptSearchMode,he($n.from,e.filter),e.withData??void 0)}}class bi{constructor(e,t,n,i,s){this.script=e,this.scriptType=t,this.scriptSearchMode=n,this.filter=i,this.groupByTransaction=s}static from(e){return e instanceof bi?e:new bi(be.from(e.script),e.scriptType,e.scriptSearchMode,he($n.from,e.filter),e.groupByTransaction??void 0)}}class Qt{constructor(e,t,n,i,s,o,a,c,f,d,l,g){this.compactTarget=e,this.dao=t,this.epoch=n,this.extraHash=i,this.hash=s,this.nonce=o,this.number=a,this.parentHash=c,this.proposalsHash=f,this.timestamp=d,this.transactionsRoot=l,this.version=g}static from(e){return e instanceof Qt?e:new Qt(K(e.compactTarget),{c:K(e.dao.c),ar:K(e.dao.ar),s:K(e.dao.s),u:K(e.dao.u)},Oo(e.epoch),F(e.extraHash),F(e.hash),K(e.nonce),K(e.number),F(e.parentHash),F(e.proposalsHash),K(e.timestamp),F(e.transactionsRoot),K(e.version))}}class gi{constructor(e,t){this.header=e,this.proposals=t}static from(e){return e instanceof gi?e:new gi(Qt.from(e.header),e.proposals.map(F))}}class yi{constructor(e,t,n,i){this.header=e,this.proposals=t,this.transactions=n,this.uncles=i}static from(e){return e instanceof yi?e:new yi(Qt.from(e.header),e.proposals.map(F),e.transactions.map(fe.from),e.uncles.map(gi.from))}}class $r extends Error{constructor(e){super(`Client request error ${e.message}`),this.code=e.code,this.data=e.data}}class b0 extends $r{constructor(e,t){super(e),this.outPoint=Le.from(t)}}class g0 extends $r{constructor(e,t,n,i,s,o){super(e),this.source=t,this.errorCode=i,this.scriptHashType=s,this.sourceIndex=K(n),this.scriptCodeHash=F(o)}}class y0 extends $r{constructor(e,t){super(e),this.txHash=F(t)}}class m0 extends $r{constructor(e,t,n){super(e),this.currentFee=K(t),this.leastFee=K(n)}}class w0 extends $r{constructor(e){const t=K(e).toString();super({message:`Wait transaction timeout ${t}ms`,data:JSON.stringify({timeout:t})})}}class v0 extends $r{constructor(e,t){const n=K(e).toString(),i=K(t).toString();super({message:`Max fee rate exceeded limit ${n}, actual ${i}. Developer might forgot to complete transaction fee before sending. See https://api.ckbccc.com/classes/_ckb_ccc_core.index.ccc.Transaction.html#completeFeeBy.`,data:JSON.stringify({limit:n,actual:i})})}}const Fu=K(1e3*10*50);function qu(r,e,t){if(!e)return!0;const n=F(r),i=F(e);return!(t==="exact"&&n!==i||t==="prefix"&&!n.startsWith(i)||t==="partial"&&n.search(i)===-1)}function Ps(r,e,t){if(!e)return!0;if(!r)return!1;const n=be.from(r),i=be.from(e);return n.codeHash!==i.codeHash||n.hashType!==i.hashType?!1:qu(n.args,i==null?void 0:i.args,t)}function Bc(r,e){if(!e)return!0;const t=K(r),[n,i]=ji(e);return n<=t&&t<i}function A1(r,e){if(!e)return!0;const t=r?Q(be.from(r).args).length+33:0;return Bc(t,e)}function h4(r,e){var i,s,o,a,c,f,d,l;const t=dn.from(r),n=xt.from(e);return!(t.scriptType==="lock"&&(!Ps(n.cellOutput.lock,t.script,t.scriptSearchMode)||!Ps(n.cellOutput.type,(i=t.filter)==null?void 0:i.script,"prefix")||!A1(n.cellOutput.type,(s=t.filter)==null?void 0:s.scriptLenRange))||t.scriptType==="type"&&(!Ps(n.cellOutput.type,t.script,t.scriptSearchMode)||!Ps(n.cellOutput.lock,(o=t.filter)==null?void 0:o.script,"prefix")||!A1(n.cellOutput.lock,(a=t.filter)==null?void 0:a.scriptLenRange))||!qu(n.outputData,(c=t.filter)==null?void 0:c.outputData,((f=t.filter)==null?void 0:f.outputDataSearchMode)??"prefix")||!Bc(Q(n.outputData).length,(d=t.filter)==null?void 0:d.outputDataLenRange)||!Bc(n.cellOutput.capacity,(l=t.filter)==null?void 0:l.outputCapacityRange))}class Ns extends Map{constructor(e){if(super(),this.capacity=e,this.lru=new Set,!Number.isInteger(e)||e<1)throw new Error("Capacity must be a positive integer")}get(e){if(super.has(e))return this.lru.delete(e),this.lru.add(e),super.get(e)}set(e,t){if(super.set(e,t),this.lru.delete(e),this.lru.add(e),this.lru.size>this.capacity){const n=this.lru.keys().next().value;this.delete(n)}return this}delete(e){return super.delete(e)?(this.lru.delete(e),!0):!1}clear(){super.clear(),this.lru.clear()}}class x0{async markUsable(...e){return await this.recordCells(...e),this.markUsableNoCache(...e)}async markTransactions(...e){await Promise.all([this.recordTransactionResponses(e.flat().map(t=>({transaction:t,status:"sent"}))),...e.flat().map(t=>{const n=fe.from(t),i=n.hash();return Promise.all([...n.inputs.map(s=>this.markUnusable(s.previousOutput)),...n.outputs.map((s,o)=>this.markUsable({cellOutput:s,outputData:n.outputsData[o],outPoint:{txHash:i,index:o}}))])})])}async recordCells(...e){}async getCell(e){}async recordTransactionResponses(...e){}async getTransactionResponse(e){}async recordTransactions(...e){return this.recordTransactionResponses(e.flat().map(t=>({transaction:t,status:"unknown"})))}async getTransaction(e){var t;return(t=await this.getTransactionResponse(e))==null?void 0:t.transaction}async recordHeaders(...e){}async getHeaderByHash(e){}async getHeaderByNumber(e){}async recordBlocks(...e){}async getBlockByHash(e){}async getBlockByNumber(e){}hasHeaderConfirmed(e){return K(Date.now())-e.timestamp>=Fu}}class _0 extends x0{constructor(e=512,t=256,n=128,i=Fu){super(),this.maxCells=e,this.maxTxs=t,this.maxBlocks=n,this.cells=new Ns(this.maxCells),this.knownTransactions=new Ns(this.maxTxs),this.knownBlockHashes=new Ns(this.maxBlocks),this.knownBlocks=new Ns(this.maxBlocks),this.confirmedBlockTime=K(i)}async markUsableNoCache(...e){e.flat().forEach(t=>{const n=xt.from(t).clone(),i=F(n.outPoint.toBytes());this.cells.set(i,[!0,n])})}async markUnusable(...e){e.flat().forEach(t=>{const n=Le.from(t),i=F(n.toBytes()),s=this.cells.get(i);if(s){s[0]=!1;return}this.cells.set(i,[!1,{outPoint:n}])})}async clear(){this.cells.clear(),this.knownTransactions.clear()}async*findCells(e){for(const[t,[n,i]]of this.cells.entries())n&&h4(e,i)&&(this.cells.get(t),yield i.clone())}async isUnusable(e){var n;const t=Le.from(e);return!(((n=this.cells.get(F(t.toBytes())))==null?void 0:n[0])??!0)}async recordCells(...e){e.flat().map(t=>{const n=xt.from(t),i=F(n.outPoint.toBytes());this.cells.get(i)||this.cells.set(i,[void 0,n])})}async getCell(e){var i;const t=Le.from(e),n=(i=this.cells.get(F(t.toBytes())))==null?void 0:i[1];if(n&&n.cellOutput&&n.outputData)return xt.from(n.clone())}async recordTransactionResponses(...e){e.flat().map(t=>{const n=an.from(t);this.knownTransactions.set(n.transaction.hash(),n)})}async getTransactionResponse(e){var n;const t=F(e);return(n=this.knownTransactions.get(t))==null?void 0:n.clone()}async recordHeaders(...e){e.flat().map(t=>{const n=Qt.from(t);this.knownBlockHashes.set(n.number,n.hash),!this.knownBlocks.get(n.hash)&&this.knownBlocks.set(n.hash,{header:n})})}async getHeaderByHash(e){const t=F(e),n=this.knownBlocks.get(t);return n&&this.knownBlockHashes.get(n.header.number),n==null?void 0:n.header}async getHeaderByNumber(e){const t=K(e),n=this.knownBlockHashes.get(t);if(n)return this.getHeaderByHash(n)}async recordBlocks(...e){e.flat().map(t=>{const n=yi.from(t);this.knownBlockHashes.set(n.header.number,n.header.hash),this.knownBlocks.set(n.header.hash,n)})}async getBlockByHash(e){const t=F(e),n=this.knownBlocks.get(t);if(n&&(this.knownBlockHashes.get(n.header.number),"transactions"in n))return n}async getBlockByNumber(e){const t=K(e),n=this.knownBlockHashes.get(t);if(n)return this.getBlockByHash(n)}hasHeaderConfirmed(e){return K(Date.now())-e.timestamp>=this.confirmedBlockTime}}function _o(r,e=8){const t=Gn(r).toString();if(e===0)return t;const n=t.length<=e?"0":t.slice(0,-e),i=t.slice(-e).padStart(e,"0").replace(/0*$/,"");return i===""?n:`${n}.${i}`}function Gn(r,e=8){if(typeof r=="bigint")return r;const[t,n]=(typeof r=="number"?r.toFixed(e):r.toString()).split("."),i=BigInt(t.padEnd(t.length+e,"0"));return n===void 0?i:i+BigInt(n.slice(0,e).padEnd(e,"0"))}const Ue=0n,ju=Gn("1");class A0{constructor(e){this.cache=(e==null?void 0:e.cache)??new _0}async getFeeRate(e,t){const n=l0((await this.getFeeRateStatistics(e)).median,l4),i=K((t==null?void 0:t.maxFeeRate)??_1);return i===Ue?n:u0(n,i)}async getBlockByNumber(e,t,n){const i=await this.cache.getBlockByNumber(e);if(i)return i;const s=await this.getBlockByNumberNoCache(e,t,n);return s&&this.cache.hasHeaderConfirmed(s.header)&&await this.cache.recordBlocks(s),s}async getBlockByHash(e,t,n){const i=await this.cache.getBlockByHash(e);if(i)return i;const s=await this.getBlockByHashNoCache(e,t,n);return s&&this.cache.hasHeaderConfirmed(s.header)&&await this.cache.recordBlocks(s),s}async getHeaderByNumber(e,t){const n=await this.cache.getHeaderByNumber(e);if(n)return n;const i=await this.getHeaderByNumberNoCache(e,t);return i&&this.cache.hasHeaderConfirmed(i)&&await this.cache.recordHeaders(i),i}async getHeaderByHash(e,t){const n=await this.cache.getHeaderByHash(e);if(n)return n;const i=await this.getHeaderByHashNoCache(e,t);return i&&this.cache.hasHeaderConfirmed(i)&&await this.cache.recordHeaders(i),i}async getCell(e){const t=Le.from(e),n=await this.cache.getCell(t);if(n)return n;const i=await this.getTransaction(t.txHash);if(!i)return;const s=i.transaction.getOutput(t.index);if(!s)return;const o=xt.from({...s,outPoint:t});return await this.cache.recordCells(o),o}async getCellWithHeader(e){const t=Le.from(e),n=await this.getTransactionWithHeader(t.txHash);if(!n)return;const{transaction:i,header:s}=n,o=i.transaction.getOutput(t.index);if(!o)return;const a=xt.from({...o,outPoint:t});return await this.cache.recordCells(a),{cell:a,header:s}}async getCellLive(e,t,n){const i=await this.getCellLiveNoCache(e,t,n);return t&&i&&await this.cache.recordCells(i),i}async findCellsPaged(e,t,n,i){const s=await this.findCellsPagedNoCache(e,t,n,i);return await this.cache.recordCells(s.cells),s}async*findCellsOnChain(e,t,n=10){let i;for(;;){const{cells:s,lastCursor:o}=await this.findCellsPaged(e,t,n,i);for(const a of s)yield a;if(s.length===0||s.length<n)return;i=o}}async*findCells(e,t,n=10){const i=dn.from(e),s=[];for await(const o of this.cache.findCells(i))s.push(o.outPoint),yield o;for await(const o of this.findCellsOnChain(i,t,n))await this.cache.isUnusable(o.outPoint)||s.some(a=>a.eq(o.outPoint))||(yield o)}findCellsByLock(e,t,n=!0,i,s=10){return this.findCells({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{script:t},withData:n},i,s)}findCellsByType(e,t=!0,n,i=10){return this.findCells({script:e,scriptType:"type",scriptSearchMode:"exact",withData:t},n,i)}async findSingletonCellByType(e,t=!1){for await(const n of this.findCellsByType(e,t,void 0,1))return n}async getCellDeps(...e){return Promise.all(e.flat().map(async t=>{const{cellDep:n,type:i}=fn.from(t);if(i===void 0)return n;const s=await this.findSingletonCellByType(i);return s?Yt.from({outPoint:s.outPoint,depType:n.depType}):n}))}async*findTransactions(e,t,n=10){let i;for(;;){const{transactions:s,lastCursor:o}=await this.findTransactionsPaged(e,t,n,i);for(const a of s)yield a;if(s.length===0||s.length<n)return;i=o}}findTransactionsByLock(e,t,n,i,s=10){return this.findTransactions({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{script:t},groupByTransaction:n},i,s)}findTransactionsByType(e,t,n,i=10){return this.findTransactions({script:e,scriptType:"type",scriptSearchMode:"exact",groupByTransaction:t},n,i)}async getBalanceSingle(e){return this.getCellsCapacity({script:e,scriptType:"lock",scriptSearchMode:"exact",filter:{scriptLenRange:[0,1],outputDataLenRange:[0,1]}})}async getBalance(e){return or(e,async(t,n)=>t+await this.getBalanceSingle(n),Ue)}async sendTransaction(e,t,n){const i=fe.from(e),s=K((n==null?void 0:n.maxFeeRate)??_1),o=await i.getFeeRate(this);if(s>Ue&&o>s)throw new v0(s,o);const a=await this.sendTransactionNoCache(i,t);return await this.cache.markTransactions(i),a}async getTransaction(e){const t=F(e),n=await this.getTransactionNoCache(t);return n?(await this.cache.recordTransactionResponses(n),n):this.cache.getTransactionResponse(t)}async getTransactionWithHeader(e){const t=F(e),n=await this.cache.getTransactionResponse(t);if(n!=null&&n.blockHash){const s=await this.getHeaderByHash(n.blockHash);if(s&&this.cache.hasHeaderConfirmed(s))return{transaction:n,header:s}}const i=await this.getTransactionNoCache(t);if(i)return await this.cache.recordTransactionResponses(i),{transaction:i,header:i.blockHash?await this.getHeaderByHash(i.blockHash):void 0}}async waitTransaction(e,t=0,n=6e4,i=2e3){const s=Date.now();let o;const a=async()=>{const c=await this.getTransaction(e);if(!(!c||c.blockNumber==null||["sent","pending","proposed"].includes(c.status)))return o=c,c};for(;;){if(o){if(t===0)return o;if((await this.getTipHeader()).number-o.blockNumber>=t)return o}else if(await a())continue;if(Date.now()-s+i>=n)throw new w0(n);await h0(i)}}}var tn=null;typeof WebSocket<"u"?tn=WebSocket:typeof MozWebSocket<"u"?tn=MozWebSocket:typeof global<"u"?tn=global.WebSocket||global.MozWebSocket:typeof window<"u"?tn=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(tn=self.WebSocket||self.MozWebSocket);var te;(function(r){r.NervosDao="NervosDao",r.Secp256k1Blake160="Secp256k1Blake160",r.Secp256k1Multisig="Secp256k1Multisig",r.Secp256k1MultisigV2="Secp256k1MultisigV2",r.AnyoneCanPay="AnyoneCanPay",r.TypeId="TypeId",r.XUdt="XUdt",r.JoyId="JoyId",r.COTA="COTA",r.PWLock="PWLock",r.OmniLock="OmniLock",r.NostrLock="NostrLock",r.UniqueType="UniqueType",r.AlwaysSuccess="AlwaysSuccess",r.InputTypeProxyLock="InputTypeProxyLock",r.OutputTypeProxyLock="OutputTypeProxyLock",r.LockProxyLock="LockProxyLock",r.SingleUseLock="SingleUseLock",r.TypeBurnLock="TypeBurnLock",r.EasyToDiscoverType="EasyToDiscoverType",r.TimeLock="TimeLock"})(te||(te={}));const p4=Object.freeze({[te.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:2},depType:"code"}}]},[te.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}}]},[te.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:1},depType:"depGroup"}}]},[te.Secp256k1MultisigV2]:{codeHash:"0x36c971b8d41fbd94aabca77dc75e826729ac98447b46f91e00796155dddb0d29",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x6888aa39ab30c570c2c30d9d5684d3769bf77265a7973211a3c087fe8efbf738",index:0},depType:"depGroup"}}]},[te.AnyoneCanPay]:{codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:0},depType:"depGroup"}}]},[te.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[te.XUdt]:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:0},depType:"code"}}]},[te.JoyId]:{codeHash:"0xd00c84f0ec8fd441c38bc3f87a371f547190f2fcff88e642bc5bf54b9e318323",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x8a605a4402cadda69fa64fd25cbbd74058e3eb86a7a72aee3d25df278564d31b",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x2d1f2d4d1514ccc3bb4f04f5437a5ae30d00636ee57cedd2c70ab3ea75b62adc"}},{cellDep:{outPoint:{txHash:"0x8a605a4402cadda69fa64fd25cbbd74058e3eb86a7a72aee3d25df278564d31b",index:1},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xc086090432098835ec542a1b94bdd1b842c5aa1ccd1616873fe77f4a04044417"}},{cellDep:{outPoint:{txHash:"0x8a605a4402cadda69fa64fd25cbbd74058e3eb86a7a72aee3d25df278564d31b",index:2},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x165b225c6fbed7e655b024384d9083de3243375f9893706f4452858ecd694e96"}},{cellDep:{outPoint:{txHash:"0x8a605a4402cadda69fa64fd25cbbd74058e3eb86a7a72aee3d25df278564d31b",index:3},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xafb8408d0094ab944e6286aac750b9bb854ac0bcb66dfe5c60559744a700e70c"}},{cellDep:{outPoint:{txHash:"0x8a605a4402cadda69fa64fd25cbbd74058e3eb86a7a72aee3d25df278564d31b",index:4},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x773bf0647be24b4e18ef44068fd069b9de5549c4b86be227779ceb9179598ec4"}}]},[te.COTA]:{codeHash:"0x1122a4fb54697cf2e6e3a96c9d80fd398a936559b90954c6e88eb7ba0cf652df",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xabaa25237554f0d6c586dc010e7e85e6870bcfd9fb8773257ecacfbe1fd738a0",index:0},depType:"depGroup"}}]},[te.PWLock]:{codeHash:"0xbf43c3602455798c1a61a596e0d95278864c552fafe231c063b3fabf97a8febc",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x1d60cb8f4666e039f418ea94730b1a8c5aa0bf2f7781474406387462924d15d4",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x42ade2f25eb938b5dbfd3d8f07b8b07aa593d848e7ff14bdfbbea5aeb6175261"}}]},[te.OmniLock]:{codeHash:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x855508fe0f0ca25b935b070452ecaee48f6c9f1d66cd15f046616b99e948236a"}}]},[te.NostrLock]:{codeHash:"0x641a89ad2f77721b803cd50d01351c1f308444072d5fa20088567196c0574c68",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x1911208b136957d5f7c1708a8835edfe8ae1d02700d5cb2c3a6aacf4d5906306",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xfad8cb75eb0bb01718e2336002064568bc05887af107f74ed5dd501829e192f8"}}]},[te.UniqueType]:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:0},depType:"code"}}]},[te.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:0},depType:"code"}}]},[te.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:1},depType:"code"}}]},[te.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:2},depType:"code"}}]},[te.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:3},depType:"code"}}]},[te.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:4},depType:"code"}}]},[te.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:5},depType:"code"}}]},[te.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:0},depType:"code"}}]},[te.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb0ed754fb27d67fd8388c97fed914fb7998eceaa01f3e6f967e498de1ba0ac9b",index:1},depType:"code"}}]}});class b4{constructor(e,t=3e4){this.url=e,this.timeout=t}async request(e){const t=new AbortController,n=setTimeout(()=>t.abort(),this.timeout),i=await(await fetch(this.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),signal:t.signal})).json();return clearTimeout(n),i}}class g4{constructor(e,t=3e4){this.url=e,this.timeout=t,this.ongoing=new Map}request(e){const t=(()=>{if(this.socket&&this.socket.readyState!==this.socket.CLOSING&&this.socket.readyState!==this.socket.CLOSED&&this.openSocket)return this.openSocket;const n=new tn(this.url),i=({data:o})=>{const a=JSON.parse(o);if(typeof a!="object"||a===null||typeof a.id!="number")throw new Error(`Unknown response ${o}`);const c=a.id,f=this.ongoing.get(c);if(!f)return;const[d,l,g]=f;clearTimeout(g),this.ongoing.delete(c),d(a)},s=()=>{this.ongoing.forEach(([o,a,c])=>{clearTimeout(c),a(new Error("Connection closed"))}),this.ongoing.clear()};return n.onclose=s,n.onerror=s,n.onmessage=i,this.socket=n,this.openSocket=new Promise(o=>{n.readyState===n.OPEN?o(n):n.onopen=()=>{o(n)}}),this.openSocket})();return new Promise((n,i)=>{const s=[n,i,setTimeout(()=>{this.ongoing.delete(e.id),t.then(o=>o.close()).catch(o=>i(o)),i(new Error("Request timeout"))},this.timeout)];this.ongoing.set(e.id,s),t.then(o=>{o.readyState===o.CLOSED||o.readyState===o.CLOSING?(clearTimeout(s[2]),this.ongoing.delete(e.id),i(new Error("Connection closed"))):o.send(JSON.stringify(e))}).catch(o=>i(o))})}}function y4(r,e){return r.startsWith("wss://")||r.startsWith("ws://")?new g4(r,e==null?void 0:e.timeout):new b4(r,e==null?void 0:e.timeout)}class m4{constructor(e){this.transports=e,this.i=0}async request(e){let t=0;for(;;)try{return await this.transports[this.i%this.transports.length].request(e)}catch(n){if(t+=1,this.i+=1,t>=this.transports.length)throw n}}}function E1(r,e){return e?e(r):r}class Ao{constructor(e,t,n){this.url_=e,this.onError=n,this.concurrent=0,this.pending=[],this.id=0,this.maxConcurrent=t==null?void 0:t.maxConcurrent,this.transport=(t==null?void 0:t.transport)??new m4(Array.from(new Set([e,...(t==null?void 0:t.fallbacks)??[]]).values(),i=>y4(i,t)))}get url(){return this.url_}async request(e,t,n,i){const s=this.buildPayload(e,n?await Promise.all(t.concat(Array.from(new Array(Math.max(n.length-t.length,0)))).map((o,a)=>E1(o,n[a]))):t);try{return await E1(await this.requestPayload(s),i)}catch(o){if(!this.onError)throw o;await this.onError(o)}}async requestPayload(e){var n;this.maxConcurrent!==void 0&&this.concurrent>=this.maxConcurrent&&await new Promise(s=>this.pending.push(s)),this.concurrent+=1;const t=await this.transport.request(e);if(this.concurrent-=1,(n=this.pending.shift())==null||n(),t.id!==e.id)throw new Error(`Id mismatched, got ${t.id}, expected ${e.id}`);if(t.error!=null)throw t.error;return t.result}buildPayload(e,t){return{id:this.id++,method:e,params:t,jsonrpc:"2.0"}}}class ae{static hashTypeFrom(e){return Xn(e)}static hashTypeTo(e){return e}static depTypeFrom(e){switch(ls(e)){case"code":return"code";case"depGroup":return"dep_group"}}static depTypeTo(e){switch(e){case"code":return"code";case"dep_group":return"depGroup"}}static scriptFrom(e){const t=be.from(e);return{code_hash:t.codeHash,hash_type:ae.hashTypeFrom(t.hashType),args:t.args}}static scriptTo(e){return be.from({codeHash:e.code_hash,hashType:ae.hashTypeTo(e.hash_type),args:e.args})}static outPointFrom(e){const t=Le.from(e);return{index:vt(t.index),tx_hash:t.txHash}}static outPointTo(e){return Le.from({index:e.index,txHash:e.tx_hash})}static cellInputFrom(e){const t=Xt.from(e);return{previous_output:ae.outPointFrom(t.previousOutput),since:vt(t.since)}}static cellInputTo(e){return Xt.from({previousOutput:ae.outPointTo(e.previous_output),since:e.since})}static cellOutputFrom(e,t){const n=Jt.from(e,t);return{capacity:vt(n.capacity),lock:ae.scriptFrom(n.lock),type:he(ae.scriptFrom,n.type)}}static cellOutputTo(e){return Jt.from({capacity:e.capacity,lock:ae.scriptTo(e.lock),type:he(ae.scriptTo,e.type)})}static cellDepFrom(e){return{out_point:ae.outPointFrom(e.outPoint),dep_type:ae.depTypeFrom(e.depType)}}static cellDepTo(e){return Yt.from({outPoint:ae.outPointTo(e.out_point),depType:ae.depTypeTo(e.dep_type)})}static transactionFrom(e){const t=fe.from(e);return{version:vt(t.version),cell_deps:t.cellDeps.map(n=>ae.cellDepFrom(n)),header_deps:t.headerDeps,inputs:t.inputs.map(n=>ae.cellInputFrom(n)),outputs:t.outputs.map(n=>ae.cellOutputFrom(n)),outputs_data:t.outputsData,witnesses:t.witnesses}}static transactionTo(e){return fe.from({version:e.version,cellDeps:e.cell_deps.map(t=>ae.cellDepTo(t)),headerDeps:e.header_deps,inputs:e.inputs.map(t=>ae.cellInputTo(t)),outputs:e.outputs.map(t=>ae.cellOutputTo(t)),outputsData:e.outputs_data,witnesses:e.witnesses})}static transactionResponseTo({cycles:e,tx_status:{status:t,block_number:n,block_hash:i,tx_index:s,reason:o},transaction:a}){if(a!=null)return an.from({transaction:ae.transactionTo(a),status:t,cycles:he(K,e),blockHash:he(F,i),blockNumber:he(K,n),txIndex:he(K,s),reason:o})}static blockHeaderTo(e){const t=Q(e.dao);return{compactTarget:K(e.compact_target),dao:{c:Sn(t.slice(0,8)),ar:Sn(t.slice(8,16)),s:Sn(t.slice(16,24)),u:Sn(t.slice(24,32))},epoch:q0(e.epoch),extraHash:e.extra_hash,hash:e.hash,nonce:K(e.nonce),number:K(e.number),parentHash:e.parent_hash,proposalsHash:e.proposals_hash,timestamp:K(e.timestamp),transactionsRoot:e.transactions_root,version:K(e.version)}}static blockUncleTo(e){return{header:ae.blockHeaderTo(e.header),proposals:e.proposals}}static blockTo(e){return{header:ae.blockHeaderTo(e.header),proposals:e.proposals,transactions:e.transactions.map(t=>ae.transactionTo(t)),uncles:e.uncles.map(t=>ae.blockUncleTo(t))}}static rangeFrom([e,t]){return[vt(e),vt(t)]}static indexerSearchKeyFilterFrom(e){return{script:he(ae.scriptFrom,e.script),script_len_range:he(ae.rangeFrom,e.scriptLenRange),output_data:e.outputData,output_data_filter_mode:e.outputDataSearchMode,output_data_len_range:he(ae.rangeFrom,e.outputDataLenRange),output_capacity_range:he(ae.rangeFrom,e.outputCapacityRange),block_range:he(ae.rangeFrom,e.blockRange)}}static indexerSearchKeyFrom(e){const t=dn.from(e);return{script:ae.scriptFrom(t.script),script_type:t.scriptType,script_search_mode:t.scriptSearchMode,filter:he(ae.indexerSearchKeyFilterFrom,t.filter),with_data:t.withData}}static findCellsResponseTo({last_cursor:e,objects:t}){return{lastCursor:e,cells:t.map(n=>xt.from({outPoint:ae.outPointTo(n.out_point),cellOutput:ae.cellOutputTo(n.output),outputData:n.output_data??"0x"}))}}static indexerSearchKeyTransactionFrom(e){const t=bi.from(e);return{script:ae.scriptFrom(t.script),script_type:t.scriptType,script_search_mode:t.scriptSearchMode,filter:he(ae.indexerSearchKeyFilterFrom,t.filter),group_by_transaction:t.groupByTransaction}}static findTransactionsResponseTo({last_cursor:e,objects:t}){return t.length===0?{lastCursor:e,transactions:[]}:"io_index"in t[0]?{lastCursor:e,transactions:t.map(n=>({txHash:n.tx_hash,blockNumber:K(n.block_number),txIndex:K(n.tx_index),cellIndex:K(n.io_index),isInput:n.io_type==="input"}))}:{lastCursor:e,transactions:t.map(n=>({txHash:n.tx_hash,blockNumber:K(n.block_number),txIndex:K(n.tx_index),cells:n.cells.map(([i,s])=>({isInput:i==="input",cellIndex:K(s)}))}))}}}const w4=[["Resolve\\(Unknown\\(OutPoint\\((0x.*)\\)\\)\\)",(r,e)=>new b0(r,Le.fromBytes(e[1]))],["Verification\\(Error { kind: Script, inner: TransactionScriptError { source: (Inputs|Outputs)\\[([0-9]*)\\].(Lock|Type), cause: ValidationFailure: see error code (-?[0-9])* on page https://nervosnetwork\\.github\\.io/ckb-script-error-codes/by-(type|data)-hash/(.*)\\.html",(r,e)=>new g0(r,e[3]==="Lock"?"lock":e[1]==="Inputs"?"inputType":"outputType",e[2],Number(e[4]),e[5]==="data"?"data":"type",e[6])],["Duplicated\\(Byte32\\((0x.*)\\)\\)",(r,e)=>new y0(r,e[1])],[`RBFRejected\\("Tx's current fee is ([0-9]*), expect it to >= ([0-9]*) to replace old txs"\\)`,(r,e)=>new m0(r,e[1],e[2])]];class Eo extends A0{constructor(e,t){super(t),this.getFeeRateStatistics=this.buildSender("get_fee_rate_statistics",[n=>he(K,n)],({mean:n,median:i})=>({mean:K(n),median:K(i)})),this.getTip=this.buildSender("get_tip_block_number",[],K),this.getTipHeader=this.buildSender("get_tip_header",[],n=>he(ae.blockHeaderTo,n)),this.getBlockByNumberNoCache=this.buildSender("get_block_by_number",[n=>vt(K(n))],n=>he(ae.blockTo,n)),this.getBlockByHashNoCache=this.buildSender("get_block",[F],n=>he(ae.blockTo,n)),this.getHeaderByNumberNoCache=this.buildSender("get_header_by_number",[n=>vt(K(n))],n=>he(ae.blockHeaderTo,n)),this.getHeaderByHashNoCache=this.buildSender("get_header",[F],n=>he(ae.blockHeaderTo,n)),this.estimateCycles=this.buildSender("estimate_cycles",[ae.transactionFrom],({cycles:n})=>K(n)),this.sendTransactionDry=this.buildSender("test_tx_pool_accept",[ae.transactionFrom],({cycles:n})=>K(n)),this.sendTransactionNoCache=this.buildSender("send_transaction",[ae.transactionFrom,n=>n??void 0],F),this.getTransactionNoCache=this.buildSender("get_transaction",[F],ae.transactionResponseTo),this.findCellsPagedNoCache=this.buildSender("get_cells",[ae.indexerSearchKeyFrom,n=>n??"asc",n=>vt(n??10)],ae.findCellsResponseTo),this.findTransactionsPaged=this.buildSender("get_transactions",[ae.indexerSearchKeyTransactionFrom,n=>n??"asc",n=>vt(n??10)],ae.findTransactionsResponseTo),this.getCellsCapacity=this.buildSender("get_cells_capacity",[ae.indexerSearchKeyFrom],({capacity:n})=>K(n)),this.requestor=(t==null?void 0:t.requestor)??new Ao(e,t,n=>{if(typeof n!="object"||n===null||!("data"in n)||typeof n.data!="string")throw n;const i=n;for(const[s,o]of w4){const a=i.data.match(s);if(a)throw o(i,a)}throw new $r(i)})}get url(){return this.requestor.url}getCellLiveNoCache(e,t,n){return this.buildSender("get_live_cell",[ae.outPointFrom],({cell:i})=>he(({output:s,data:o})=>xt.from({cellOutput:ae.cellOutputTo(s),outputData:(o==null?void 0:o.content)??"0x",outPoint:e}),i))(e,t??!0,n)}buildSender(e,t,n){return async(...i)=>this.requestor.request(e,i,t,n)}}class zu extends Eo{constructor(e){const t=typeof tn<"u";super((e==null?void 0:e.url)??(t?"wss://mainnet.ckb.dev/ws":"https://mainnet.ckb.dev/"),{...e,fallbacks:(e==null?void 0:e.fallbacks)??(t?["wss://mainnet.ckb.dev/ws","https://mainnet.ckb.dev/","https://mainnet.ckbapp.dev/"]:["https://mainnet.ckb.dev/","https://mainnet.ckbapp.dev/"])}),this.config=e}get scripts(){var e;return((e=this.config)==null?void 0:e.scripts)??p4}get addressPrefix(){return"ckb"}async getKnownScript(e){const t=this.scripts[e];if(!t)throw new Error(`No script information was found for ${e} on ${this.addressPrefix}`);return cs.from(t)}}const v4=Object.freeze({[te.NervosDao]:{codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:2},depType:"code"}}]},[te.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}}]},[te.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:1},depType:"depGroup"}}]},[te.Secp256k1MultisigV2]:{codeHash:"0x36c971b8d41fbd94aabca77dc75e826729ac98447b46f91e00796155dddb0d29",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x2eefdeb21f3a3edf697c28a52601b4419806ed60bb427420455cc29a090b26d5",index:0},depType:"depGroup"}}]},[te.AnyoneCanPay]:{codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:0},depType:"depGroup"}}]},[te.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[te.XUdt]:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x44ec8b96663e06cc94c8c468a4d46d7d9af69eaf418f6390c9f11bb763dda0ae"}}]},[te.JoyId]:{codeHash:"0xd23761b364210735c19c60561d213fb3beae2fd6172743719eff6920e020baac",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4a596d31dc35e88fb1591debbf680b04a44b4a434e3a94453c21ea8950ffb4d9",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x1c9fc299ba0570d077b4d7fb9acff1ccc0de69d369942d82678bae937c44ec30"}},{cellDep:{outPoint:{txHash:"0x4a596d31dc35e88fb1591debbf680b04a44b4a434e3a94453c21ea8950ffb4d9",index:1},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x27f0d3ccdc2fcd52ae31fbacad5f86b97bc147d7093e4807cd6e3d21c1fe6841"}},{cellDep:{outPoint:{txHash:"0xf2c9dbfe7438a8c622558da8fa912d36755271ea469d3a25cb8d3373d35c8638",index:1},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x0ac15fe5b2d059ec39de03f2d3159d5463abb918a1a07a9fa00d2b9c61d89ef3"}},{cellDep:{outPoint:{txHash:"0x95ecf9b41701b45d431657a67bbfa3f07ef7ceb53bf87097f3674e1a4a19ce62",index:1},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xc7bafc5550ccad7cea32c27764f5df6aca4de547da65e3e67fa08477a1af7f5e"}},{cellDep:{outPoint:{txHash:"0x8b3255491f3c4dcc1cfca33d5c6bcaec5409efe4bbda243900f9580c47e0242e",index:1},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x71decef9ca8725e64ec99a5521790d16b8d5daadb4989b45dd6ab51806a8c0e4"}}]},[te.COTA]:{codeHash:"0x89cd8003a0eaf8e65e0c31525b7d1d5c1becefd2ea75bb4cff87810ae37764d8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x636a786001f87cb615acfcf408be0f9a1f077001f0bbc75ca54eadfe7e221713",index:0},depType:"depGroup"}}]},[te.PWLock]:{codeHash:"0x58c5f491aba6d61678b7cf7edf4910b1f5e00ec0cde2f42e0abb4fd9aff25a63",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0x57a62003daeab9d54aa29b944fc3b451213a5ebdf2e232216a3cfed0dde61b38",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xf6d90bfe3041d0fd7e01c45770241697f5f837974bd6ae1672a7ec0f9f523268"}}]},[te.OmniLock]:{codeHash:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x761f51fc9cd6a504c32c6ae64b3746594d1af27629b427c5ccf6c9a725a89144"}}]},[te.NostrLock]:{codeHash:"0x6ae5ee0cb887b2df5a9a18137315b9bdc55be8d52637b2de0624092d5f0c91d5",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xa2a434dcdbe280b9ed75bb7d6c7d68186a842456aba0fc506657dc5ed7c01d68",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x8dc56c6f35f0c535e23ded1629b1f20535477a1b43e59f14617d11e32c50e0aa"}}]},[te.UniqueType]:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xe04976b67600fd25ac50305f77b33aee2c12e3c18e63ece9119e5b32117884b5"}}]},[te.AlwaysSuccess]:{codeHash:"0x3b521cc4b552f109d092d8cc468a8048acb53c5952dbe769d2b2f9cf6e47f7f1",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:0},depType:"code"}}]},[te.InputTypeProxyLock]:{codeHash:"0x5123908965c711b0ffd8aec642f1ede329649bda1ebdca6bd24124d3796f768a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:1},depType:"code"}}]},[te.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:2},depType:"code"}}]},[te.LockProxyLock]:{codeHash:"0x5d41e32e224c15f152b7e6529100ebeac83b162f5f692a5365774dad2c1a1d02",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:3},depType:"code"}}]},[te.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:4},depType:"code"}}]},[te.TypeBurnLock]:{codeHash:"0xff78bae0abf17d7a404c0be0f9ad9c9185b3f88dcc60403453d5ba8e1f22f53a",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:5},depType:"code"}}]},[te.EasyToDiscoverType]:{codeHash:"0xaba4430cc7110d699007095430a1faa72973edf2322ddbfd4d1d219cacf237af",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:0},depType:"code"}}]},[te.TimeLock]:{codeHash:"0x6fac4b2e89360a1e692efcddcb3a28656d8446549fb83da6d896db8b714f4451",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x1b4ffcad55ecd36ffb2715b6816b83da73851f1a24fe594f263c4f34dad90792",index:1},depType:"code"}}]}});class So extends Eo{constructor(e){const t=typeof tn<"u";super((e==null?void 0:e.url)??(t?"wss://testnet.ckb.dev/ws":"https://testnet.ckb.dev/"),{...e,fallbacks:(e==null?void 0:e.fallbacks)??(t?["wss://testnet.ckb.dev/ws","https://testnet.ckb.dev/","https://testnet.ckbapp.dev/"]:["https://testnet.ckb.dev/","https://testnet.ckbapp.dev/"])}),this.config=e}get scripts(){var e;return((e=this.config)==null?void 0:e.scripts)??v4}get addressPrefix(){return"ckt"}async getKnownScript(e){const t=this.scripts[e];if(!t)throw new Error(`No script information was found for ${e} on ${this.addressPrefix}`);return cs.from(t)}}const x4=BigInt(0),Li=BigInt(1),_4=BigInt(2),A4=BigInt(7),E4=BigInt(256),S4=BigInt(113),Vu=[],Ku=[],Zu=[];for(let r=0,e=Li,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],Vu.push(2*(5*n+t)),Ku.push((r+1)*(r+2)/2%64);let i=x4;for(let s=0;s<7;s++)e=(e<<Li^(e>>A4)*S4)%E4,e&_4&&(i^=Li<<(Li<<BigInt(s))-Li);Zu.push(i)}const Wu=Y3(Zu,!0),C4=Wu[0],T4=Wu[1],S1=(r,e,t)=>t>32?i4(r,e,t):r4(r,e,t),C1=(r,e,t)=>t>32?s4(r,e,t):n4(r,e,t);function M4(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,f=t[c],d=t[c+1],l=S1(f,d,1)^t[a],g=C1(f,d,1)^t[a+1];for(let y=0;y<50;y+=10)r[o+y]^=l,r[o+y+1]^=g}let i=r[2],s=r[3];for(let o=0;o<24;o++){const a=Ku[o],c=S1(i,s,a),f=C1(i,s,a),d=Vu[o];i=r[d],s=r[d+1],r[d]=c,r[d+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=C4[n],r[1]^=T4[n]}Lt(t)}let B4=class Gu extends wo{constructor(e,t,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,lt(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=on(this.state)}clone(){return this._cloneInto()}keccak(){wr(this.state32),M4(this.state32,this.rounds),wr(this.state32),this.posOut=0,this.pos=0}update(e){cn(this),e=Lr(e),dr(e);const{blockLen:t,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,(t&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){cn(this,!1),dr(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lt(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(c0(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Lt(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Gu(t,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const k4=(r,e,t)=>d0(()=>new B4(e,r,t)),Xu=k4(1,136,256/8);class E0{constructor(){this.hasher=Xu.create()}update(e){return this.hasher.update(Q(e)),this}digest(){return F(this.hasher.digest())}}class ot{constructor(e,t,n){this.encode=e,this.decode=t,this.byteLength=n}static from({encode:e,decode:t,byteLength:n}){return new ot(i=>{const s=e(i);if(n!==void 0&&s.byteLength!==n)throw new Error(`Codec.encode: expected byte length ${n}, got ${s.byteLength}`);return s},(i,s)=>{const o=Q(i);if(n!==void 0&&o.byteLength!==n)throw new Error(`Codec.decode: expected byte length ${n}, got ${o.byteLength}`);return t(i,s)},n)}map({inMap:e,outMap:t}){return new ot(n=>this.encode(e?e(n):n),(n,i)=>t?t(this.decode(n,i)):this.decode(n,i),this.byteLength)}mapIn(e){return this.map({inMap:e})}mapOut(e){return this.map({outMap:e})}}function Fn(r){return Pe(r,4)}function xr(r){return Number(Wn(r))}function Yu(r){const e=r.byteLength;if(e===void 0)throw new Error("fixedItemVec: itemCodec requires a byte length");return ot.from({encode(t){try{const n=[];fr(n,Fn(t.length));for(const i of t)fr(n,r.encode(i));return Q(n)}catch(n){throw new Error(`fixedItemVec(${n==null?void 0:n.toString()})`)}},decode(t,n){const i=Q(t);if(i.byteLength<4)throw new Error(`fixedItemVec: too short buffer, expected at least 4 bytes, but got ${i.byteLength}`);const o=4+xr(i.slice(0,4))*e;if(i.byteLength!==o)throw new Error(`fixedItemVec: invalid buffer size, expected ${o}, but got ${i.byteLength}`);try{const a=[];for(let c=4;c<o;c+=e)a.push(r.decode(i.slice(c,c+e),n));return a}catch(a){throw new Error(`fixedItemVec(${a==null?void 0:a.toString()})`)}}})}function Qu(r){return ot.from({encode(e){try{let t=4+e.length*4;const n=[],i=[];for(const o of e){const a=r.encode(o);fr(n,Fn(t)),fr(i,a),t+=a.byteLength}const s=Fn(n.length+i.length+4);return Fe(s,n,i)}catch(t){throw new Error(`dynItemVec(${t==null?void 0:t.toString()})`)}},decode(e,t){const n=Q(e);if(n.byteLength<4)throw new Error(`dynItemVec: too short buffer, expected at least 4 bytes, but got ${n.byteLength}`);const i=xr(n.slice(0,4));if(i!==n.byteLength)throw new Error(`dynItemVec: invalid buffer size, expected ${i}, but got ${n.byteLength}`);if(i===4)return[];const o=(xr(n.slice(4,8))-4)/4,a=Array.from(new Array(o),(c,f)=>xr(n.slice(4+f*4,8+f*4)));a.push(i);try{const c=[];for(let f=0;f<a.length-1;f++){const d=a[f],l=a[f+1],g=n.slice(d,l);c.push(r.decode(g,t))}return c}catch(c){throw new Error(`dynItemVec(${c==null?void 0:c.toString()})`)}}})}function qe(r){return r.byteLength!==void 0?Yu(r):Qu(r)}function yt(r){return ot.from({encode(e){if(e==null)return Q([]);try{return r.encode(e)}catch(t){throw new Error(`option(${t==null?void 0:t.toString()})`)}},decode(e,t){if(Q(e).byteLength!==0)try{return r.decode(e,t)}catch(i){throw new Error(`option(${i==null?void 0:i.toString()})`)}}})}function S0(r){return ot.from({encode(e){try{const t=Q(r.encode(e)),n=Fn(t.byteLength);return Fe(n,t)}catch(t){throw new Error(`byteVec(${t==null?void 0:t.toString()})`)}},decode(e,t){const n=Q(e);if(n.byteLength<4)throw new Error(`byteVec: too short buffer, expected at least 4 bytes, but got ${n.byteLength}`);const i=xr(n.slice(0,4));if(i!==n.byteLength-4)throw new Error(`byteVec: invalid buffer size, expected ${i}, but got ${n.byteLength}`);try{return r.decode(n.slice(4),t)}catch(s){throw new Error(`byteVec(${s==null?void 0:s.toString()})`)}}})}function Ee(r){const e=Object.keys(r);return ot.from({encode(t){let n=4+e.length*4;const i=[],s=[];for(const a of e)try{const c=r[a].encode(t[a]);fr(i,Fn(n)),fr(s,c),n+=c.byteLength}catch(c){throw new Error(`table.${a}(${c==null?void 0:c.toString()})`)}const o=Fn(i.length+s.length+4);return Fe(o,i,s)},decode(t,n){const i=Q(t);if(i.byteLength<4)throw new Error(`table: too short buffer, expected at least 4 bytes, but got ${i.byteLength}`);const s=xr(i.slice(0,4)),a=(xr(i.slice(4,8))-4)/4;if(s!==i.byteLength)throw new Error(`table: invalid buffer size, expected ${s}, but got ${i.byteLength}`);if(a<e.length)throw new Error(`table: invalid field count, expected ${e.length}, but got ${a}`);if(a>e.length&&!(n!=null&&n.isExtraFieldIgnored))throw new Error(`table: invalid field count, expected ${e.length}, but got ${a}, and extra fields are not allowed in the current configuration. If you want to ignore extra fields, set isExtraFieldIgnored to true.`);const c=e.map((d,l)=>xr(i.slice(4+l*4,8+l*4)));a>e.length?c.push(xr(i.slice(4+e.length*4,8+e.length*4))):c.push(s);const f={};for(let d=0;d<c.length-1;d++){const l=c[d],g=c[d+1],y=e[d],m=r[y],x=i.slice(l,g);try{Object.assign(f,{[y]:m.decode(x,n)})}catch(E){throw new Error(`table.${y}(${E==null?void 0:E.toString()})`)}}return f}})}function fs(r,e){const t=Object.entries(r);let n;if(t.length>0){const i=t[0][1].byteLength;i!==void 0&&t.every(([,{byteLength:s}])=>s===i)&&(n=i+4)}return ot.from({byteLength:n,encode({type:i,value:s}){const o=i.toString(),a=r[o];if(!a)throw new Error(`union: invalid type, expected ${t.map(d=>d[0]).toString()}, but got ${o}`);const c=e?e[o]??-1:t.findIndex(d=>d[0]===o);if(c<0)throw new Error(`union: invalid field id ${c} of ${o}`);const f=Fn(c);try{const d=a.encode(s);return Fe(f,d)}catch(d){throw new Error(`union.(${o})(${d==null?void 0:d.toString()})`)}},decode(i,s){const o=Q(i),a=xr(o.slice(0,4)),c=Object.keys(r),f=(()=>{if(!e)return c[a];const d=Object.entries(e).find(([,l])=>l===a);return d==null?void 0:d[0]})();if(!f){if(!e)throw new Error(`union: unknown union field index ${a}, only ${c.toString()} are allowed`);const d=Object.keys(e);throw new Error(`union: unknown union field index ${a}, only ${d.toString()} and ${c.toString()} are allowed`)}return{type:f,value:r[f].decode(o.slice(4),s)}}})}function Co(r){const e=Object.values(r),t=Object.keys(r);return ot.from({byteLength:e.reduce((n,i)=>{if(i.byteLength===void 0)throw new Error("struct: all fields must be fixed-size");return n+i.byteLength},0),encode(n){const i=[];for(const s of t)try{const o=r[s].encode(n[s]);fr(i,o)}catch(o){throw new Error(`struct.${s}(${o==null?void 0:o.toString()})`)}return Q(i)},decode(n,i){const s=Q(n),o={};let a=0;return Object.entries(r).forEach(([c,f])=>{const d=s.slice(a,a+f.byteLength);try{Object.assign(o,{[c]:f.decode(d,i)})}catch(l){throw new Error(`struct.${c}(${l.toString()})`)}a=a+f.byteLength}),o}})}function O4(r,e){if(r.byteLength===void 0)throw new Error("array: itemCodec requires a byte length");const t=r.byteLength*e;return ot.from({byteLength:t,encode(n){try{const i=[];for(const s of n)fr(i,r.encode(s));return Q(i)}catch(i){throw new Error(`array(${i==null?void 0:i.toString()})`)}},decode(n,i){const s=Q(n);if(s.byteLength!=t)throw new Error(`array: invalid buffer size, expected ${t}, but got ${s.byteLength}`);try{const o=[];for(let a=0;a<s.byteLength;a+=r.byteLength)o.push(r.decode(s.slice(a,a+r.byteLength),i));return o}catch(o){throw new Error(`array(${o==null?void 0:o.toString()})`)}}})}function Sr(r,e=!1){return ot.from({byteLength:r,encode:t=>e?Pe(t,r):Pn(t,r),decode:t=>e?Wn(t):xo(t)})}function Mi(r,e=!1){if(r>4)throw new Error("uintNumber: byteLength must be less than or equal to 4");return Sr(r,e).map({outMap:t=>Number(t)})}class Fr{static Base(){class e{static encode(n){throw new Error("encode not implemented, use @ccc.mol.codec to decorate your type")}static decode(n){throw new Error("decode not implemented, use @ccc.mol.codec to decorate your type")}static fromBytes(n){throw new Error("fromBytes not implemented, use @ccc.mol.codec to decorate your type")}static from(n){throw new Error("from not implemented")}toBytes(){return this.constructor.encode(this)}clone(){return this.constructor.fromBytes(this.toBytes())}eq(n){var i;return this===n?!0:o0(this.toBytes(),(((i=this.constructor)==null?void 0:i.from(n))??n).toBytes())}hash(){return Dt(this.toBytes())}}return e}}function qr(r){return function(e,...t){return e.byteLength=r.byteLength,e.encode=function(n){return r.encode(n)},e.decode=function(n){return e.from(r.decode(n))},e.fromBytes=function(n){return e.from(r.decode(n))},e}}const C0=Mi(1,!0),I4=yt(C0),R4=qe(C0),Ju=Mi(2,!0),D4=Mi(2),T0=Ju,P4=yt(T0),N4=qe(T0),el=Mi(4,!0),L4=Mi(4),ds=el,tl=yt(ds),H4=qe(ds),rl=Sr(8,!0),U4=Sr(8),us=rl,$4=yt(us),F4=qe(us),nl=Sr(16,!0),q4=Sr(16),M0=nl,j4=yt(M0),kc=qe(M0),il=Sr(32,!0),z4=Sr(32),B0=il,V4=yt(B0),K4=qe(B0),sl=Sr(64,!0),Z4=Sr(64),k0=sl,W4=yt(k0),G4=qe(k0),un=S0({encode:r=>Q(r),decode:r=>F(r)}),di=yt(un),To=qe(un),O0=ot.from({byteLength:1,encode:r=>Q(r?[1]:[0]),decode:r=>Q(r)[0]!==0}),X4=yt(O0),I0=qe(O0),R0=ot.from({byteLength:4,encode:r=>Q(r),decode:r=>F(r)}),Y4=yt(R0),Q4=qe(R0),D0=ot.from({byteLength:8,encode:r=>Q(r),decode:r=>F(r)}),J4=yt(D0),Oc=qe(D0),P0=ot.from({byteLength:16,encode:r=>Q(r),decode:r=>F(r)}),e5=yt(P0),t5=qe(P0),De=ot.from({byteLength:32,encode:r=>Q(r),decode:r=>F(r)}),r5=yt(De),ii=qe(De),Wt=S0({encode:r=>Q(r,"utf8"),decode:r=>sn(r,"utf8")}),n5=qe(Wt),i5=yt(Wt),ol=Object.freeze(Object.defineProperty({__proto__:null,Bool:O0,BoolOpt:X4,BoolVec:I0,Byte16:P0,Byte16Opt:e5,Byte16Vec:t5,Byte32:De,Byte32Opt:r5,Byte32Vec:ii,Byte4:R0,Byte4Opt:Y4,Byte4Vec:Q4,Byte8:D0,Byte8Opt:J4,Byte8Vec:Oc,Bytes:un,BytesOpt:di,BytesVec:To,Codec:ot,Entity:Fr,String:Wt,StringOpt:i5,StringVec:n5,Uint128:M0,Uint128BE:q4,Uint128LE:nl,Uint128Opt:j4,Uint128Vec:kc,Uint16:T0,Uint16BE:D4,Uint16LE:Ju,Uint16Opt:P4,Uint16Vec:N4,Uint256:B0,Uint256BE:z4,Uint256LE:il,Uint256Opt:V4,Uint256Vec:K4,Uint32:ds,Uint32BE:L4,Uint32LE:el,Uint32Opt:tl,Uint32Vec:H4,Uint512:k0,Uint512BE:Z4,Uint512LE:sl,Uint512Opt:W4,Uint512Vec:G4,Uint64:us,Uint64BE:U4,Uint64LE:rl,Uint64Opt:$4,Uint64Vec:F4,Uint8:C0,Uint8Opt:I4,Uint8Vec:R4,array:O4,byteVec:S0,codec:qr,dynItemVec:Qu,fixedItemVec:Yu,option:yt,struct:Co,table:Ee,uint:Sr,uintNumber:Mi,union:fs,vector:qe},Symbol.toStringTag,{value:"Module"})),al={type:1,data:0,data1:2,data2:4},Ic={1:"type",0:"data",2:"data1",4:"data2"},s5=Object.keys(al);var o5=function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},xn;const N0=ot.from({byteLength:1,encode:Mo,decode:Bo});function Xn(r){const e=(()=>{if(typeof r=="number")return Ic[r];if(typeof r=="bigint")return Ic[Number(r)];if(s5.includes(r))return r})();if(e===void 0)throw new Error(`Invalid hash type ${r}`);return e}function Mo(r){return Q([al[Xn(r)]])}function Bo(r){return Ic[Q(r)[0]]}let be=xn=class extends Fr.Base(){constructor(e,t,n){super(),this.codeHash=e,this.hashType=t,this.args=n}get occupiedSize(){return 33+Q(this.args).length}clone(){return new xn(this.codeHash,this.hashType,this.args)}eq(e){return e=xn.from(e),this.args===e.args&&this.codeHash===e.codeHash&&this.hashType===e.hashType}static from(e){return e instanceof xn?e:new xn(F(e.codeHash),Xn(e.hashType),F(e.args))}static async fromKnownScript(e,t,n){const i=await e.getKnownScript(t);return new xn(i.codeHash,i.hashType,F(n))}};be=xn=o5([qr(Ee({codeHash:De,hashType:N0,args:un}))],be);const L0=yt(be),io=qe(be),a5={code:0,depGroup:1},Rc={0:"code",1:"depGroup"};class si extends Error{constructor(e,t){const n=K(e),i=(t==null?void 0:t.isForChange)??!1;super(`Insufficient CKB, need ${_o(n)} extra CKB${i?" for the change cell":""}`),this.amount=n,this.isForChange=i}}class H0 extends Error{constructor(e,t){const n=K(e),i=be.from(t);super(`Insufficient coin, need ${n} extra coin`),this.amount=n,this.type=i}}var Yn=function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},ri,zi,_n,Vi,Ki,Xs,Ir;const U0=ot.from({byteLength:1,encode:$0,decode:F0});function ls(r){const e=typeof r=="number"?Rc[r]:typeof r=="bigint"?Rc[Number(r)]:r;if(e===void 0)throw new Error(`Invalid dep type ${r}`);return e}function $0(r){return Q([a5[ls(r)]])}function F0(r){return Rc[Q(r)[0]]}let Le=ri=class extends Fr.Base(){constructor(e,t){super(),this.txHash=e,this.index=t}static from(e){return e instanceof ri?e:new ri(F(e.txHash),K(e.index))}clone(){return new ri(this.txHash,this.index)}eq(e){return e=ri.from(e),this.txHash===e.txHash&&this.index===e.index}};Le=ri=Yn([qr(Co({txHash:De,index:ds}))],Le);let Jt=zi=class extends Fr.Base(){constructor(e,t,n){super(),this.capacity=e,this.lock=t,this.type=n}get occupiedSize(){var e;return 8+this.lock.occupiedSize+(((e=this.type)==null?void 0:e.occupiedSize)??0)}static from(e,t){if(e instanceof zi)return e;const n=new zi(K(e.capacity??0),be.from(e.lock),he(be.from,e.type));return n.capacity===Ue&&(n.capacity=Gn(n.occupiedSize+Q(t??"0x").length)),n}clone(){var e;return new zi(this.capacity,this.lock.clone(),(e=this.type)==null?void 0:e.clone())}};Jt=zi=Yn([qr(Ee({capacity:us,lock:be,type:L0}))],Jt);const ko=qe(Jt);class Gt{constructor(e,t,n){this.cellOutput=e,this.outputData=t,this.outPoint=n}static from(e){return e instanceof Gt?e:new Gt(Jt.from(e.cellOutput,e.outputData),F(e.outputData??"0x"),he(Le.from,e.outPoint??e.previousOutput))}get occupiedSize(){return this.cellOutput.occupiedSize+Q(this.outputData).byteLength}get capacityFree(){return this.cellOutput.capacity-Gn(this.occupiedSize)}async isNervosDao(e,t){const{type:n}=this.cellOutput,i=await e.getKnownScript(te.NervosDao);if(!n||n.codeHash!==i.codeHash||n.hashType!==i.hashType)return!1;const s=K(this.outputData)!==Ue;return!t||t==="deposited"&&!s||t==="withdrew"&&s}clone(){var e;return new Gt(this.cellOutput.clone(),this.outputData,(e=this.outPoint)==null?void 0:e.clone())}}class xt extends Gt{constructor(e,t,n){super(t,n,e),this.outPoint=e}static from(e){return e instanceof xt?e:new xt(Le.from(e.outPoint??e.previousOutput),Jt.from(e.cellOutput,e.outputData),F(e.outputData??"0x"))}async getDaoProfit(e){if(!await this.isNervosDao(e,"withdrew"))return Ue;const{depositHeader:t,withdrawHeader:n}=await this.getNervosDaoInfo(e);if(!n||!t)throw new Error(`Unable to get headers of a Nervos DAO cell ${this.outPoint.txHash}:${this.outPoint.index.toString()}`);return V0(this.capacityFree,t,n)}async getNervosDaoInfo(e){if(!await this.isNervosDao(e))return{};if(K(this.outputData)===Ue){const i=await e.getCellWithHeader(this.outPoint);if(!(i!=null&&i.header))throw new Error(`Unable to get header of a Nervos DAO deposited cell ${this.outPoint.txHash}:${this.outPoint.index.toString()}`);return{depositHeader:i.header}}const[t,n]=await Promise.all([e.getHeaderByNumber(Wn(this.outputData)),e.getCellWithHeader(this.outPoint)]);if(!(n!=null&&n.header)||!t)throw new Error(`Unable to get headers of a Nervos DAO withdrew cell ${this.outPoint.txHash}:${this.outPoint.index.toString()}`);return{depositHeader:t,withdrawHeader:n.header}}clone(){return new xt(this.outPoint.clone(),this.cellOutput.clone(),this.outputData)}}function Oo(r){return[K(r[0]),K(r[1]),K(r[2])]}function q0(r){const e=K(F(r));return[e&K("0xffffff"),e>>K(24)&K("0xffff"),e>>K(40)&K("0xffff")]}function cl(r){const e=Oo(r);return vt(K(e[0])+(K(e[1])<<K(24))+(K(e[2])<<K(40)))}let Nn=_n=class extends Fr.Base(){constructor(e,t,n){super(),this.relative=e,this.metric=t,this.value=n}clone(){return new _n(this.relative,this.metric,this.value)}static from(e){return e instanceof _n?e:typeof e=="object"&&"relative"in e?new _n(e.relative,e.metric,K(e.value)):_n.fromNum(e)}toNum(){return this.value|(this.relative==="absolute"?Ue:K("0x8000000000000000"))|{blockNumber:K("0x0000000000000000"),epoch:K("0x2000000000000000"),timestamp:K("0x4000000000000000")}[this.metric]}static fromNum(e){const t=K(e),n=t>>K(63)===Ue?"absolute":"relative",i=["blockNumber","epoch","timestamp"][Number(t>>K(61)&K(3))],s=t&K("0x00ffffffffffffff");return new _n(n,i,s)}};Nn=_n=Yn([qr(us.mapIn(r=>Nn.from(r).toNum()))],Nn);let Xt=Vi=class extends Fr.Base(){constructor(e,t,n,i){super(),this.previousOutput=e,this.since=t,this.cellOutput=n,this.outputData=i}static from(e){return e instanceof Vi?e:new Vi(Le.from("previousOutput"in e?e.previousOutput:e.outPoint),Nn.from(e.since??0).toNum(),he(Jt.from,e.cellOutput),he(F,e.outputData))}async getCell(e){if(await this.completeExtraInfos(e),!this.cellOutput||!this.outputData)throw new Error("Unable to complete input");return xt.from({outPoint:this.previousOutput,cellOutput:this.cellOutput,outputData:this.outputData})}async completeExtraInfos(e){if(this.cellOutput&&this.outputData)return;const t=await e.getCell(this.previousOutput);t&&(this.cellOutput=t.cellOutput,this.outputData=t.outputData)}async getExtraCapacity(e){return(await this.getCell(e)).getDaoProfit(e)}clone(){var e;return new Vi(this.previousOutput.clone(),this.since,(e=this.cellOutput)==null?void 0:e.clone(),this.outputData)}};Xt=Vi=Yn([qr(Co({since:Nn,previousOutput:Le}).mapIn(r=>Xt.from(r)))],Xt);const j0=qe(Xt);let Yt=Ki=class extends Fr.Base(){constructor(e,t){super(),this.outPoint=e,this.depType=t}static from(e){return e instanceof Ki?e:new Ki(Le.from(e.outPoint),ls(e.depType))}clone(){return new Ki(this.outPoint.clone(),this.depType)}};Yt=Ki=Yn([qr(Co({outPoint:Le,depType:U0}))],Yt);const z0=qe(Yt);let Ht=Xs=class extends Fr.Base(){constructor(e,t,n){super(),this.lock=e,this.inputType=t,this.outputType=n}static from(e){return e instanceof Xs?e:new Xs(he(F,e.lock),he(F,e.inputType),he(F,e.outputType))}};Ht=Xs=Yn([qr(Ee({lock:di,inputType:di,outputType:di}))],Ht);function oi(r){const e=Q(r).slice(0,16);return e.length===0?Ue:Wn(e)}const Io=Ee({version:ds,cellDeps:z0,headerDeps:ii,inputs:j0,outputs:ko,outputsData:To});let fe=Ir=class extends Fr.Base(){constructor(e,t,n,i,s,o,a){super(),this.version=e,this.cellDeps=t,this.headerDeps=n,this.inputs=i,this.outputs=s,this.outputsData=o,this.witnesses=a}static default(){return new Ir(0n,[],[],[],[],[],[])}copy(e){const t=Ir.from(e);this.version=t.version,this.cellDeps=t.cellDeps,this.headerDeps=t.headerDeps,this.inputs=t.inputs,this.outputs=t.outputs,this.outputsData=t.outputsData,this.witnesses=t.witnesses}clone(){return new Ir(this.version,this.cellDeps.map(e=>e.clone()),this.headerDeps.map(e=>e),this.inputs.map(e=>e.clone()),this.outputs.map(e=>e.clone()),this.outputsData.map(e=>e),this.witnesses.map(e=>e))}static from(e){var i,s,o,a,c;if(e instanceof Ir)return e;const t=((i=e.outputs)==null?void 0:i.map((f,d)=>{var l;return Jt.from(f,((l=e.outputsData)==null?void 0:l[d])??[])}))??[],n=t.map((f,d)=>{var l;return F(((l=e.outputsData)==null?void 0:l[d])??"0x")});return e.outputsData!=null&&n.length<e.outputsData.length&&n.push(...e.outputsData.slice(n.length).map(f=>F(f))),new Ir(K(e.version??0),((s=e.cellDeps)==null?void 0:s.map(f=>Yt.from(f)))??[],((o=e.headerDeps)==null?void 0:o.map(F))??[],((a=e.inputs)==null?void 0:a.map(f=>Xt.from(f)))??[],t,n,((c=e.witnesses)==null?void 0:c.map(F))??[])}static fromLumosSkeleton(e){return Ir.from({version:0n,cellDeps:e.cellDeps.toArray(),headerDeps:e.headerDeps.toArray(),inputs:e.inputs.toArray().map((t,n)=>{if(!t.outPoint)throw new Error("outPoint is required in input");return Xt.from({previousOutput:t.outPoint,since:e.inputSinces.get(n,"0x0"),cellOutput:t.cellOutput,outputData:t.data})}),outputs:e.outputs.toArray().map(t=>t.cellOutput),outputsData:e.outputs.toArray().map(t=>t.data),witnesses:e.witnesses.toArray()})}stringify(){return JSON.stringify(this,(e,t)=>typeof t=="bigint"?vt(t):t)}rawToBytes(){return Io.encode(this)}hash(){return Dt(this.rawToBytes())}hashFull(){return Dt(this.toBytes())}static hashWitnessToHasher(e,t){const n=Q(F(e));t.update(Pe(n.length,8)),t.update(n)}async getSignHashInfo(e,t,n=new vo){const i=be.from(e);let s=-1;n.update(this.hash());for(let o=0;o<this.witnesses.length;o+=1){const a=this.inputs[o];if(a){const{cellOutput:c}=await a.getCell(t);if(!i.eq(c.lock))continue;s===-1&&(s=o)}if(s===-1)return;Ir.hashWitnessToHasher(this.witnesses[o],n)}if(s!==-1)return{message:n.digest(),position:s}}async findInputIndexByLockId(e,t){const n=be.from({...e,args:"0x"});for(let i=0;i<this.inputs.length;i+=1){const{cellOutput:s}=await this.inputs[i].getCell(t);if(n.codeHash===s.lock.codeHash&&n.hashType===s.lock.hashType)return i}}async findInputIndexByLock(e,t){const n=be.from(e);for(let i=0;i<this.inputs.length;i+=1){const{cellOutput:s}=await this.inputs[i].getCell(t);if(n.eq(s.lock))return i}}async findLastInputIndexByLock(e,t){const n=be.from(e);for(let i=this.inputs.length-1;i>=0;i-=1){const{cellOutput:s}=await this.inputs[i].getCell(t);if(n.eq(s.lock))return i}}addCellDeps(...e){e.flat().forEach(t=>{const n=Yt.from(t);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.push(n)})}addCellDepsAtStart(...e){e.flat().forEach(t=>{const n=Yt.from(t);this.cellDeps.some(i=>i.eq(n))||this.cellDeps.unshift(n)})}async addCellDepInfos(e,...t){this.addCellDeps(await e.getCellDeps(...t))}async addCellDepsOfKnownScripts(e,...t){await Promise.all(t.flat().map(async n=>this.addCellDepInfos(e,(await e.getKnownScript(n)).cellDeps)))}setOutputDataAt(e,t){this.outputsData.length<e&&this.outputsData.push(...Array.from(new Array(e-this.outputsData.length),()=>"0x")),this.outputsData[e]=F(t)}getInput(e){return this.inputs[Number(K(e))]}addInput(e){return this.witnesses.length>this.inputs.length&&this.witnesses.splice(this.inputs.length,0,"0x"),this.inputs.push(Xt.from(e))}getOutput(e){const t=Number(K(e));if(!(t>=this.outputs.length))return Gt.from({cellOutput:this.outputs[t],outputData:this.outputsData[t]??"0x"})}get outputCells(){const{outputs:e,outputsData:t}=this;function*n(){for(let i=0;i<e.length;i++)yield Gt.from({cellOutput:e[i],outputData:t[i]??"0x"})}return n()}addOutput(e,t){const n="cellOutput"in e?Gt.from(e):Gt.from({cellOutput:e,outputData:t}),i=this.outputs.push(n.cellOutput);return this.setOutputDataAt(i-1,n.outputData),i}getWitnessArgsAt(e){const t=this.witnesses[e];return(t??"0x")!=="0x"?Ht.fromBytes(t):void 0}setWitnessArgsAt(e,t){this.setWitnessAt(e,t.toBytes())}setWitnessAt(e,t){this.witnesses.length<e&&this.witnesses.push(...Array.from(new Array(e-this.witnesses.length),()=>"0x")),this.witnesses[e]=F(t)}async prepareSighashAllWitness(e,t,n){const i=await this.findInputIndexByLock(e,n);if(i===void 0)return;const s=this.getWitnessArgsAt(i)??Ht.from({});s.lock=F(Array.from(new Array(t),()=>0)),this.setWitnessArgsAt(i,s)}async getInputsCapacityExtra(e){return or(this.inputs,async(t,n)=>t+await n.getExtraCapacity(e),K(0))}async getInputsCapacity(e){return await or(this.inputs,async(t,n)=>{const{cellOutput:{capacity:i}}=await n.getCell(e);return t+i},K(0))+await this.getInputsCapacityExtra(e)}getOutputsCapacity(){return this.outputs.reduce((e,{capacity:t})=>e+t,K(0))}async getInputsUdtBalance(e,t){return or(this.inputs,async(n,i)=>{var a;const{cellOutput:s,outputData:o}=await i.getCell(e);if((a=s.type)!=null&&a.eq(t))return n+oi(o)},K(0))}getOutputsUdtBalance(e){return this.outputs.reduce((t,n,i)=>{var s;return(s=n.type)!=null&&s.eq(e)?t+oi(this.outputsData[i]):t},K(0))}async completeInputs(e,t,n,i){const s=[];let o=i,a=!1;for await(const c of e.findCells(t,!0)){if(this.inputs.some(({previousOutput:l})=>l.eq(c.outPoint)))continue;const f=s.push(c),d=await Promise.resolve(n(o,c,f-1,s));if(d===void 0){a=!0;break}o=d}return s.forEach(c=>this.addInput(c)),a?{addedCount:s.length}:{addedCount:s.length,accumulated:o}}async completeInputsByCapacity(e,t,n){const i=this.getOutputsCapacity()+K(t??0),s=await this.getInputsCapacity(e.client);if(s>=i)return 0;const{addedCount:o,accumulated:a}=await this.completeInputs(e,n??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(c,{cellOutput:{capacity:f}})=>{const d=c+f;return d>=i?void 0:d},s);if(a===void 0)return o;throw new si(i-a)}async completeInputsAll(e,t){const{addedCount:n}=await this.completeInputs(e,t??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},(i,{cellOutput:{capacity:s}})=>i+s,Ue);return n}async completeInputsByUdt(e,t,n){const i=this.getOutputsUdtBalance(t)+K(n??0);if(i===K(0))return 0;const[s,o]=await or(this.inputs,async([f,d],l)=>{var m;const{cellOutput:g,outputData:y}=await l.getCell(e.client);if((m=g.type)!=null&&m.eq(t))return[f+oi(y),d+1]},[K(0),0]);if(s===i||s>=i&&o>=2)return 0;const{addedCount:a,accumulated:c}=await this.completeInputs(e,{script:t,outputDataLenRange:[16,K("0xffffffff")]},(f,{outputData:d},l,g)=>{const y=oi(d),m=f+y;return m===i||m>=i&&o+g.length>=2?void 0:m},s);if(c===void 0||c>=i)return a;throw new H0(i-c,t)}async completeInputsAddOne(e,t){const{addedCount:n,accumulated:i}=await this.completeInputs(e,t??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},()=>{},!0);if(i===void 0)return n;throw new Error("Insufficient CKB, need at least one new cell")}async completeInputsAtLeastOne(e,t){return this.inputs.length>0?0:this.completeInputsAddOne(e,t)}async getFee(e){return await this.getInputsCapacity(e)-this.getOutputsCapacity()}async getFeeRate(e){return await this.getFee(e)*K(1e3)/K(this.toBytes().length+4)}estimateFee(e){const t=this.toBytes().length+4;return(K(t)*K(e)+K(999))/K(1e3)}async completeFee(e,t,n,i,s){const o=n??await e.client.getFeeRate(s==null?void 0:s.feeRateBlockRange,s);await this.getInputsCapacity(e.client);let a=Ue,c=Ue,f=0;for(;;){f+=await(async()=>{if(!((s==null?void 0:s.shouldAddInputs)??!0))return 0;try{return await this.completeInputsByCapacity(e,a+c,i)}catch(m){throw m instanceof si&&c!==Ue?new si(m.amount,{isForChange:!0}):m}})();const d=await this.getFee(e.client);if(d<a+c)throw new si(a+c-d,{isForChange:c!==Ue});if(await e.prepareTransaction(this),a===Ue&&(a=this.estimateFee(o)),d===a)return[f,!1];const l=this.clone(),g=K(await Promise.resolve(t(l,d-a)));if(g>Ue){c=g;continue}if(await l.getFee(e.client)!==a)throw new Error("The change function doesn't use all available capacity");await e.prepareTransaction(l);const y=l.estimateFee(o);if(a>y)throw new Error("The change function removed existed transaction data");if(a===y)return this.copy(l),[f,!0];a=y}}completeFeeChangeToLock(e,t,n,i,s){const o=be.from(t);return this.completeFee(e,(a,c)=>{const f=Jt.from({capacity:0,lock:o}),d=Gn(f.occupiedSize);return c<d?d:(f.capacity=c,a.addOutput(f),0)},n,i,s)}async completeFeeBy(e,t,n,i){const{script:s}=await e.getRecommendedAddressObj();return this.completeFeeChangeToLock(e,s,t,n,i)}completeFeeChangeToOutput(e,t,n,i,s){const o=Number(K(t));if(!this.outputs[o])throw new Error("Non-existed output to change");return this.completeFee(e,(a,c)=>(a.outputs[o].capacity+=c,0),n,i,s)}};fe=Ir=Yn([qr(Ee({raw:Io,witnesses:To}).mapIn(r=>{const e=fe.from(r);return{raw:e,witnesses:e.witnesses}}).mapOut(r=>fe.from({...r.raw,witnesses:r.witnesses})))],fe);function V0(r,e,t){const n=Qt.from(e),i=Qt.from(t),s=K(r);return s*i.dao.ar/n.dao.ar-s}function fl(r,e){const t=Qt.from(r).epoch,n=Qt.from(e).epoch,i=n[0]-t[0];return i%K(180)!==K(0)||t[1]*n[2]<=t[2]*n[1]?[t[0]+(i/K(180)+K(1))*K(180),t[1],t[2]]:[t[0]+i/K(180)*K(180),t[1],t[2]]}function Ro(r,e){return Dt(Xt.from(r).toBytes(),sr(e,8))}function dl(r){try{const{words:e,prefix:t}=Bt.bech32m.decode(r,Dc),n=Bt.bech32m.fromWords(e),i=n[0],s=n.slice(1);if(i===ir.Full)return{prefix:t,format:ir.Full,payload:s}}catch{}try{const{prefix:e,words:t}=Bt.bech32.decode(r,Dc),n=Bt.bech32.fromWords(t),i=n[0],s=n.slice(1);if([ir.FullData,ir.FullType,ir.Short].includes(i))return{prefix:e,format:i,payload:s}}catch{}throw Error(`Unknown address format ${r}`)}async function c5(r,e,t,n){if(e===ir.Full){if(t.length<33)throw new Error(`Invalid full address without enough payload ${F(t)}`);return{script:{codeHash:t.slice(0,32),hashType:Bo(t.slice(32,33)),args:t.slice(33)},prefix:r}}if(e===ir.FullData){if(t.length<32)throw new Error(`Invalid full data address without enough payload ${F(t)}`);return{script:{codeHash:t.slice(0,32),hashType:"data",args:t.slice(32)},prefix:r}}if(e===ir.FullType){if(t.length<32)throw new Error(`Invalid full type address without enough payload ${F(t)}`);return{script:{codeHash:t.slice(0,32),hashType:"type",args:t.slice(32)},prefix:r}}if(t.length!==21)throw new Error(`Invalid short address without enough payload ${F(t)}`);const i=[te.Secp256k1Blake160,te.Secp256k1Multisig,te.AnyoneCanPay][t[0]];if(i===void 0)throw new Error(`Invalid short address with unknown script ${F(t)}`);return{script:await be.fromKnownScript(n,i,t.slice(1)),prefix:r}}var ir;(function(r){r[r.Full=0]="Full",r[r.Short=1]="Short",r[r.FullData=2]="FullData",r[r.FullType=4]="FullType"})(ir||(ir={}));const Dc=1023;let Ot=class ni{constructor(e,t){this.script=e,this.prefix=t}static from(e){return e instanceof ni?e:new ni(be.from(e.script),e.prefix)}static async fromString(e,t){const{prefix:n,format:i,payload:s}=dl(e),o=t[n]??t;if(!o)throw new Error(`Unknown address prefix ${n}`);const a=o.addressPrefix;if(a!==n)throw new Error(`Unknown address prefix ${n}, expected ${a}`);return ni.from(await c5(n,i,s,o))}static fromScript(e,t){return ni.from({script:e,prefix:t.addressPrefix})}static async fromKnownScript(e,t,n){return ni.from({script:await be.fromKnownScript(e,t,n),prefix:e.addressPrefix})}toString(){const e=Fe([ir.Full],Q(this.script.codeHash),Mo(this.script.hashType),Q(this.script.args));return Bt.bech32m.encode(this.prefix,Bt.bech32m.toWords(e),Dc)}};const Pc=16,f5=4,d5=283;function K0(r){return r<<1^d5&-(r>>7)}function T1(r,e){let t=0;for(;e>0;e>>=1)t^=r&-(e&1),r=K0(r);return t}const u5=(()=>{let r=new Uint8Array(256);for(let t=0,n=1;t<256;t++,n^=K0(n))r[t]=n;const e=new Uint8Array(256);e[0]=99;for(let t=0;t<255;t++){let n=r[255-t];n|=n<<8,e[r[t]]=(n^n>>4^n>>5^n>>6^n>>7^99)&255}return e})(),l5=r=>r<<24|r>>>8,Ca=r=>r<<8|r>>>24;function h5(r,e){if(r.length!==256)throw new Error("Wrong sbox length");const t=new Uint32Array(256).map((f,d)=>e(r[d])),n=t.map(Ca),i=n.map(Ca),s=i.map(Ca),o=new Uint32Array(256*256),a=new Uint32Array(256*256),c=new Uint16Array(256*256);for(let f=0;f<256;f++)for(let d=0;d<256;d++){const l=f*256+d;o[l]=t[f]^n[d],a[l]=i[f]^s[d],c[l]=r[f]<<8|r[d]}return{sbox:r,sbox2:c,T0:t,T1:n,T2:i,T3:s,T01:o,T23:a}}const ul=h5(u5,r=>T1(r,3)<<24|r<<16|r<<8|T1(r,2)),p5=(()=>{const r=new Uint8Array(16);for(let e=0,t=1;e<16;e++,t=K0(t))r[e]=t;return r})();function b5(r){pi(r);const e=r.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:t}=ul,n=Ws(r),i=n.length,s=a=>Zi(t,a,a,a,a),o=new Uint32Array(e+28);o.set(n);for(let a=i;a<o.length;a++){let c=o[a-1];a%i===0?c=s(l5(c))^p5[a/i-1]:i>6&&a%i===4&&(c=s(c)),o[a]=o[a-i]^c}return o}function Ls(r,e,t,n,i,s){return r[t<<8&65280|n>>>8&255]^e[i>>>8&65280|s>>>24&255]}function Zi(r,e,t,n,i){return r[e&255|t&65280]|r[n>>>16&255|i>>>16&65280]<<16}function M1(r,e,t,n,i){const{sbox2:s,T01:o,T23:a}=ul;let c=0;e^=r[c++],t^=r[c++],n^=r[c++],i^=r[c++];const f=r.length/4-2;for(let m=0;m<f;m++){const x=r[c++]^Ls(o,a,e,t,n,i),E=r[c++]^Ls(o,a,t,n,i,e),B=r[c++]^Ls(o,a,n,i,e,t),R=r[c++]^Ls(o,a,i,e,t,n);e=x,t=E,n=B,i=R}const d=r[c++]^Zi(s,e,t,n,i),l=r[c++]^Zi(s,t,n,i,e),g=r[c++]^Zi(s,n,i,e,t),y=r[c++]^Zi(s,i,e,t,n);return{s0:d,s1:l,s2:g,s3:y}}function g5(r,e){if(!e)return new Uint8Array(r);if(pi(e),e.length<r)throw new Error(`aes: wrong destination length, expected at least ${r}, got: ${e.length}`);return e}function y5(r,e,t,n){pi(e,Pc),pi(t);const i=t.length;n=g5(i,n);const s=e,o=Ws(s);let{s0:a,s1:c,s2:f,s3:d}=M1(r,o[0],o[1],o[2],o[3]);const l=Ws(t),g=Ws(n);for(let m=0;m+4<=l.length;m+=4){g[m+0]=l[m+0]^a,g[m+1]=l[m+1]^c,g[m+2]=l[m+2]^f,g[m+3]=l[m+3]^d;let x=1;for(let E=s.length-1;E>=0;E--)x=x+(s[E]&255)|0,s[E]=x&255,x>>>=8;({s0:a,s1:c,s2:f,s3:d}=M1(r,o[0],o[1],o[2],o[3]))}const y=Pc*Math.floor(l.length/f5);if(y<i){const m=new Uint32Array([a,c,f,d]),x=U3(m);for(let E=y,B=0;E<i;E++,B++)n[E]=t[E]^x[B]}return n}const ll=F3({blockSize:16,nonceLength:16},function(e,t){pi(e),pi(t,Pc);function n(i,s){const o=b5(e),a=t.slice(),c=y5(o,a,i,s);return o.fill(0),a.fill(0),c}return{encrypt:(i,s)=>n(i,s),decrypt:(i,s)=>n(i,s)}});let hl=class extends wo{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,a0(e);const n=Lr(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Lt(s)}update(e){return cn(this),this.iHash.update(e),this}digestInto(e){cn(this),dr(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Z0=(r,e,t)=>new hl(r,e).update(t).digest();Z0.create=(r,e)=>new hl(r,e);function m5(r,e,t,n){a0(r);const i=Iu({dkLen:32,asyncTick:10},n),{c:s,dkLen:o,asyncTick:a}=i;if(lt(s),lt(o),lt(a),s<1)throw new Error("iterations (c) should be >= 1");const c=v1(e),f=v1(t),d=new Uint8Array(o),l=Z0.create(r,c),g=l._cloneInto().update(f);return{c:s,dkLen:o,asyncTick:a,DK:d,PRF:l,PRFSalt:g}}function w5(r,e,t,n,i){return r.destroy(),e.destroy(),n&&n.destroy(),Lt(i),t}function pl(r,e,t,n){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=m5(r,e,t,n);let f;const d=new Uint8Array(4),l=Gs(d),g=new Uint8Array(a.outputLen);for(let y=1,m=0;m<s;y++,m+=a.outputLen){const x=o.subarray(m,m+a.outputLen);l.setInt32(0,y,!1),(f=c._cloneInto(f)).update(d).digestInto(g),x.set(g.subarray(0,x.length));for(let E=1;E<i;E++){a._cloneInto(f).update(g).digestInto(g);for(let B=0;B<x.length;B++)x[B]^=g[B]}}return w5(a,c,o,f,g)}const v5=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yr=new Uint32Array(64);let x5=class extends Ru{constructor(e=32){super(64,e,8,!1),this.A=Wr[0]|0,this.B=Wr[1]|0,this.C=Wr[2]|0,this.D=Wr[3]|0,this.E=Wr[4]|0,this.F=Wr[5]|0,this.G=Wr[6]|0,this.H=Wr[7]|0}get(){const{A:e,B:t,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,t,n,i,s,o,a,c]}set(e,t,n,i,s,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let l=0;l<16;l++,t+=4)Yr[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const g=Yr[l-15],y=Yr[l-2],m=pr(g,7)^pr(g,18)^g>>>3,x=pr(y,17)^pr(y,19)^y>>>10;Yr[l]=x+Yr[l-7]+m+Yr[l-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:f,H:d}=this;for(let l=0;l<64;l++){const g=pr(a,6)^pr(a,11)^pr(a,25),y=d+g+G3(a,c,f)+v5[l]+Yr[l]|0,x=(pr(n,2)^pr(n,13)^pr(n,22))+X3(n,i,s)|0;d=f,f=c,c=a,a=o+y|0,o=s,s=i,i=n,n=y+x|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,c,f,d)}roundClean(){Lt(Yr)}destroy(){this.set(0,0,0,0,0,0,0,0),Lt(this.buffer)}};const Ur=d0(()=>new x5);function B1(r,e,t,n,i,s){let o=r[e++]^t[n++],a=r[e++]^t[n++],c=r[e++]^t[n++],f=r[e++]^t[n++],d=r[e++]^t[n++],l=r[e++]^t[n++],g=r[e++]^t[n++],y=r[e++]^t[n++],m=r[e++]^t[n++],x=r[e++]^t[n++],E=r[e++]^t[n++],B=r[e++]^t[n++],R=r[e++]^t[n++],D=r[e++]^t[n++],H=r[e++]^t[n++],N=r[e++]^t[n++],U=o,W=a,Y=c,q=f,J=d,O=l,u=g,p=y,_=m,h=x,v=E,S=B,k=R,C=D,b=H,T=N;for(let $=0;$<8;$+=2)J^=me(U+k|0,7),_^=me(J+U|0,9),k^=me(_+J|0,13),U^=me(k+_|0,18),h^=me(O+W|0,7),C^=me(h+O|0,9),W^=me(C+h|0,13),O^=me(W+C|0,18),b^=me(v+u|0,7),Y^=me(b+v|0,9),u^=me(Y+b|0,13),v^=me(u+Y|0,18),q^=me(T+S|0,7),p^=me(q+T|0,9),S^=me(p+q|0,13),T^=me(S+p|0,18),W^=me(U+q|0,7),Y^=me(W+U|0,9),q^=me(Y+W|0,13),U^=me(q+Y|0,18),u^=me(O+J|0,7),p^=me(u+O|0,9),J^=me(p+u|0,13),O^=me(J+p|0,18),S^=me(v+h|0,7),_^=me(S+v|0,9),h^=me(_+S|0,13),v^=me(h+_|0,18),k^=me(T+b|0,7),C^=me(k+T|0,9),b^=me(C+k|0,13),T^=me(b+C|0,18);i[s++]=o+U|0,i[s++]=a+W|0,i[s++]=c+Y|0,i[s++]=f+q|0,i[s++]=d+J|0,i[s++]=l+O|0,i[s++]=g+u|0,i[s++]=y+p|0,i[s++]=m+_|0,i[s++]=x+h|0,i[s++]=E+v|0,i[s++]=B+S|0,i[s++]=R+k|0,i[s++]=D+C|0,i[s++]=H+b|0,i[s++]=N+T|0}function Ta(r,e,t,n,i){let s=n+0,o=n+16*i;for(let a=0;a<16;a++)t[o+a]=r[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)B1(t,o,r,e,t,s),a>0&&(o+=16),B1(t,s,r,e+=16,t,o)}function _5(r,e,t){const n=Iu({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:o,dkLen:a,asyncTick:c,maxmem:f,onProgress:d}=n;if(lt(i),lt(s),lt(o),lt(a),lt(c),lt(f),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");const l=128*s,g=l/4,y=Math.pow(2,32);if(i<=1||(i&i-1)!==0||i>y)throw new Error("Scrypt: N must be larger than 1, a power of 2, and less than 2^32");if(o<0||o>(y-1)*32/l)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(y-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");if(l*(i+o)>f)throw new Error("Scrypt: memused is bigger than maxMem. Expected 128 * r * (N + p) > maxmem of "+f);const x=pl(Ur,r,e,{c:1,dkLen:l*o}),E=on(x),B=on(new Uint8Array(l*i)),R=on(new Uint8Array(l));let D=()=>{};if(d){const H=2*i*o,N=Math.max(Math.floor(H/1e4),1);let U=0;D=()=>{U++,d&&(!(U%N)||U===H)&&d(U/H)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:g,V:B,B32:E,B:x,tmp:R,blockMixCb:D,asyncTick:c}}function A5(r,e,t,n,i){const s=pl(Ur,r,t,{c:1,dkLen:e});return Lt(t,n,i),s}async function bl(r,e,t){const{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:f,B:d,tmp:l,blockMixCb:g,asyncTick:y}=_5(r,e,t);wr(f);for(let m=0;m<s;m++){const x=a*m;for(let B=0;B<a;B++)c[B]=f[x+B];let E=0;await w1(n-1,y,()=>{Ta(c,E,c,E+=a,i),g()}),Ta(c,(n-1)*a,f,x,i),g(),await w1(n,y,()=>{const B=f[x+a-16]%n;for(let R=0;R<a;R++)l[R]=f[x+R]^c[B*a+R];Ta(l,0,f,x,i),g()})}return wr(f),A5(r,o,d,c,l)}const E5=8,S5=1,C5=262144;function gl(r,e){return F(Xu(Fe(r.slice(16,32),e))).slice(2)}async function yl(r,e,t){const n=Dn(32),i=Dn(16),s={dklen:32,salt:F(n).slice(2),n:C5,r:E5,p:S5},o=await bl(Q(t,"utf8"),n,{N:s.n,r:s.r,p:s.p,dkLen:s.dklen}),c=ll(o.slice(0,16),i.map(f=>f)).encrypt(Fe(Q(r),Q(e)));return{id:F(Dn(16)).slice(2),crypto:{ciphertext:F(c).slice(2),cipherparams:{iv:F(i).slice(2)},cipher:"aes-128-ctr",kdf:"scrypt",kdfparams:s,mac:gl(o,c)}}}async function ml(r,e){if(typeof r!="object"||r===null||!("crypto"in r))throw Error("Invalid keystore");const t=r.crypto;if(typeof t!="object"||t===null||!("kdfparams"in t)||!("ciphertext"in t)||typeof t.ciphertext!="string"||!("mac"in t)||typeof t.mac!="string"||!("cipherparams"in t)||typeof t.cipherparams!="object"||t.cipherparams===null||!("iv"in t.cipherparams)||typeof t.cipherparams.iv!="string")throw Error("Invalid crypto");const n=t.kdfparams;if(typeof n!="object"||n===null||!("n"in n)||typeof n.n!="number"||!("r"in n)||typeof n.r!="number"||!("p"in n)||typeof n.p!="number"||!("dklen"in n)||typeof n.dklen!="number"||!("salt"in n)||typeof n.salt!="string")throw Error("Invalid kdfparams");const i=await bl(Q(e,"utf8"),Q(n.salt),{N:n.n,r:n.r,p:n.p,dkLen:n.dklen}),s=Q(t.ciphertext);if(gl(i,s)!==t.mac)throw Error("Invalid password");const a=ll(i.slice(0,16),Q(t.cipherparams.iv)).decrypt(s);return{privateKey:a.slice(0,32),chainCode:a.slice(32)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W0=BigInt(0),Nc=BigInt(1);function so(r,e=""){if(typeof r!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof r)}return r}function Cn(r,e,t=""){const n=mo(r),i=r==null?void 0:r.length,s=e!==void 0;if(!n||s&&i!==e){const o=t&&`"${t}" `,a=s?` of length ${e}`:"",c=n?`length=${i}`:`type=${typeof r}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return r}function Hs(r){const e=r.toString(16);return e.length&1?"0"+e:e}function wl(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?W0:BigInt("0x"+r)}function Bi(r){return wl(fi(r))}function vl(r){return dr(r),wl(fi(Uint8Array.from(r).reverse()))}function Do(r,e){return no(r.toString(16).padStart(e*2,"0"))}function xl(r,e){return Do(r,e).reverse()}function ft(r,e,t){let n;if(typeof e=="string")try{n=no(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(mo(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const i=n.length;if(typeof t=="number"&&i!==t)throw new Error(r+" of length "+t+" expected, got "+i);return n}const Ma=r=>typeof r=="bigint"&&W0<=r;function Lc(r,e,t){return Ma(r)&&Ma(e)&&Ma(t)&&e<=r&&r<t}function T5(r,e,t,n){if(!Lc(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function _l(r){let e;for(e=0;r>W0;r>>=Nc,e+=1);return e}const hs=r=>(Nc<<BigInt(r))-Nc;function M5(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const n=y=>new Uint8Array(y),i=y=>Uint8Array.of(y);let s=n(r),o=n(r),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},f=(...y)=>t(o,s,...y),d=(y=n(0))=>{o=f(i(0),y),s=f(),y.length!==0&&(o=f(i(1),y),s=f())},l=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const m=[];for(;y<e;){s=f();const x=s.slice();m.push(x),y+=s.length}return vr(...m)};return(y,m)=>{c(),d(y);let x;for(;!(x=m(l()));)d();return c(),x}}function G0(r,e,t={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function n(i,s,o){const a=r[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(t).forEach(([i,s])=>n(i,s,!0))}function k1(r){const e=new WeakMap;return(t,...n)=>{const i=e.get(t);if(i!==void 0)return i;const s=r(t,...n);return e.set(t,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kt=BigInt(0),_t=BigInt(1),Tn=BigInt(2),Al=BigInt(3),El=BigInt(4),Sl=BigInt(5),B5=BigInt(7),Cl=BigInt(8),k5=BigInt(9),Tl=BigInt(16);function Vt(r,e){const t=r%e;return t>=kt?t:e+t}function jt(r,e,t){let n=r;for(;e-- >kt;)n*=n,n%=t;return n}function O1(r,e){if(r===kt)throw new Error("invert: expected non-zero number");if(e<=kt)throw new Error("invert: expected positive modulus, got "+e);let t=Vt(r,e),n=e,i=kt,s=_t;for(;t!==kt;){const a=n/t,c=n%t,f=i-s*a;n=t,t=c,i=s,s=f}if(n!==_t)throw new Error("invert: does not exist");return Vt(i,e)}function X0(r,e,t){if(!r.eql(r.sqr(e),t))throw new Error("Cannot find square root")}function Ml(r,e){const t=(r.ORDER+_t)/El,n=r.pow(e,t);return X0(r,n,e),n}function O5(r,e){const t=(r.ORDER-Sl)/Cl,n=r.mul(e,Tn),i=r.pow(n,t),s=r.mul(e,i),o=r.mul(r.mul(s,Tn),i),a=r.mul(s,r.sub(o,r.ONE));return X0(r,a,e),a}function I5(r){const e=ps(r),t=Bl(r),n=t(e,e.neg(e.ONE)),i=t(e,n),s=t(e,e.neg(n)),o=(r+B5)/Tl;return(a,c)=>{let f=a.pow(c,o),d=a.mul(f,n);const l=a.mul(f,i),g=a.mul(f,s),y=a.eql(a.sqr(d),c),m=a.eql(a.sqr(l),c);f=a.cmov(f,d,y),d=a.cmov(g,l,m);const x=a.eql(a.sqr(d),c),E=a.cmov(f,d,x);return X0(a,E,c),E}}function Bl(r){if(r<Al)throw new Error("sqrt is not defined for small field");let e=r-_t,t=0;for(;e%Tn===kt;)e/=Tn,t++;let n=Tn;const i=ps(r);for(;I1(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return Ml;let s=i.pow(n,e);const o=(e+_t)/Tn;return function(c,f){if(c.is0(f))return f;if(I1(c,f)!==1)throw new Error("Cannot find square root");let d=t,l=c.mul(c.ONE,s),g=c.pow(f,e),y=c.pow(f,o);for(;!c.eql(g,c.ONE);){if(c.is0(g))return c.ZERO;let m=1,x=c.sqr(g);for(;!c.eql(x,c.ONE);)if(m++,x=c.sqr(x),m===d)throw new Error("Cannot find square root");const E=_t<<BigInt(d-m-1),B=c.pow(l,E);d=m,l=c.sqr(B),g=c.mul(g,l),y=c.mul(y,B)}return y}}function R5(r){return r%El===Al?Ml:r%Cl===Sl?O5:r%Tl===k5?I5(r):Bl(r)}const D5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function P5(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=D5.reduce((n,i)=>(n[i]="function",n),e);return G0(r,t),r}function N5(r,e,t){if(t<kt)throw new Error("invalid exponent, negatives unsupported");if(t===kt)return r.ONE;if(t===_t)return e;let n=r.ONE,i=e;for(;t>kt;)t&_t&&(n=r.mul(n,i)),i=r.sqr(i),t>>=_t;return n}function kl(r,e,t=!1){const n=new Array(e.length).fill(t?r.ZERO:void 0),i=e.reduce((o,a,c)=>r.is0(a)?o:(n[c]=o,r.mul(o,a)),r.ONE),s=r.inv(i);return e.reduceRight((o,a,c)=>r.is0(a)?o:(n[c]=r.mul(o,n[c]),r.mul(o,a)),s),n}function I1(r,e){const t=(r.ORDER-_t)/Tn,n=r.pow(e,t),i=r.eql(n,r.ONE),s=r.eql(n,r.ZERO),o=r.eql(n,r.neg(r.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Ol(r,e){e!==void 0&&lt(e);const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function ps(r,e,t=!1,n={}){if(r<=kt)throw new Error("invalid field: expected ORDER > 0, got "+r);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(n.sqrt||t)throw new Error("cannot specify opts in two arguments");const g=e;g.BITS&&(i=g.BITS),g.sqrt&&(s=g.sqrt),typeof g.isLE=="boolean"&&(t=g.isLE),typeof g.modFromBytes=="boolean"&&(o=g.modFromBytes),a=g.allowedLengths}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:c,nByteLength:f}=Ol(r,i);if(f>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const l=Object.freeze({ORDER:r,isLE:t,BITS:c,BYTES:f,MASK:hs(c),ZERO:kt,ONE:_t,allowedLengths:a,create:g=>Vt(g,r),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return kt<=g&&g<r},is0:g=>g===kt,isValidNot0:g=>!l.is0(g)&&l.isValid(g),isOdd:g=>(g&_t)===_t,neg:g=>Vt(-g,r),eql:(g,y)=>g===y,sqr:g=>Vt(g*g,r),add:(g,y)=>Vt(g+y,r),sub:(g,y)=>Vt(g-y,r),mul:(g,y)=>Vt(g*y,r),pow:(g,y)=>N5(l,g,y),div:(g,y)=>Vt(g*O1(y,r),r),sqrN:g=>g*g,addN:(g,y)=>g+y,subN:(g,y)=>g-y,mulN:(g,y)=>g*y,inv:g=>O1(g,r),sqrt:s||(g=>(d||(d=R5(r)),d(l,g))),toBytes:g=>t?xl(g,f):Do(g,f),fromBytes:(g,y=!0)=>{if(a){if(!a.includes(g.length)||g.length>f)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+g.length);const x=new Uint8Array(f);x.set(g,t?0:x.length-g.length),g=x}if(g.length!==f)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+g.length);let m=t?vl(g):Bi(g);if(o&&(m=Vt(m,r)),!y&&!l.isValid(m))throw new Error("invalid field element: outside of range 0..ORDER");return m},invertBatch:g=>kl(l,g),cmov:(g,y,m)=>m?y:g});return Object.freeze(l)}function Il(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function Rl(r){const e=Il(r);return e+Math.ceil(e/2)}function Dl(r,e,t=!1){const n=r.length,i=Il(e),s=Rl(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=t?vl(r):Bi(r),a=Vt(o,e-_t)+_t;return t?xl(a,i):Do(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mi=BigInt(0),Mn=BigInt(1);function oo(r,e){const t=e.negate();return r?t:e}function Ba(r,e){const t=kl(r.Fp,e.map(n=>n.Z));return e.map((n,i)=>r.fromAffine(n.toAffine(t[i])))}function Pl(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function ka(r,e){Pl(r,e);const t=Math.ceil(e/r)+1,n=2**(r-1),i=2**r,s=hs(r),o=BigInt(r);return{windows:t,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function R1(r,e,t){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=t;let a=Number(r&i),c=r>>o;a>n&&(a-=s,c+=Mn);const f=e*n,d=f+Math.abs(a)-1,l=a===0,g=a<0,y=e%2!==0;return{nextN:c,offset:d,isZero:l,isNeg:g,isNegF:y,offsetF:f}}function L5(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function H5(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}const Oa=new WeakMap,Nl=new WeakMap;function Ia(r){return Nl.get(r)||1}function D1(r){if(r!==mi)throw new Error("invalid wNAF")}let U5=class{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let i=e;for(;t>mi;)t&Mn&&(n=n.add(i)),i=i.double(),t>>=Mn;return n}precomputeWindow(e,t){const{windows:n,windowSize:i}=ka(t,this.bits),s=[];let o=e,a=o;for(let c=0;c<n;c++){a=o,s.push(a);for(let f=1;f<i;f++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=ka(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:g,offsetF:y}=R1(n,a,o);n=c,d?s=s.add(oo(g,t[y])):i=i.add(oo(l,t[f]))}return D1(n),{p:i,f:s}}wNAFUnsafe(e,t,n,i=this.ZERO){const s=ka(e,this.bits);for(let o=0;o<s.windows&&n!==mi;o++){const{nextN:a,offset:c,isZero:f,isNeg:d}=R1(n,o,s);if(n=a,!f){const l=t[c];i=i.add(d?l.negate():l)}}return D1(n),i}getPrecomputes(e,t,n){let i=Oa.get(t);return i||(i=this.precomputeWindow(t,e),e!==1&&(typeof n=="function"&&(i=n(i)),Oa.set(t,i))),i}cached(e,t,n){const i=Ia(e);return this.wNAF(i,this.getPrecomputes(i,e,n),t)}unsafe(e,t,n,i){const s=Ia(e);return s===1?this._unsafeLadder(e,t,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),t,i)}createCache(e,t){Pl(t,this.bits),Nl.set(e,t),Oa.delete(e)}hasCache(e){return Ia(e)!==1}};function $5(r,e,t,n){let i=e,s=r.ZERO,o=r.ZERO;for(;t>mi||n>mi;)t&Mn&&(s=s.add(i)),n&Mn&&(o=o.add(i)),i=i.double(),t>>=Mn,n>>=Mn;return{p1:s,p2:o}}function F5(r,e,t,n){L5(t,r),H5(n,e);const i=t.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=r.ZERO,a=_l(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const f=hs(c),d=new Array(Number(f)+1).fill(o),l=Math.floor((e.BITS-1)/c)*c;let g=o;for(let y=l;y>=0;y-=c){d.fill(o);for(let x=0;x<s;x++){const E=n[x],B=Number(E>>BigInt(y)&f);d[B]=d[B].add(t[x])}let m=o;for(let x=d.length-1,E=o;x>0;x--)E=E.add(d[x]),m=m.add(E);if(g=g.add(m),y!==0)for(let x=0;x<c;x++)g=g.double()}return g}function P1(r,e,t){if(e){if(e.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return P5(e),e}else return ps(r,{isLE:t})}function q5(r,e,t={},n){if(n===void 0&&(n=r==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${r} CURVE object`);for(const c of["p","n","h"]){const f=e[c];if(!(typeof f=="bigint"&&f>mi))throw new Error(`CURVE.${c} must be positive bigint`)}const i=P1(e.p,t.Fp,n),s=P1(e.n,t.Fn,n),a=["Gx","Gy","a","b"];for(const c of a)if(!i.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N1=(r,e)=>(r+(r>=0?e:-e)/Ll)/e;function j5(r,e,t){const[[n,i],[s,o]]=e,a=N1(o*r,t),c=N1(-i*r,t);let f=r-a*n-c*s,d=-a*i-c*o;const l=f<Nr,g=d<Nr;l&&(f=-f),g&&(d=-d);const y=hs(Math.ceil(_l(t)/2))+ui;if(f<Nr||f>=y||d<Nr||d>=y)throw new Error("splitScalar (endomorphism): failed, k="+r);return{k1neg:l,k1:f,k2neg:g,k2:d}}function Hc(r){if(!["compact","recovered","der"].includes(r))throw new Error('Signature format must be "compact", "recovered", or "der"');return r}function Ra(r,e){const t={};for(let n of Object.keys(e))t[n]=r[n]===void 0?e[n]:r[n];return so(t.lowS,"lowS"),so(t.prehash,"prehash"),t.format!==void 0&&Hc(t.format),t}class z5 extends Error{constructor(e=""){super(e)}}const Rr={Err:z5,_tlv:{encode:(r,e)=>{const{Err:t}=Rr;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const n=e.length/2,i=Hs(n);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const s=n>127?Hs(i.length/2|128):"";return Hs(r)+s+i+e},decode(r,e){const{Err:t}=Rr;let n=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[n++]!==r)throw new t("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new t("tlv.decode(long): indefinite length not supported");if(c>4)throw new t("tlv.decode(long): byte length is too big");const f=e.subarray(n,n+c);if(f.length!==c)throw new t("tlv.decode: length bytes not complete");if(f[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const d of f)o=o<<8|d;if(n+=c,o<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(r){const{Err:e}=Rr;if(r<Nr)throw new e("integer: negative integers are not allowed");let t=Hs(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=Rr;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Bi(r)}},toSig(r){const{Err:e,_int:t,_tlv:n}=Rr,i=ft("signature",r),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:f,l:d}=n.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(f)}},hexFromSig(r){const{_tlv:e,_int:t}=Rr,n=e.encode(2,t.encode(r.r)),i=e.encode(2,t.encode(r.s)),s=n+i;return e.encode(48,s)}},Nr=BigInt(0),ui=BigInt(1),Ll=BigInt(2),Us=BigInt(3),V5=BigInt(4);function Bn(r,e){const{BYTES:t}=r;let n;if(typeof e=="bigint")n=e;else{let i=ft("private key",e);try{n=r.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!r.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function K5(r,e={}){const t=q5("weierstrass",r,e),{Fp:n,Fn:i}=t;let s=t.CURVE;const{h:o,n:a}=s;G0(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const f=Ul(n,i);function d(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(u,p,_){const{x:h,y:v}=p.toAffine(),S=n.toBytes(h);if(so(_,"isCompressed"),_){d();const k=!n.isOdd(v);return vr(Hl(k),S)}else return vr(Uint8Array.of(4),S,n.toBytes(v))}function g(u){Cn(u,void 0,"Point");const{publicKey:p,publicKeyUncompressed:_}=f,h=u.length,v=u[0],S=u.subarray(1);if(h===p&&(v===2||v===3)){const k=n.fromBytes(S);if(!n.isValid(k))throw new Error("bad point: is not on curve, wrong x");const C=x(k);let b;try{b=n.sqrt(C)}catch(Z){const G=Z instanceof Error?": "+Z.message:"";throw new Error("bad point: is not on curve, sqrt error"+G)}d();const T=n.isOdd(b);return(v&1)===1!==T&&(b=n.neg(b)),{x:k,y:b}}else if(h===_&&v===4){const k=n.BYTES,C=n.fromBytes(S.subarray(0,k)),b=n.fromBytes(S.subarray(k,k*2));if(!E(C,b))throw new Error("bad point: is not on curve");return{x:C,y:b}}else throw new Error(`bad point: got length ${h}, expected compressed=${p} or uncompressed=${_}`)}const y=e.toBytes||l,m=e.fromBytes||g;function x(u){const p=n.sqr(u),_=n.mul(p,u);return n.add(n.add(_,n.mul(u,s.a)),s.b)}function E(u,p){const _=n.sqr(p),h=x(u);return n.eql(_,h)}if(!E(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const B=n.mul(n.pow(s.a,Us),V5),R=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(B,R)))throw new Error("bad curve params: a or b");function D(u,p,_=!1){if(!n.isValid(p)||_&&n.is0(p))throw new Error(`bad point coordinate ${u}`);return p}function H(u){if(!(u instanceof q))throw new Error("ProjectivePoint expected")}function N(u){if(!c||!c.basises)throw new Error("no endo");return j5(u,c.basises,i.ORDER)}const U=k1((u,p)=>{const{X:_,Y:h,Z:v}=u;if(n.eql(v,n.ONE))return{x:_,y:h};const S=u.is0();p==null&&(p=S?n.ONE:n.inv(v));const k=n.mul(_,p),C=n.mul(h,p),b=n.mul(v,p);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(b,n.ONE))throw new Error("invZ was invalid");return{x:k,y:C}}),W=k1(u=>{if(u.is0()){if(e.allowInfinityPoint&&!n.is0(u.Y))return;throw new Error("bad point: ZERO")}const{x:p,y:_}=u.toAffine();if(!n.isValid(p)||!n.isValid(_))throw new Error("bad point: x or y not field elements");if(!E(p,_))throw new Error("bad point: equation left != right");if(!u.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function Y(u,p,_,h,v){return _=new q(n.mul(_.X,u),_.Y,_.Z),p=oo(h,p),_=oo(v,_),p.add(_)}class q{constructor(p,_,h){this.X=D("x",p),this.Y=D("y",_,!0),this.Z=D("z",h),Object.freeze(this)}static CURVE(){return s}static fromAffine(p){const{x:_,y:h}=p||{};if(!p||!n.isValid(_)||!n.isValid(h))throw new Error("invalid affine point");if(p instanceof q)throw new Error("projective point not allowed");return n.is0(_)&&n.is0(h)?q.ZERO:new q(_,h,n.ONE)}static fromBytes(p){const _=q.fromAffine(m(Cn(p,void 0,"point")));return _.assertValidity(),_}static fromHex(p){return q.fromBytes(ft("pointHex",p))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(p=8,_=!0){return O.createCache(this,p),_||this.multiply(Us),this}assertValidity(){W(this)}hasEvenY(){const{y:p}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(p)}equals(p){H(p);const{X:_,Y:h,Z:v}=this,{X:S,Y:k,Z:C}=p,b=n.eql(n.mul(_,C),n.mul(S,v)),T=n.eql(n.mul(h,C),n.mul(k,v));return b&&T}negate(){return new q(this.X,n.neg(this.Y),this.Z)}double(){const{a:p,b:_}=s,h=n.mul(_,Us),{X:v,Y:S,Z:k}=this;let C=n.ZERO,b=n.ZERO,T=n.ZERO,$=n.mul(v,v),Z=n.mul(S,S),G=n.mul(k,k),X=n.mul(v,S);return X=n.add(X,X),T=n.mul(v,k),T=n.add(T,T),C=n.mul(p,T),b=n.mul(h,G),b=n.add(C,b),C=n.sub(Z,b),b=n.add(Z,b),b=n.mul(C,b),C=n.mul(X,C),T=n.mul(h,T),G=n.mul(p,G),X=n.sub($,G),X=n.mul(p,X),X=n.add(X,T),T=n.add($,$),$=n.add(T,$),$=n.add($,G),$=n.mul($,X),b=n.add(b,$),G=n.mul(S,k),G=n.add(G,G),$=n.mul(G,X),C=n.sub(C,$),T=n.mul(G,Z),T=n.add(T,T),T=n.add(T,T),new q(C,b,T)}add(p){H(p);const{X:_,Y:h,Z:v}=this,{X:S,Y:k,Z:C}=p;let b=n.ZERO,T=n.ZERO,$=n.ZERO;const Z=s.a,G=n.mul(s.b,Us);let X=n.mul(_,S),re=n.mul(h,k),ie=n.mul(v,C),ge=n.add(_,h),ne=n.add(S,k);ge=n.mul(ge,ne),ne=n.add(X,re),ge=n.sub(ge,ne),ne=n.add(_,v);let oe=n.add(S,C);return ne=n.mul(ne,oe),oe=n.add(X,ie),ne=n.sub(ne,oe),oe=n.add(h,v),b=n.add(k,C),oe=n.mul(oe,b),b=n.add(re,ie),oe=n.sub(oe,b),$=n.mul(Z,ne),b=n.mul(G,ie),$=n.add(b,$),b=n.sub(re,$),$=n.add(re,$),T=n.mul(b,$),re=n.add(X,X),re=n.add(re,X),ie=n.mul(Z,ie),ne=n.mul(G,ne),re=n.add(re,ie),ie=n.sub(X,ie),ie=n.mul(Z,ie),ne=n.add(ne,ie),X=n.mul(re,ne),T=n.add(T,X),X=n.mul(oe,ne),b=n.mul(ge,b),b=n.sub(b,X),X=n.mul(ge,re),$=n.mul(oe,$),$=n.add($,X),new q(b,T,$)}subtract(p){return this.add(p.negate())}is0(){return this.equals(q.ZERO)}multiply(p){const{endo:_}=e;if(!i.isValidNot0(p))throw new Error("invalid scalar: out of range");let h,v;const S=k=>O.cached(this,k,C=>Ba(q,C));if(_){const{k1neg:k,k1:C,k2neg:b,k2:T}=N(p),{p:$,f:Z}=S(C),{p:G,f:X}=S(T);v=Z.add(X),h=Y(_.beta,$,G,k,b)}else{const{p:k,f:C}=S(p);h=k,v=C}return Ba(q,[h,v])[0]}multiplyUnsafe(p){const{endo:_}=e,h=this;if(!i.isValid(p))throw new Error("invalid scalar: out of range");if(p===Nr||h.is0())return q.ZERO;if(p===ui)return h;if(O.hasCache(this))return this.multiply(p);if(_){const{k1neg:v,k1:S,k2neg:k,k2:C}=N(p),{p1:b,p2:T}=$5(q,h,S,C);return Y(_.beta,b,T,v,k)}else return O.unsafe(h,p)}multiplyAndAddUnsafe(p,_,h){const v=this.multiplyUnsafe(_).add(p.multiplyUnsafe(h));return v.is0()?void 0:v}toAffine(p){return U(this,p)}isTorsionFree(){const{isTorsionFree:p}=e;return o===ui?!0:p?p(q,this):O.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:p}=e;return o===ui?this:p?p(q,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(p=!0){return so(p,"isCompressed"),this.assertValidity(),y(q,this,p)}toHex(p=!0){return fi(this.toBytes(p))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(p=!0){return this.toBytes(p)}_setWindowSize(p){this.precompute(p)}static normalizeZ(p){return Ba(q,p)}static msm(p,_){return F5(q,i,p,_)}static fromPrivateKey(p){return q.BASE.multiply(Bn(i,p))}}q.BASE=new q(s.Gx,s.Gy,n.ONE),q.ZERO=new q(n.ZERO,n.ONE,n.ZERO),q.Fp=n,q.Fn=i;const J=i.BITS,O=new U5(q,e.endo?Math.ceil(J/2):J);return q.BASE.precompute(8),q}function Hl(r){return Uint8Array.of(r?2:3)}function Ul(r,e){return{secretKey:e.BYTES,publicKey:1+r.BYTES,publicKeyUncompressed:1+2*r.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Z5(r,e={}){const{Fn:t}=r,n=e.randomBytes||Dn,i=Object.assign(Ul(r.Fp,t),{seed:Rl(t.ORDER)});function s(y){try{return!!Bn(t,y)}catch{return!1}}function o(y,m){const{publicKey:x,publicKeyUncompressed:E}=i;try{const B=y.length;return m===!0&&B!==x||m===!1&&B!==E?!1:!!r.fromBytes(y)}catch{return!1}}function a(y=n(i.seed)){return Dl(Cn(y,i.seed,"seed"),t.ORDER)}function c(y,m=!0){return r.BASE.multiply(Bn(t,y)).toBytes(m)}function f(y){const m=a(y);return{secretKey:m,publicKey:c(m)}}function d(y){if(typeof y=="bigint")return!1;if(y instanceof r)return!0;const{secretKey:m,publicKey:x,publicKeyUncompressed:E}=i;if(t.allowedLengths||m===x)return;const B=ft("key",y).length;return B===x||B===E}function l(y,m,x=!0){if(d(y)===!0)throw new Error("first arg must be private key");if(d(m)===!1)throw new Error("second arg must be public key");const E=Bn(t,y);return r.fromHex(m).multiply(E).toBytes(x)}return Object.freeze({getPublicKey:c,getSharedSecret:l,keygen:f,Point:r,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:y=>Bn(t,y),precompute(y=8,m=r.BASE){return m.precompute(y,!1)}},lengths:i})}function W5(r,e,t={}){a0(e),G0(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=t.randomBytes||Dn,i=t.hmac||((_,...h)=>Z0(e,_,vr(...h))),{Fp:s,Fn:o}=r,{ORDER:a,BITS:c}=o,{keygen:f,getPublicKey:d,getSharedSecret:l,utils:g,lengths:y}=Z5(r,t),m={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},x="compact";function E(_){const h=a>>ui;return _>h}function B(_,h){if(!o.isValidNot0(h))throw new Error(`invalid signature ${_}: out of range 1..Point.Fn.ORDER`);return h}function R(_,h){Hc(h);const v=y.signature,S=h==="compact"?v:h==="recovered"?v+1:void 0;return Cn(_,S,`${h} signature`)}class D{constructor(h,v,S){this.r=B("r",h),this.s=B("s",v),S!=null&&(this.recovery=S),Object.freeze(this)}static fromBytes(h,v=x){R(h,v);let S;if(v==="der"){const{r:T,s:$}=Rr.toSig(Cn(h));return new D(T,$)}v==="recovered"&&(S=h[0],v="compact",h=h.subarray(1));const k=o.BYTES,C=h.subarray(0,k),b=h.subarray(k,k*2);return new D(o.fromBytes(C),o.fromBytes(b),S)}static fromHex(h,v){return this.fromBytes(no(h),v)}addRecoveryBit(h){return new D(this.r,this.s,h)}recoverPublicKey(h){const v=s.ORDER,{r:S,s:k,recovery:C}=this;if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");if(a*Ll<v&&C>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=C===2||C===3?S+a:S;if(!s.isValid(T))throw new Error("recovery id 2 or 3 invalid");const $=s.toBytes(T),Z=r.fromBytes(vr(Hl((C&1)===0),$)),G=o.inv(T),X=N(ft("msgHash",h)),re=o.create(-X*G),ie=o.create(k*G),ge=r.BASE.multiplyUnsafe(re).add(Z.multiplyUnsafe(ie));if(ge.is0())throw new Error("point at infinify");return ge.assertValidity(),ge}hasHighS(){return E(this.s)}toBytes(h=x){if(Hc(h),h==="der")return no(Rr.hexFromSig(this));const v=o.toBytes(this.r),S=o.toBytes(this.s);if(h==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return vr(Uint8Array.of(this.recovery),v,S)}return vr(v,S)}toHex(h){return fi(this.toBytes(h))}assertValidity(){}static fromCompact(h){return D.fromBytes(ft("sig",h),"compact")}static fromDER(h){return D.fromBytes(ft("sig",h),"der")}normalizeS(){return this.hasHighS()?new D(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return fi(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return fi(this.toBytes("compact"))}}const H=t.bits2int||function(h){if(h.length>8192)throw new Error("input is too large");const v=Bi(h),S=h.length*8-c;return S>0?v>>BigInt(S):v},N=t.bits2int_modN||function(h){return o.create(H(h))},U=hs(c);function W(_){return T5("num < 2^"+c,_,Nr,U),o.toBytes(_)}function Y(_,h){return Cn(_,void 0,"message"),h?Cn(e(_),void 0,"prehashed message"):_}function q(_,h,v){if(["recovered","canonical"].some(re=>re in v))throw new Error("sign() legacy options not supported");const{lowS:S,prehash:k,extraEntropy:C}=Ra(v,m);_=Y(_,k);const b=N(_),T=Bn(o,h),$=[W(T),W(b)];if(C!=null&&C!==!1){const re=C===!0?n(y.secretKey):C;$.push(ft("extraEntropy",re))}const Z=vr(...$),G=b;function X(re){const ie=H(re);if(!o.isValidNot0(ie))return;const ge=o.inv(ie),ne=r.BASE.multiply(ie).toAffine(),oe=o.create(ne.x);if(oe===Nr)return;const pt=o.create(ge*o.create(G+oe*T));if(pt===Nr)return;let ye=(ne.x===oe?0:2)|Number(ne.y&ui),ce=pt;return S&&E(pt)&&(ce=o.neg(pt),ye^=1),new D(oe,ce,ye)}return{seed:Z,k2sig:X}}function J(_,h,v={}){_=ft("message",_);const{seed:S,k2sig:k}=q(_,h,v);return M5(e.outputLen,o.BYTES,i)(S,k)}function O(_){let h;const v=typeof _=="string"||mo(_),S=!v&&_!==null&&typeof _=="object"&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!v&&!S)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(S)h=new D(_.r,_.s);else if(v){try{h=D.fromBytes(ft("sig",_),"der")}catch(k){if(!(k instanceof Rr.Err))throw k}if(!h)try{h=D.fromBytes(ft("sig",_),"compact")}catch{return!1}}return h||!1}function u(_,h,v,S={}){const{lowS:k,prehash:C,format:b}=Ra(S,m);if(v=ft("publicKey",v),h=Y(ft("message",h),C),"strict"in S)throw new Error("options.strict was renamed to lowS");const T=b===void 0?O(_):D.fromBytes(ft("sig",_),b);if(T===!1)return!1;try{const $=r.fromBytes(v);if(k&&T.hasHighS())return!1;const{r:Z,s:G}=T,X=N(h),re=o.inv(G),ie=o.create(X*re),ge=o.create(Z*re),ne=r.BASE.multiplyUnsafe(ie).add($.multiplyUnsafe(ge));return ne.is0()?!1:o.create(ne.x)===Z}catch{return!1}}function p(_,h,v={}){const{prehash:S}=Ra(v,m);return h=Y(h,S),D.fromBytes(_,"recovered").recoverPublicKey(h).toBytes()}return Object.freeze({keygen:f,getPublicKey:d,getSharedSecret:l,utils:g,lengths:y,Point:r,sign:J,verify:u,recoverPublicKey:p,Signature:D,hash:e})}function G5(r){const e={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp;let n=r.allowedPrivateKeyLengths?Array.from(new Set(r.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=ps(e.n,{BITS:r.nBitLength,allowedLengths:n,modFromBytes:r.wrapPrivateKey}),s={Fp:t,Fn:i,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:e,curveOpts:s}}function X5(r){const{CURVE:e,curveOpts:t}=G5(r),n={hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:e,curveOpts:t,hash:r.hash,ecdsaOpts:n}}function Y5(r,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},r,Ol(t.Fn.ORDER,t.Fn.BITS))})}function Q5(r){const{CURVE:e,curveOpts:t,hash:n,ecdsaOpts:i}=X5(r),s=K5(e,t),o=W5(s,n,i);return Y5(r,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function J5(r,e){const t=n=>Q5({...r,hash:n});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wi={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},e6={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},t6=BigInt(0),L1=BigInt(1),Uc=BigInt(2);function r6(r){const e=wi.p,t=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),f=r*r*r%e,d=f*f*r%e,l=jt(d,t,e)*d%e,g=jt(l,t,e)*d%e,y=jt(g,Uc,e)*f%e,m=jt(y,i,e)*y%e,x=jt(m,s,e)*m%e,E=jt(x,a,e)*x%e,B=jt(E,c,e)*E%e,R=jt(B,a,e)*x%e,D=jt(R,t,e)*d%e,H=jt(D,o,e)*m%e,N=jt(H,n,e)*f%e,U=jt(N,Uc,e);if(!ao.eql(ao.sqr(U),r))throw new Error("Cannot find square root");return U}const ao=ps(wi.p,{sqrt:r6}),Er=J5({...wi,Fp:ao,lowS:!0,endo:e6},Ur),H1={};function co(r,...e){let t=H1[r];if(t===void 0){const n=Ur(f0(r));t=vr(n,n),H1[r]=t}return Ur(vr(t,...e))}const Y0=r=>r.toBytes(!0).slice(1),ki=Er.Point,Q0=r=>r%Uc===t6;function $c(r){const{Fn:e,BASE:t}=ki,n=Bn(e,r),i=t.multiply(n);return{scalar:Q0(i.y)?n:e.neg(n),bytes:Y0(i)}}function $l(r){const e=ao;if(!e.isValidNot0(r))throw new Error("invalid x: Fail if x  p");const t=e.create(r*r),n=e.create(t*r+BigInt(7));let i=e.sqrt(n);Q0(i)||(i=e.neg(i));const s=ki.fromAffine({x:r,y:i});return s.assertValidity(),s}const Gi=Bi;function Fl(...r){return ki.Fn.create(Gi(co("BIP0340/challenge",...r)))}function U1(r){return $c(r).bytes}function n6(r,e,t=Dn(32)){const{Fn:n}=ki,i=ft("message",r),{bytes:s,scalar:o}=$c(e),a=ft("auxRand",t,32),c=n.toBytes(o^Gi(co("BIP0340/aux",a))),f=co("BIP0340/nonce",c,s,i),{bytes:d,scalar:l}=$c(f),g=Fl(d,s,i),y=new Uint8Array(64);if(y.set(d,0),y.set(n.toBytes(n.create(l+g*o)),32),!ql(y,i,s))throw new Error("sign: Invalid signature produced");return y}function ql(r,e,t){const{Fn:n,BASE:i}=ki,s=ft("signature",r,64),o=ft("message",e),a=ft("publicKey",t,32);try{const c=$l(Gi(a)),f=Gi(s.subarray(0,32));if(!Lc(f,L1,wi.p))return!1;const d=Gi(s.subarray(32,64));if(!Lc(d,L1,wi.n))return!1;const l=Fl(n.toBytes(f),Y0(c),o),g=i.multiplyUnsafe(d).add(c.multiplyUnsafe(n.neg(l))),{x:y,y:m}=g.toAffine();return!(g.is0()||!Q0(m)||y!==f)}catch{return!1}}const Fc=(()=>{const t=(i=Dn(48))=>Dl(i,wi.n);Er.utils.randomSecretKey;function n(i){const s=t(i);return{secretKey:s,publicKey:U1(s)}}return{keygen:n,getPublicKey:U1,sign:n6,verify:ql,Point:ki,utils:{randomSecretKey:t,randomPrivateKey:t,taggedHash:co,lift_x:$l,pointToBytes:Y0,numberToBytesBE:Do,bytesToNumberBE:Bi,mod:Vt},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:64,seed:48}}})();function Po(r){const e=typeof r=="string"?r:F(r),t=Q(`Nervos Message:${e}`,"utf8");return Dt(t)}function J0(r,e,t){const n=Q(e);return Er.verify(new Er.Signature(K(n.slice(0,32)),K(n.slice(32,64))).addRecoveryBit(Number(K(n.slice(64,65)))).toBytes(),Q(Po(r)),Q(t))}function i6(r,e){let t,n,i,s="";for(t in r)if((i=r[t])!==void 0)if(Array.isArray(i))for(n=0;n<i.length;n++)s&&(s+="&"),s+=`${encodeURIComponent(t)}=${encodeURIComponent(i[n])}`;else s&&(s+="&"),s+=`${encodeURIComponent(t)}=${encodeURIComponent(i)}`;return""+s}function s6(r,e){function t(n){if(typeof n=="object"&&n!==null)try{return r(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),r(n)}catch{}return n}return n=>{n={...n},n&&Object.keys(n).forEach(s=>{const o=n[s];typeof o>"u"||o===void 0?delete n[s]:n[s]=t(o)});const i=i6(n).toString();return i?`?${i}`:""}}var o6=s6(JSON.stringify,JSON.parse);function fo(r){const e=r.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4,n=e.padEnd(e.length+t,"="),i=atob(n),s=new ArrayBuffer(i.length),o=new Uint8Array(s);for(let a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return s}function kn(r){const e=new Uint8Array(r);let t="";for(let i=0;i<e.length;i++){const s=e[i];s!=null&&(t+=String.fromCharCode(s))}return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function jl(r){const e=new Uint8Array(r.length/2);for(let t=0;t<r.length;t+=2)e[t/2]=Number.parseInt(r.substring(t,t+2),16);return e.buffer}function a6(r){return[...new Uint8Array(r)].map(e=>e.toString(16).padStart(2,"0")).join("")}function c6(r,e){const t=new Uint8Array(r.byteLength+e.byteLength);return t.set(new Uint8Array(r),0),t.set(new Uint8Array(e),r.byteLength),t.buffer}function f6(r){return new TextEncoder().encode(r)}function d6(r){let e="";for(let t=0;t<r.length;t+=2)e+=String.fromCharCode(Number.parseInt(r.substr(t,2),16));return e}function zl(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone}var qc=(r=>(r[r.RS256=-257]="RS256",r[r.ES256=-7]="ES256",r))(qc||{}),_r=(r=>(r.Auth="Auth",r.SignMessage="SignMessage",r.SignEvm="SignEvm",r.SignPsbt="SignPsbt",r.BatchSignPsbt="BatchSignPsbt",r.SignCkbTx="SignCkbTx",r.SignCotaNFT="SignCotaNFT",r.SignCkbRawTx="SignCkbRawTx",r.SignNostrEvent="SignNostrEvent",r.EncryptNostrMessage="EncryptNostrMessage",r.EvmWeb2Login="EvmWeb2Login",r.DecryptNostrMessage="DecryptNostrMessage",r.AuthMiniApp="AuthMiniApp",r.SignMiniAppMessage="SignMiniAppMessage",r.SignMiniAppEvm="SignMiniAppEvm",r))(_r||{}),u6={joyidAppURL:"https://testnet.joyid.dev"},l6=()=>u6,ef=class Vl extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,Vl.prototype)}},h6=class Kl extends ef{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Kl.prototype)}},p6=class Zl extends h6{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,Zl.prototype)}},Wl=class Gl extends ef{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,Gl.prototype)}},b6=class extends ef{constructor(r){super("NotSupported","Popup window is blocked by browser. see: https://docs.joy.id/guide/best-practice#popup-window-blocked"),this.popup=r,Object.setPrototypeOf(this,Wl.prototype)}},Hr=(r,e,t)=>{const n=r.joyidAppURL??l6().joyidAppURL,i=new URL(`${n}`);i.pathname=t;let s=r.redirectURL;i.searchParams.set("type",e);const o=o6({...r,redirectURL:s});return i.searchParams.set("_data_",o),i.href},g6=(r="")=>{const n=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2;return window.open(r,"joyid:authorize:popup",`left=${n},top=${i},width=400,height=600,resizable,scrollbars=yes,status=1`)},y6="joyid-block-dialog-style",tf="joyid-block-dialog-approve",rf="joyid-block-dialog-reject",m6=`
.joyid-block-dialog {
  position: fixed;
  top: 32px;
  left: 50%;
  width: 340px;
  margin-left: -170px;
  background: white;
  color: #333;
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  height: 110px;
  z-index: 100002;
  box-sizing: border-box;
  border: 1px solid #ffffff;
  border-radius: 8px;
  padding: 16px 20px;
}
.joyid-block-dialog-bg {
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  position: fixed;
  top: 0;
  left: 0;
  display: none;
  z-index: 100001;
  display: block;
}
.joyid-block-dialog-title {
  font-weight: bold;
  font-size: 14px;
  margin-bottom: 8px;
}
.joyid-block-dialog-tip {
  font-size: 12px;
  color: #777;
}
.joyid-block-dialog-btn {
  width: 90px;
  height: 35px;
  font-size: 12px;
  text-align: center;
  border-radius: 6px;
  cursor: pointer;
}
.joyid-block-dialog-action {
  text-align: right;
}
#${tf} {
  border: 1px solid #333;
  color: #333;
  background: #D2FF00;
  margin-bottom: 8px;
}

#${rf} {
  background: transparent;
}
`,w6=`
<div class="joyid-block-dialog">
  <div class="joyid-block-dialog-content">
    <div class="joyid-block-dialog-title">
      Request Pop-up
    </div>
    <div class="joyid-block-dialog-tip">
      Click Approve to complete creating or using wallet
    </div>
  </div>
  <div class="joyid-block-dialog-action">
    <button class="joyid-block-dialog-btn" id="${tf}">Approve</button>
    <button class="joyid-block-dialog-btn" id="${rf}">Reject</button>
  </div>
</div>
`,v6=()=>{if(document.getElementById(y6)!=null)return;const e=document.createElement("style");e.appendChild(document.createTextNode(m6)),(document.head??document.getElementsByTagName("head")[0]).appendChild(e)},x6=async r=>{v6();const e=document.createElement("div");e.innerHTML=w6,document.body.appendChild(e);const t=document.createElement("div");t.className="joyid-block-dialog-bg",document.body.appendChild(t);const n=document.getElementById(tf),i=document.getElementById(rf),s=()=>{document.body.removeChild(e),document.body.removeChild(t)};return new Promise((o,a)=>{n==null||n.addEventListener("click",async()=>{try{const c=await r();s(),o(c)}catch(c){s(),a(c)}}),i==null||i.addEventListener("click",()=>{s(),a(new Error("User Rejected"))})})};class P extends Array{constructor(e,t){if(e>P.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");super(e),this.sign=t}static BigInt(e){var t=Math.floor,n=Number.isFinite;if(typeof e=="number"){if(e===0)return P.__zero();if((0|e)===e)return 0>e?P.__oneDigit(-e,!0):P.__oneDigit(e,!1);if(!n(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return P.__fromDouble(e)}if(typeof e=="string"){const i=P.__fromString(e);if(i===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if(typeof e=="boolean")return e===!0?P.__oneDigit(1,!1):P.__zero();if(typeof e=="object"){if(e.constructor===P)return e;const i=P.__toPrimitive(e);return P.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(e&e-1)==0?P.__toStringBasePowerOfTwo(this,e):P.__toStringGeneric(this,e,!1)}static toNumber(e){var t=Math.clz32;const n=e.length;if(n===0)return 0;if(n===1){const B=e.__unsignedDigit(0);return e.sign?-B:B}const i=e.__digit(n-1),s=t(i),o=32*n-s;if(1024<o)return e.sign?-1/0:1/0;let a=o-1,c=i,f=n-1;const d=s+1;let l=d===32?0:c<<d;l>>>=12;const g=d-12;let y=12<=d?0:c<<20+d,m=20+d;0<g&&0<f&&(f--,c=e.__digit(f),l|=c>>>32-g,y=c<<g,m=g),0<m&&0<f&&(f--,c=e.__digit(f),y|=c>>>32-m,m-=32);const x=P.__decideRounding(e,m,f,c);if((x===1||x===0&&(1&y)==1)&&(y=y+1>>>0,y===0&&(l++,l>>>20!=0&&(l=0,a++,1023<a))))return e.sign?-1/0:1/0;const E=e.sign?-2147483648:0;return a=a+1023<<20,P.__kBitConversionInts[1]=E|a|l,P.__kBitConversionInts[0]=y,P.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?P.__absoluteSubOne(e).__trim():P.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return P.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&(1&t.__digit(0))==0?P.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let n=t.__unsignedDigit(0);if(n===1)return e;if(n>=P.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const o=1+(n>>>5),a=e.sign&&(1&n)!=0,c=new P(o,a);c.__initializeDigits();const f=1<<(31&n);return c.__setDigit(o-1,f),c}let i=null,s=e;for((1&n)!=0&&(i=e),n>>=1;n!==0;n>>=1)s=P.multiply(s,s),(1&n)!=0&&(i===null?i=s:i=P.multiply(i,s));return i}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let n=e.length+t.length;32<=e.__clzmsd()+t.__clzmsd()&&n--;const i=new P(n,e.sign!==t.sign);i.__initializeDigits();for(let s=0;s<e.length;s++)P.__multiplyAccumulate(t,e.__digit(s),i,s);return i.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>P.__absoluteCompare(e,t))return P.__zero();const n=e.sign!==t.sign,i=t.__unsignedDigit(0);let s;if(t.length===1&&65535>=i){if(i===1)return n===e.sign?e:P.unaryMinus(e);s=P.__absoluteDivSmall(e,i,null)}else s=P.__absoluteDivLarge(e,t,!0,!1);return s.sign=n,s.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>P.__absoluteCompare(e,t))return e;const n=t.__unsignedDigit(0);if(t.length===1&&65535>=n){if(n===1)return P.__zero();const s=P.__absoluteModSmall(e,n);return s===0?P.__zero():P.__oneDigit(s,e.sign)}const i=P.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,t){const n=e.sign;return n===t.sign?P.__absoluteAdd(e,t,n):0<=P.__absoluteCompare(e,t)?P.__absoluteSub(e,t,n):P.__absoluteSub(t,e,!n)}static subtract(e,t){const n=e.sign;return n===t.sign?0<=P.__absoluteCompare(e,t)?P.__absoluteSub(e,t,n):P.__absoluteSub(t,e,!n):P.__absoluteAdd(e,t,n)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?P.__rightShiftByAbsolute(e,t):P.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?P.__leftShiftByAbsolute(e,t):P.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>P.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=P.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<P.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=P.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}static notEqual(e,t){return!P.equal(e,t)}static bitwiseAnd(e,t){var n=Math.max;if(!e.sign&&!t.sign)return P.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const i=n(e.length,t.length)+1;let s=P.__absoluteSubOne(e,i);const o=P.__absoluteSubOne(t);return s=P.__absoluteOr(s,o,s),P.__absoluteAddOne(s,!0,s).__trim()}return e.sign&&([e,t]=[t,e]),P.__absoluteAndNot(e,P.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var n=Math.max;if(!e.sign&&!t.sign)return P.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const o=n(e.length,t.length),a=P.__absoluteSubOne(e,o),c=P.__absoluteSubOne(t);return P.__absoluteXor(a,c,a).__trim()}const i=n(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let s=P.__absoluteSubOne(t,i);return s=P.__absoluteXor(s,e,s),P.__absoluteAddOne(s,!0,s).__trim()}static bitwiseOr(e,t){var n=Math.max;const i=n(e.length,t.length);if(!e.sign&&!t.sign)return P.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let o=P.__absoluteSubOne(e,i);const a=P.__absoluteSubOne(t);return o=P.__absoluteAnd(o,a,o),P.__absoluteAddOne(o,!0,o).__trim()}e.sign&&([e,t]=[t,e]);let s=P.__absoluteSubOne(t,i);return s=P.__absoluteAndNot(s,e,s),P.__absoluteAddOne(s,!0,s).__trim()}static asIntN(e,t){if(t.length===0)return t;if(e===0)return P.__zero();if(e>=P.__kMaxLengthBits)return t;const n=e+31>>>5;if(t.length<n)return t;const i=t.__unsignedDigit(n-1),s=1<<(31&e-1);if(t.length===n&&i<s)return t;if((i&s)!==s)return P.__truncateToNBits(e,t);if(!t.sign)return P.__truncateAndSubFromPowerOfTwo(e,t,!0);if((i&s-1)==0){for(let o=n-2;0<=o;o--)if(t.__digit(o)!==0)return P.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&i===s?t:P.__truncateToNBits(e,t)}return P.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){if(t.length===0)return t;if(e===0)return P.__zero();if(t.sign){if(e>P.__kMaxLengthBits)throw new RangeError("BigInt too big");return P.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=P.__kMaxLengthBits)return t;const n=e+31>>>5;if(t.length<n)return t;const i=31&e;return t.length==n&&(i===0||!(t.__digit(n-1)>>>i))?t:P.__truncateToNBits(e,t)}static ADD(e,t){if(e=P.__toPrimitive(e),t=P.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=P.__toNumeric(e),t=P.__toNumeric(t),P.__isBigInt(e)&&P.__isBigInt(t))return P.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return P.__compare(e,t,0)}static LE(e,t){return P.__compare(e,t,1)}static GT(e,t){return P.__compare(e,t,2)}static GE(e,t){return P.__compare(e,t,3)}static EQ(e,t){for(;;){if(P.__isBigInt(e))return P.__isBigInt(t)?P.equal(e,t):P.EQ(t,e);if(typeof e=="number"){if(P.__isBigInt(t))return P.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=P.__toPrimitive(t)}else if(typeof e=="string"){if(P.__isBigInt(t))return e=P.__fromString(e),e!==null&&P.equal(e,t);if(typeof t!="object")return e==t;t=P.__toPrimitive(t)}else if(typeof e=="boolean"){if(P.__isBigInt(t))return P.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=P.__toPrimitive(t)}else if(typeof e=="symbol"){if(P.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=P.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==P)return e==t;e=P.__toPrimitive(e)}else return e==t}}static NE(e,t){return!P.EQ(e,t)}static __zero(){return new P(0,!1)}static __oneDigit(e,t){const n=new P(1,t);return n.__setDigit(0,e),n}__copy(){const e=new P(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,n,i){if(0<t)return-1;let s;if(0>t)s=-t-1;else{if(n===0)return-1;n--,i=e.__digit(n),s=31}let o=1<<s;if((i&o)==0)return-1;if(o-=1,(i&o)!=0)return 1;for(;0<n;)if(n--,e.__digit(n)!==0)return 1;return 0}static __fromDouble(e){P.__kBitConversionDouble[0]=e;const t=2047&P.__kBitConversionInts[1]>>>20,n=t-1023,i=(n>>>5)+1,s=new P(i,0>e);let o=1048575&P.__kBitConversionInts[1]|1048576,a=P.__kBitConversionInts[0];const c=20,f=31&n;let d,l=0;if(f<20){const g=c-f;l=g+32,d=o>>>g,o=o<<32-g|a>>>g,a<<=32-g}else if(f===20)l=32,d=o,o=a;else{const g=f-c;l=32-g,d=o<<g|a>>>32-g,o=a<<g}s.__setDigit(i-1,d);for(let g=i-2;0<=g;g--)0<l?(l-=32,d=o,o=a):d=0,s.__setDigit(g,d);return s.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let n=0;const i=e.length;let s=0;if(s===i)return P.__zero();let o=e.charCodeAt(s);for(;P.__isWhitespace(o);){if(++s===i)return P.__zero();o=e.charCodeAt(s)}if(o===43){if(++s===i)return null;o=e.charCodeAt(s),n=1}else if(o===45){if(++s===i)return null;o=e.charCodeAt(s),n=-1}if(t===0){if(t=10,o===48){if(++s===i)return P.__zero();if(o=e.charCodeAt(s),o===88||o===120){if(t=16,++s===i)return null;o=e.charCodeAt(s)}else if(o===79||o===111){if(t=8,++s===i)return null;o=e.charCodeAt(s)}else if(o===66||o===98){if(t=2,++s===i)return null;o=e.charCodeAt(s)}}}else if(t===16&&o===48){if(++s===i)return P.__zero();if(o=e.charCodeAt(s),o===88||o===120){if(++s===i)return null;o=e.charCodeAt(s)}}for(;o===48;){if(++s===i)return P.__zero();o=e.charCodeAt(s)}const a=i-s;let c=P.__kMaxBitsPerChar[t],f=P.__kBitsPerCharTableMultiplier-1;if(a>1073741824/c)return null;const d=c*a+f>>>P.__kBitsPerCharTableShift,l=new P(d+31>>>5,!1),g=10>t?t:10,y=10<t?t-10:0;if((t&t-1)==0){c>>=P.__kBitsPerCharTableShift;const m=[],x=[];let E=!1;do{let B=0,R=0;for(;;){let D;if(o-48>>>0<g)D=o-48;else if((32|o)-97>>>0<y)D=(32|o)-87;else{E=!0;break}if(R+=c,B=B<<c|D,++s===i){E=!0;break}if(o=e.charCodeAt(s),32<R+c)break}m.push(B),x.push(R)}while(!E);P.__fillFromParts(l,m,x)}else{l.__initializeDigits();let m=!1,x=0;do{let E=0,B=1;for(;;){let D;if(o-48>>>0<g)D=o-48;else if((32|o)-97>>>0<y)D=(32|o)-87;else{m=!0;break}const H=B*t;if(4294967295<H)break;if(B=H,E=E*t+D,x++,++s===i){m=!0;break}o=e.charCodeAt(s)}f=32*P.__kBitsPerCharTableMultiplier-1;const R=c*x+f>>>P.__kBitsPerCharTableShift+5;l.__inplaceMultiplyAdd(B,E,R)}while(!m)}if(s!==i){if(!P.__isWhitespace(o))return null;for(s++;s<i;s++)if(o=e.charCodeAt(s),!P.__isWhitespace(o))return null}return n!=0&&t!==10?null:(l.sign=n==-1,l.__trim())}static __fillFromParts(e,t,n){let i=0,s=0,o=0;for(let a=t.length-1;0<=a;a--){const c=t[a],f=n[a];s|=c<<o,o+=f,o===32?(e.__setDigit(i++,s),o=0,s=0):32<o&&(e.__setDigit(i++,s),o-=32,s=c>>>f-o)}if(s!==0){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,s)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,t){var n=Math.clz32;const i=e.length;let s=t-1;s=(85&s>>>1)+(85&s),s=(51&s>>>2)+(51&s),s=(15&s>>>4)+(15&s);const o=s,a=t-1,c=e.__digit(i-1),f=n(c);let d=0|(32*i-f+o-1)/o;if(e.sign&&d++,268435456<d)throw new Error("string too long");const l=Array(d);let g=d-1,y=0,m=0;for(let E=0;E<i-1;E++){const B=e.__digit(E),R=(y|B<<m)&a;l[g--]=P.__kConversionChars[R];const D=o-m;for(y=B>>>D,m=32-D;m>=o;)l[g--]=P.__kConversionChars[y&a],y>>>=o,m-=o}const x=(y|c<<m)&a;for(l[g--]=P.__kConversionChars[x],y=c>>>o-m;y!==0;)l[g--]=P.__kConversionChars[y&a],y>>>=o;if(e.sign&&(l[g--]="-"),g!=-1)throw new Error("implementation bug");return l.join("")}static __toStringGeneric(e,t,n){var i=Math.clz32;const s=e.length;if(s===0)return"";if(s===1){let E=e.__unsignedDigit(0).toString(t);return n===!1&&e.sign&&(E="-"+E),E}const o=32*s-i(e.__digit(s-1)),a=P.__kMaxBitsPerChar[t],c=a-1;let f=o*P.__kBitsPerCharTableMultiplier;f+=c-1,f=0|f/c;const d=f+1>>1,l=P.exponentiate(P.__oneDigit(t,!1),P.__oneDigit(d,!1));let g,y;const m=l.__unsignedDigit(0);if(l.length===1&&65535>=m){g=new P(e.length,!1),g.__initializeDigits();let E=0;for(let B=2*e.length-1;0<=B;B--){const R=E<<16|e.__halfDigit(B);g.__setHalfDigit(B,0|R/m),E=0|R%m}y=E.toString(t)}else{const E=P.__absoluteDivLarge(e,l,!0,!0);g=E.quotient;const B=E.remainder.__trim();y=P.__toStringGeneric(B,t,!0)}g.__trim();let x=P.__toStringGeneric(g,t,!0);for(;y.length<d;)y="0"+y;return n===!1&&e.sign&&(x="-"+x),x+y}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const n=e.sign;if(n!==t.sign)return P.__unequalSign(n);const i=P.__absoluteCompare(e,t);return 0<i?P.__absoluteGreater(n):0>i?P.__absoluteLess(n):0}static __compareToNumber(e,t){if(t|!0){const n=e.sign,i=0>t;if(n!==i)return P.__unequalSign(n);if(e.length===0){if(i)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return P.__absoluteGreater(n);const s=Math.abs(t),o=e.__unsignedDigit(0);return o>s?P.__absoluteGreater(n):o<s?P.__absoluteLess(n):0}return P.__compareToDouble(e,t)}static __compareToDouble(e,t){var n=Math.clz32;if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const i=e.sign;if(i!==0>t)return P.__unequalSign(i);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;P.__kBitConversionDouble[0]=t;const s=2047&P.__kBitConversionInts[1]>>>20;if(s==2047)throw new Error("implementation bug: handled elsewhere");const o=s-1023;if(0>o)return P.__absoluteGreater(i);const a=e.length;let c=e.__digit(a-1);const f=n(c),d=32*a-f,l=o+1;if(d<l)return P.__absoluteLess(i);if(d>l)return P.__absoluteGreater(i);let g=1048576|1048575&P.__kBitConversionInts[1],y=P.__kBitConversionInts[0];const m=20,x=31-f;if(x!==(d-1)%31)throw new Error("implementation bug");let E,B=0;if(20>x){const R=m-x;B=R+32,E=g>>>R,g=g<<32-R|y>>>R,y<<=32-R}else if(x===20)B=32,E=g,g=y;else{const R=x-m;B=32-R,E=g<<R|y>>>32-R,g=y<<R}if(c>>>=0,E>>>=0,c>E)return P.__absoluteGreater(i);if(c<E)return P.__absoluteLess(i);for(let R=a-2;0<=R;R--){0<B?(B-=32,E=g>>>0,g=y,y=0):E=0;const D=e.__unsignedDigit(R);if(D>E)return P.__absoluteGreater(i);if(D<E)return P.__absoluteLess(i)}if(g!==0||y!==0){if(B===0)throw new Error("implementation bug");return P.__absoluteLess(i)}return 0}static __equalToNumber(e,t){var n=Math.abs;return t|t===0?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===n(t):P.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){switch(t){case 0:return 0>e;case 1:return 0>=e;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}static __compare(e,t,n){if(e=P.__toPrimitive(e),t=P.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(P.__isBigInt(e)&&typeof t=="string")return t=P.__fromString(t),t!==null&&P.__comparisonResultToBool(P.__compareToBigInt(e,t),n);if(typeof e=="string"&&P.__isBigInt(t))return e=P.__fromString(e),e!==null&&P.__comparisonResultToBool(P.__compareToBigInt(e,t),n);if(e=P.__toNumeric(e),t=P.__toNumeric(t),P.__isBigInt(e)){if(P.__isBigInt(t))return P.__comparisonResultToBool(P.__compareToBigInt(e,t),n);if(typeof t!="number")throw new Error("implementation bug");return P.__comparisonResultToBool(P.__compareToNumber(e,t),n)}if(typeof e!="number")throw new Error("implementation bug");if(P.__isBigInt(t))return P.__comparisonResultToBool(P.__compareToNumber(t,e),2^n);if(typeof t!="number")throw new Error("implementation bug");return n===0?e<t:n===1?e<=t:n===2?e>t:n===3?e>=t:void 0}__clzmsd(){return Math.clz32(this[this.length-1])}static __absoluteAdd(e,t,n){if(e.length<t.length)return P.__absoluteAdd(t,e,n);if(e.length===0)return e;if(t.length===0)return e.sign===n?e:P.unaryMinus(e);let i=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&i++;const s=new P(i,n);let o=0,a=0;for(;a<t.length;a++){const c=t.__digit(a),f=e.__digit(a),d=(65535&f)+(65535&c)+o,l=(f>>>16)+(c>>>16)+(d>>>16);o=l>>>16,s.__setDigit(a,65535&d|l<<16)}for(;a<e.length;a++){const c=e.__digit(a),f=(65535&c)+o,d=(c>>>16)+(f>>>16);o=d>>>16,s.__setDigit(a,65535&f|d<<16)}return a<s.length&&s.__setDigit(a,o),s.__trim()}static __absoluteSub(e,t,n){if(e.length===0)return e;if(t.length===0)return e.sign===n?e:P.unaryMinus(e);const i=new P(e.length,n);let s=0,o=0;for(;o<t.length;o++){const a=e.__digit(o),c=t.__digit(o),f=(65535&a)-(65535&c)-s;s=1&f>>>16;const d=(a>>>16)-(c>>>16)-s;s=1&d>>>16,i.__setDigit(o,65535&f|d<<16)}for(;o<e.length;o++){const a=e.__digit(o),c=(65535&a)-s;s=1&c>>>16;const f=(a>>>16)-s;s=1&f>>>16,i.__setDigit(o,65535&c|f<<16)}return i.__trim()}static __absoluteAddOne(e,t,n=null){const i=e.length;n===null?n=new P(i,t):n.sign=t;let s=!0;for(let o,a=0;a<i;a++){if(o=e.__digit(a),s){const c=o===-1;o=0|o+1,s=c}n.__setDigit(a,o)}return s&&n.__setDigitGrow(i,1),n}static __absoluteSubOne(e,t){const n=e.length;t=t||n;const i=new P(t,!1);let s=!0;for(let o,a=0;a<n;a++){if(o=e.__digit(a),s){const c=o===0;o=0|o-1,s=c}i.__setDigit(a,o)}if(s)throw new Error("implementation bug");for(let o=n;o<t;o++)i.__setDigit(o,0);return i}static __absoluteAnd(e,t,n=null){let i=e.length,s=t.length,o=s;if(i<s){o=i;const f=e,d=i;e=t,i=s,t=f,s=d}let a=o;n===null?n=new P(a,!1):a=n.length;let c=0;for(;c<o;c++)n.__setDigit(c,e.__digit(c)&t.__digit(c));for(;c<a;c++)n.__setDigit(c,0);return n}static __absoluteAndNot(e,t,n=null){const i=e.length,s=t.length;let o=s;i<s&&(o=i);let a=i;n===null?n=new P(a,!1):a=n.length;let c=0;for(;c<o;c++)n.__setDigit(c,e.__digit(c)&~t.__digit(c));for(;c<i;c++)n.__setDigit(c,e.__digit(c));for(;c<a;c++)n.__setDigit(c,0);return n}static __absoluteOr(e,t,n=null){let i=e.length,s=t.length,o=s;if(i<s){o=i;const f=e,d=i;e=t,i=s,t=f,s=d}let a=i;n===null?n=new P(a,!1):a=n.length;let c=0;for(;c<o;c++)n.__setDigit(c,e.__digit(c)|t.__digit(c));for(;c<i;c++)n.__setDigit(c,e.__digit(c));for(;c<a;c++)n.__setDigit(c,0);return n}static __absoluteXor(e,t,n=null){let i=e.length,s=t.length,o=s;if(i<s){o=i;const f=e,d=i;e=t,i=s,t=f,s=d}let a=i;n===null?n=new P(a,!1):a=n.length;let c=0;for(;c<o;c++)n.__setDigit(c,e.__digit(c)^t.__digit(c));for(;c<i;c++)n.__setDigit(c,e.__digit(c));for(;c<a;c++)n.__setDigit(c,0);return n}static __absoluteCompare(e,t){const n=e.length-t.length;if(n!=0)return n;let i=e.length-1;for(;0<=i&&e.__digit(i)===t.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>t.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,t,n,i){var s=Math.imul;if(t===0)return;const o=65535&t,a=t>>>16;let c=0,f=0,d=0;for(let l=0;l<e.length;l++,i++){let g=n.__digit(i),y=65535&g,m=g>>>16;const x=e.__digit(l),E=65535&x,B=x>>>16,R=s(E,o),D=s(E,a),H=s(B,o),N=s(B,a);y+=f+(65535&R),m+=d+c+(y>>>16)+(R>>>16)+(65535&D)+(65535&H),c=m>>>16,f=(D>>>16)+(H>>>16)+(65535&N)+c,c=f>>>16,f&=65535,d=N>>>16,g=65535&y|m<<16,n.__setDigit(i,g)}for(;c!=0||f!==0||d!==0;i++){let l=n.__digit(i);const g=(65535&l)+f,y=(l>>>16)+(g>>>16)+d+c;f=0,d=0,c=y>>>16,l=65535&g|y<<16,n.__setDigit(i,l)}}static __internalMultiplyAdd(e,t,n,i,s){var o=Math.imul;let a=n,c=0;for(let f=0;f<i;f++){const d=e.__digit(f),l=o(65535&d,t),g=(65535&l)+c+a;a=g>>>16;const y=o(d>>>16,t),m=(65535&y)+(l>>>16)+a;a=m>>>16,c=y>>>16,s.__setDigit(f,m<<16|65535&g)}if(s.length>i)for(s.__setDigit(i++,a+c);i<s.length;)s.__setDigit(i++,0);else if(a+c!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,n){var i=Math.imul;n>this.length&&(n=this.length);const s=65535&e,o=e>>>16;let a=0,c=65535&t,f=t>>>16;for(let d=0;d<n;d++){const l=this.__digit(d),g=65535&l,y=l>>>16,m=i(g,s),x=i(g,o),E=i(y,s),B=i(y,o),R=c+(65535&m),D=f+a+(R>>>16)+(m>>>16)+(65535&x)+(65535&E);c=(x>>>16)+(E>>>16)+(65535&B)+(D>>>16),a=c>>>16,c&=65535,f=B>>>16,this.__setDigit(d,65535&R|D<<16)}if(a!=0||c!==0||f!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,n){n===null&&(n=new P(e.length,!1));let i=0;for(let s,o=2*e.length-1;0<=o;o-=2){s=(i<<16|e.__halfDigit(o))>>>0;const a=0|s/t;i=0|s%t,s=(i<<16|e.__halfDigit(o-1))>>>0;const c=0|s/t;i=0|s%t,n.__setDigit(o>>>1,a<<16|c)}return n}static __absoluteModSmall(e,t){let n=0;for(let i=2*e.length-1;0<=i;i--)n=0|((n<<16|e.__halfDigit(i))>>>0)%t;return n}static __absoluteDivLarge(e,t,n,i){var s=Math.imul;const o=t.__halfDigitLength(),a=t.length,c=e.__halfDigitLength()-o;let f=null;n&&(f=new P(c+2>>>1,!1),f.__initializeDigits());const d=new P(o+2>>>1,!1);d.__initializeDigits();const l=P.__clz16(t.__halfDigit(o-1));0<l&&(t=P.__specialLeftShift(t,l,0));const g=P.__specialLeftShift(e,l,1),y=t.__halfDigit(o-1);let m=0;for(let x,E=c;0<=E;E--){x=65535;const B=g.__halfDigit(E+o);if(B!==y){const D=(B<<16|g.__halfDigit(E+o-1))>>>0;x=0|D/y;let H=0|D%y;const N=t.__halfDigit(o-2),U=g.__halfDigit(E+o-2);for(;s(x,N)>>>0>(H<<16|U)>>>0&&(x--,H+=y,!(65535<H)););}P.__internalMultiplyAdd(t,x,0,a,d);let R=g.__inplaceSub(d,E,o+1);R!==0&&(R=g.__inplaceAdd(t,E,o),g.__setHalfDigit(E+o,g.__halfDigit(E+o)+R),x--),n&&(1&E?m=x<<16:f.__setDigit(E>>>1,m|x))}return i?(g.__inplaceRightShift(l),n?{quotient:f,remainder:g}:g):n?f:void 0}static __clz16(e){return Math.clz32(e)-16}__inplaceAdd(e,t,n){let i=0;for(let s=0;s<n;s++){const o=this.__halfDigit(t+s)+e.__halfDigit(s)+i;i=o>>>16,this.__setHalfDigit(t+s,o)}return i}__inplaceSub(e,t,n){let i=0;if(1&t){t>>=1;let s=this.__digit(t),o=65535&s,a=0;for(;a<n-1>>>1;a++){const d=e.__digit(a),l=(s>>>16)-(65535&d)-i;i=1&l>>>16,this.__setDigit(t+a,l<<16|65535&o),s=this.__digit(t+a+1),o=(65535&s)-(d>>>16)-i,i=1&o>>>16}const c=e.__digit(a),f=(s>>>16)-(65535&c)-i;if(i=1&f>>>16,this.__setDigit(t+a,f<<16|65535&o),t+a+1>=this.length)throw new RangeError("out of bounds");(1&n)==0&&(s=this.__digit(t+a+1),o=(65535&s)-(c>>>16)-i,i=1&o>>>16,this.__setDigit(t+e.length,4294901760&s|65535&o))}else{t>>=1;let s=0;for(;s<e.length-1;s++){const d=this.__digit(t+s),l=e.__digit(s),g=(65535&d)-(65535&l)-i;i=1&g>>>16;const y=(d>>>16)-(l>>>16)-i;i=1&y>>>16,this.__setDigit(t+s,y<<16|65535&g)}const o=this.__digit(t+s),a=e.__digit(s),c=(65535&o)-(65535&a)-i;i=1&c>>>16;let f=0;(1&n)==0&&(f=(o>>>16)-(a>>>16)-i,i=1&f>>>16),this.__setDigit(t+s,f<<16|65535&c)}return i}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e;const n=this.length-1;for(let i=0;i<n;i++){const s=this.__digit(i+1);this.__setDigit(i,s<<32-e|t),t=s>>>e}this.__setDigit(n,t)}static __specialLeftShift(e,t,n){const i=e.length,s=new P(i+n,!1);if(t===0){for(let a=0;a<i;a++)s.__setDigit(a,e.__digit(a));return 0<n&&s.__setDigit(i,0),s}let o=0;for(let a=0;a<i;a++){const c=e.__digit(a);s.__setDigit(a,c<<t|o),o=c>>>32-t}return 0<n&&s.__setDigit(i,o),s}static __leftShiftByAbsolute(e,t){const n=P.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");const i=n>>>5,s=31&n,o=e.length,a=s!==0&&e.__digit(o-1)>>>32-s!=0,c=o+i+(a?1:0),f=new P(c,e.sign);if(s===0){let d=0;for(;d<i;d++)f.__setDigit(d,0);for(;d<c;d++)f.__setDigit(d,e.__digit(d-i))}else{let d=0;for(let l=0;l<i;l++)f.__setDigit(l,0);for(let l=0;l<o;l++){const g=e.__digit(l);f.__setDigit(l+i,g<<s|d),d=g>>>32-s}if(a)f.__setDigit(o+i,d);else if(d!==0)throw new Error("implementation bug")}return f.__trim()}static __rightShiftByAbsolute(e,t){const n=e.length,i=e.sign,s=P.__toShiftAmount(t);if(0>s)return P.__rightShiftByMaximum(i);const o=s>>>5,a=31&s;let c=n-o;if(0>=c)return P.__rightShiftByMaximum(i);let f=!1;if(i){if((e.__digit(o)&(1<<a)-1)!=0)f=!0;else for(let l=0;l<o;l++)if(e.__digit(l)!==0){f=!0;break}}f&&a===0&&~e.__digit(n-1)==0&&c++;let d=new P(c,i);if(a===0)for(let l=o;l<n;l++)d.__setDigit(l-o,e.__digit(l));else{let l=e.__digit(o)>>>a;const g=n-o-1;for(let y=0;y<g;y++){const m=e.__digit(y+o+1);d.__setDigit(y,m<<32-a|l),l=m>>>a}d.__setDigit(g,l)}return f&&(d=P.__absoluteAddOne(d,!0,d)),d.__trim()}static __rightShiftByMaximum(e){return e?P.__oneDigit(1,!0):P.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>P.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===P)return e;const n=e[Symbol.toPrimitive];if(n){const o=n(t);if(typeof o!="object")return o;throw new TypeError("Cannot convert object to primitive value")}const i=e.valueOf;if(i){const o=i.call(e);if(typeof o!="object")return o}const s=e.toString;if(s){const o=s.call(e);if(typeof o!="object")return o}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return P.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e.constructor===P}static __truncateToNBits(e,t){const n=e+31>>>5,i=new P(n,t.sign),s=n-1;for(let a=0;a<s;a++)i.__setDigit(a,t.__digit(a));let o=t.__digit(s);if((31&e)!=0){const a=32-(31&e);o=o<<a>>>a}return i.__setDigit(s,o),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,n){var i=Math.min;const s=e+31>>>5,o=new P(s,n);let a=0;const c=s-1;let f=0;for(const y=i(c,t.length);a<y;a++){const m=t.__digit(a),x=0-(65535&m)-f;f=1&x>>>16;const E=0-(m>>>16)-f;f=1&E>>>16,o.__setDigit(a,65535&x|E<<16)}for(;a<c;a++)o.__setDigit(a,0|-f);let d=c<t.length?t.__digit(c):0;const l=31&e;let g;if(l==0){const y=0-(65535&d)-f;f=1&y>>>16;const m=0-(d>>>16)-f;g=65535&y|m<<16}else{const y=32-l;d=d<<y>>>y;const m=1<<32-y,x=(65535&m)-(65535&d)-f;f=1&x>>>16;const E=(m>>>16)-(d>>>16)-f;g=65535&x|E<<16,g&=m-1}return o.__setDigit(c,g),o.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 65535>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 65535&this[e>>>1]>>>((1&e)<<4)}__setHalfDigit(e,t){const n=e>>>1,i=this.__digit(n),s=1&e?65535&i|t<<16:4294901760&i|65535&t;this.__setDigit(n,s)}static __digitPow(e,t){let n=1;for(;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}}P.__kMaxLength=33554432,P.__kMaxLengthBits=P.__kMaxLength<<5,P.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],P.__kBitsPerCharTableShift=5,P.__kBitsPerCharTableMultiplier=1<<P.__kBitsPerCharTableShift,P.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],P.__kBitConversionBuffer=new ArrayBuffer(8),P.__kBitConversionDouble=new Float64Array(P.__kBitConversionBuffer),P.__kBitConversionInts=new Int32Array(P.__kBitConversionBuffer);var Da={};const _6="6.6.1",A6={version:_6};var Pa={},Ys={exports:{}};const E6={},S6=Object.freeze(Object.defineProperty({__proto__:null,default:E6},Symbol.toStringTag,{value:"Module"})),Xl=A3(S6);var C6=Ys.exports,$1;function jr(){return $1||($1=1,(function(r){(function(e,t){function n(O,u){if(!O)throw new Error(u||"Assertion failed")}function i(O,u){O.super_=u;var p=function(){};p.prototype=u.prototype,O.prototype=new p,O.prototype.constructor=O}function s(O,u,p){if(s.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(O||0,u||10,p||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Xl.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,p){return u.cmp(p)>0?u:p},s.min=function(u,p){return u.cmp(p)<0?u:p},s.prototype._init=function(u,p,_){if(typeof u=="number")return this._initNumber(u,p,_);if(typeof u=="object")return this._initArray(u,p,_);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var h=0;u[0]==="-"&&(h++,this.negative=1),h<u.length&&(p===16?this._parseHex(u,h,_):(this._parseBase(u,p,h),_==="le"&&this._initArray(this.toArray(),p,_)))},s.prototype._initNumber=function(u,p,_){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),p,_)},s.prototype._initArray=function(u,p,_){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var v,S,k=0;if(_==="be")for(h=u.length-1,v=0;h>=0;h-=3)S=u[h]|u[h-1]<<8|u[h-2]<<16,this.words[v]|=S<<k&67108863,this.words[v+1]=S>>>26-k&67108863,k+=24,k>=26&&(k-=26,v++);else if(_==="le")for(h=0,v=0;h<u.length;h+=3)S=u[h]|u[h+1]<<8|u[h+2]<<16,this.words[v]|=S<<k&67108863,this.words[v+1]=S>>>26-k&67108863,k+=24,k>=26&&(k-=26,v++);return this.strip()};function a(O,u){var p=O.charCodeAt(u);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function c(O,u,p){var _=a(O,p);return p-1>=u&&(_|=a(O,p-1)<<4),_}s.prototype._parseHex=function(u,p,_){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var v=0,S=0,k;if(_==="be")for(h=u.length-1;h>=p;h-=2)k=c(u,p,h)<<v,this.words[S]|=k&67108863,v>=18?(v-=18,S+=1,this.words[S]|=k>>>26):v+=8;else{var C=u.length-p;for(h=C%2===0?p+1:p;h<u.length;h+=2)k=c(u,p,h)<<v,this.words[S]|=k&67108863,v>=18?(v-=18,S+=1,this.words[S]|=k>>>26):v+=8}this.strip()};function f(O,u,p,_){for(var h=0,v=Math.min(O.length,p),S=u;S<v;S++){var k=O.charCodeAt(S)-48;h*=_,k>=49?h+=k-49+10:k>=17?h+=k-17+10:h+=k}return h}s.prototype._parseBase=function(u,p,_){this.words=[0],this.length=1;for(var h=0,v=1;v<=67108863;v*=p)h++;h--,v=v/p|0;for(var S=u.length-_,k=S%h,C=Math.min(S,S-k)+_,b=0,T=_;T<C;T+=h)b=f(u,T,T+h,p),this.imuln(v),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(k!==0){var $=1;for(b=f(u,T,u.length,p),T=0;T<k;T++)$*=p;this.imuln($),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this.strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,p){u=u||10,p=p|0||1;var _;if(u===16||u==="hex"){_="";for(var h=0,v=0,S=0;S<this.length;S++){var k=this.words[S],C=((k<<h|v)&16777215).toString(16);v=k>>>24-h&16777215,h+=2,h>=26&&(h-=26,S--),v!==0||S!==this.length-1?_=d[6-C.length]+C+_:_=C+_}for(v!==0&&(_=v.toString(16)+_);_.length%p!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(u===(u|0)&&u>=2&&u<=36){var b=l[u],T=g[u];_="";var $=this.clone();for($.negative=0;!$.isZero();){var Z=$.modn(T).toString(u);$=$.idivn(T),$.isZero()?_=Z+_:_=d[b-Z.length]+Z+_}for(this.isZero()&&(_="0"+_);_.length%p!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(u,p){return n(typeof o<"u"),this.toArrayLike(o,u,p)},s.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)},s.prototype.toArrayLike=function(u,p,_){var h=this.byteLength(),v=_||Math.max(1,h);n(h<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var S=p==="le",k=new u(v),C,b,T=this.clone();if(S){for(b=0;!T.isZero();b++)C=T.andln(255),T.iushrn(8),k[b]=C;for(;b<v;b++)k[b]=0}else{for(b=0;b<v-h;b++)k[b]=0;for(b=0;!T.isZero();b++)C=T.andln(255),T.iushrn(8),k[v-b-1]=C}return k},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var p=u,_=0;return p>=4096&&(_+=13,p>>>=13),p>=64&&(_+=7,p>>>=7),p>=8&&(_+=4,p>>>=4),p>=2&&(_+=2,p>>>=2),_+p},s.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,_=0;return(p&8191)===0&&(_+=13,p>>>=13),(p&127)===0&&(_+=7,p>>>=7),(p&15)===0&&(_+=4,p>>>=4),(p&3)===0&&(_+=2,p>>>=2),(p&1)===0&&_++,_},s.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function y(O){for(var u=new Array(O.bitLength()),p=0;p<u.length;p++){var _=p/26|0,h=p%26;u[p]=(O.words[_]&1<<h)>>>h}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var _=this._zeroBits(this.words[p]);if(u+=_,_!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this.strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var _=0;_<p.length;_++)this.words[_]=this.words[_]&u.words[_];return this.length=p.length,this.strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var p,_;this.length>u.length?(p=this,_=u):(p=u,_=this);for(var h=0;h<_.length;h++)this.words[h]=p.words[h]^_.words[h];if(this!==p)for(;h<p.length;h++)this.words[h]=p.words[h];return this.length=p.length,this.strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,_=u%26;this._expand(p),_>0&&p--;for(var h=0;h<p;h++)this.words[h]=~this.words[h]&67108863;return _>0&&(this.words[h]=~this.words[h]&67108863>>26-_),this.strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,p){n(typeof u=="number"&&u>=0);var _=u/26|0,h=u%26;return this._expand(_+1),p?this.words[_]=this.words[_]|1<<h:this.words[_]=this.words[_]&~(1<<h),this.strip()},s.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var _,h;this.length>u.length?(_=this,h=u):(_=u,h=this);for(var v=0,S=0;S<h.length;S++)p=(_.words[S]|0)+(h.words[S]|0)+v,this.words[S]=p&67108863,v=p>>>26;for(;v!==0&&S<_.length;S++)p=(_.words[S]|0)+v,this.words[S]=p&67108863,v=p>>>26;if(this.length=_.length,v!==0)this.words[this.length]=v,this.length++;else if(_!==this)for(;S<_.length;S++)this.words[S]=_.words[S];return this},s.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var _=this.cmp(u);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,v;_>0?(h=this,v=u):(h=u,v=this);for(var S=0,k=0;k<v.length;k++)p=(h.words[k]|0)-(v.words[k]|0)+S,S=p>>26,this.words[k]=p&67108863;for(;S!==0&&k<h.length;k++)p=(h.words[k]|0)+S,S=p>>26,this.words[k]=p&67108863;if(S===0&&k<h.length&&h!==this)for(;k<h.length;k++)this.words[k]=h.words[k];return this.length=Math.max(this.length,k),h!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function m(O,u,p){p.negative=u.negative^O.negative;var _=O.length+u.length|0;p.length=_,_=_-1|0;var h=O.words[0]|0,v=u.words[0]|0,S=h*v,k=S&67108863,C=S/67108864|0;p.words[0]=k;for(var b=1;b<_;b++){for(var T=C>>>26,$=C&67108863,Z=Math.min(b,u.length-1),G=Math.max(0,b-O.length+1);G<=Z;G++){var X=b-G|0;h=O.words[X]|0,v=u.words[G]|0,S=h*v+$,T+=S/67108864|0,$=S&67108863}p.words[b]=$|0,C=T|0}return C!==0?p.words[b]=C|0:p.length--,p.strip()}var x=function(u,p,_){var h=u.words,v=p.words,S=_.words,k=0,C,b,T,$=h[0]|0,Z=$&8191,G=$>>>13,X=h[1]|0,re=X&8191,ie=X>>>13,ge=h[2]|0,ne=ge&8191,oe=ge>>>13,pt=h[3]|0,ye=pt&8191,ce=pt>>>13,He=h[4]|0,xe=He&8191,_e=He>>>13,Ft=h[5]|0,ke=Ft&8191,Oe=Ft>>>13,Vr=h[6]|0,Se=Vr&8191,we=Vr>>>13,Mr=h[7]|0,Te=Mr&8191,ve=Mr>>>13,bn=h[8]|0,M=bn&8191,w=bn>>>13,A=h[9]|0,I=A&8191,L=A>>>13,j=v[0]|0,V=j&8191,se=j>>>13,Ie=v[1]|0,de=Ie&8191,ue=Ie>>>13,Ae=v[2]|0,je=Ae&8191,ze=Ae>>>13,t1=v[3]|0,Ve=t1&8191,Ke=t1>>>13,r1=v[4]|0,Ze=r1&8191,We=r1>>>13,n1=v[5]|0,Ge=n1&8191,Xe=n1>>>13,i1=v[6]|0,Ye=i1&8191,Qe=i1>>>13,s1=v[7]|0,Je=s1&8191,et=s1>>>13,o1=v[8]|0,tt=o1&8191,rt=o1>>>13,a1=v[9]|0,nt=a1&8191,it=a1>>>13;_.negative=u.negative^p.negative,_.length=19,C=Math.imul(Z,V),b=Math.imul(Z,se),b=b+Math.imul(G,V)|0,T=Math.imul(G,se);var ia=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(ia>>>26)|0,ia&=67108863,C=Math.imul(re,V),b=Math.imul(re,se),b=b+Math.imul(ie,V)|0,T=Math.imul(ie,se),C=C+Math.imul(Z,de)|0,b=b+Math.imul(Z,ue)|0,b=b+Math.imul(G,de)|0,T=T+Math.imul(G,ue)|0;var sa=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(sa>>>26)|0,sa&=67108863,C=Math.imul(ne,V),b=Math.imul(ne,se),b=b+Math.imul(oe,V)|0,T=Math.imul(oe,se),C=C+Math.imul(re,de)|0,b=b+Math.imul(re,ue)|0,b=b+Math.imul(ie,de)|0,T=T+Math.imul(ie,ue)|0,C=C+Math.imul(Z,je)|0,b=b+Math.imul(Z,ze)|0,b=b+Math.imul(G,je)|0,T=T+Math.imul(G,ze)|0;var oa=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(oa>>>26)|0,oa&=67108863,C=Math.imul(ye,V),b=Math.imul(ye,se),b=b+Math.imul(ce,V)|0,T=Math.imul(ce,se),C=C+Math.imul(ne,de)|0,b=b+Math.imul(ne,ue)|0,b=b+Math.imul(oe,de)|0,T=T+Math.imul(oe,ue)|0,C=C+Math.imul(re,je)|0,b=b+Math.imul(re,ze)|0,b=b+Math.imul(ie,je)|0,T=T+Math.imul(ie,ze)|0,C=C+Math.imul(Z,Ve)|0,b=b+Math.imul(Z,Ke)|0,b=b+Math.imul(G,Ve)|0,T=T+Math.imul(G,Ke)|0;var aa=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(aa>>>26)|0,aa&=67108863,C=Math.imul(xe,V),b=Math.imul(xe,se),b=b+Math.imul(_e,V)|0,T=Math.imul(_e,se),C=C+Math.imul(ye,de)|0,b=b+Math.imul(ye,ue)|0,b=b+Math.imul(ce,de)|0,T=T+Math.imul(ce,ue)|0,C=C+Math.imul(ne,je)|0,b=b+Math.imul(ne,ze)|0,b=b+Math.imul(oe,je)|0,T=T+Math.imul(oe,ze)|0,C=C+Math.imul(re,Ve)|0,b=b+Math.imul(re,Ke)|0,b=b+Math.imul(ie,Ve)|0,T=T+Math.imul(ie,Ke)|0,C=C+Math.imul(Z,Ze)|0,b=b+Math.imul(Z,We)|0,b=b+Math.imul(G,Ze)|0,T=T+Math.imul(G,We)|0;var ca=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(ca>>>26)|0,ca&=67108863,C=Math.imul(ke,V),b=Math.imul(ke,se),b=b+Math.imul(Oe,V)|0,T=Math.imul(Oe,se),C=C+Math.imul(xe,de)|0,b=b+Math.imul(xe,ue)|0,b=b+Math.imul(_e,de)|0,T=T+Math.imul(_e,ue)|0,C=C+Math.imul(ye,je)|0,b=b+Math.imul(ye,ze)|0,b=b+Math.imul(ce,je)|0,T=T+Math.imul(ce,ze)|0,C=C+Math.imul(ne,Ve)|0,b=b+Math.imul(ne,Ke)|0,b=b+Math.imul(oe,Ve)|0,T=T+Math.imul(oe,Ke)|0,C=C+Math.imul(re,Ze)|0,b=b+Math.imul(re,We)|0,b=b+Math.imul(ie,Ze)|0,T=T+Math.imul(ie,We)|0,C=C+Math.imul(Z,Ge)|0,b=b+Math.imul(Z,Xe)|0,b=b+Math.imul(G,Ge)|0,T=T+Math.imul(G,Xe)|0;var fa=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(fa>>>26)|0,fa&=67108863,C=Math.imul(Se,V),b=Math.imul(Se,se),b=b+Math.imul(we,V)|0,T=Math.imul(we,se),C=C+Math.imul(ke,de)|0,b=b+Math.imul(ke,ue)|0,b=b+Math.imul(Oe,de)|0,T=T+Math.imul(Oe,ue)|0,C=C+Math.imul(xe,je)|0,b=b+Math.imul(xe,ze)|0,b=b+Math.imul(_e,je)|0,T=T+Math.imul(_e,ze)|0,C=C+Math.imul(ye,Ve)|0,b=b+Math.imul(ye,Ke)|0,b=b+Math.imul(ce,Ve)|0,T=T+Math.imul(ce,Ke)|0,C=C+Math.imul(ne,Ze)|0,b=b+Math.imul(ne,We)|0,b=b+Math.imul(oe,Ze)|0,T=T+Math.imul(oe,We)|0,C=C+Math.imul(re,Ge)|0,b=b+Math.imul(re,Xe)|0,b=b+Math.imul(ie,Ge)|0,T=T+Math.imul(ie,Xe)|0,C=C+Math.imul(Z,Ye)|0,b=b+Math.imul(Z,Qe)|0,b=b+Math.imul(G,Ye)|0,T=T+Math.imul(G,Qe)|0;var da=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(da>>>26)|0,da&=67108863,C=Math.imul(Te,V),b=Math.imul(Te,se),b=b+Math.imul(ve,V)|0,T=Math.imul(ve,se),C=C+Math.imul(Se,de)|0,b=b+Math.imul(Se,ue)|0,b=b+Math.imul(we,de)|0,T=T+Math.imul(we,ue)|0,C=C+Math.imul(ke,je)|0,b=b+Math.imul(ke,ze)|0,b=b+Math.imul(Oe,je)|0,T=T+Math.imul(Oe,ze)|0,C=C+Math.imul(xe,Ve)|0,b=b+Math.imul(xe,Ke)|0,b=b+Math.imul(_e,Ve)|0,T=T+Math.imul(_e,Ke)|0,C=C+Math.imul(ye,Ze)|0,b=b+Math.imul(ye,We)|0,b=b+Math.imul(ce,Ze)|0,T=T+Math.imul(ce,We)|0,C=C+Math.imul(ne,Ge)|0,b=b+Math.imul(ne,Xe)|0,b=b+Math.imul(oe,Ge)|0,T=T+Math.imul(oe,Xe)|0,C=C+Math.imul(re,Ye)|0,b=b+Math.imul(re,Qe)|0,b=b+Math.imul(ie,Ye)|0,T=T+Math.imul(ie,Qe)|0,C=C+Math.imul(Z,Je)|0,b=b+Math.imul(Z,et)|0,b=b+Math.imul(G,Je)|0,T=T+Math.imul(G,et)|0;var ua=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(ua>>>26)|0,ua&=67108863,C=Math.imul(M,V),b=Math.imul(M,se),b=b+Math.imul(w,V)|0,T=Math.imul(w,se),C=C+Math.imul(Te,de)|0,b=b+Math.imul(Te,ue)|0,b=b+Math.imul(ve,de)|0,T=T+Math.imul(ve,ue)|0,C=C+Math.imul(Se,je)|0,b=b+Math.imul(Se,ze)|0,b=b+Math.imul(we,je)|0,T=T+Math.imul(we,ze)|0,C=C+Math.imul(ke,Ve)|0,b=b+Math.imul(ke,Ke)|0,b=b+Math.imul(Oe,Ve)|0,T=T+Math.imul(Oe,Ke)|0,C=C+Math.imul(xe,Ze)|0,b=b+Math.imul(xe,We)|0,b=b+Math.imul(_e,Ze)|0,T=T+Math.imul(_e,We)|0,C=C+Math.imul(ye,Ge)|0,b=b+Math.imul(ye,Xe)|0,b=b+Math.imul(ce,Ge)|0,T=T+Math.imul(ce,Xe)|0,C=C+Math.imul(ne,Ye)|0,b=b+Math.imul(ne,Qe)|0,b=b+Math.imul(oe,Ye)|0,T=T+Math.imul(oe,Qe)|0,C=C+Math.imul(re,Je)|0,b=b+Math.imul(re,et)|0,b=b+Math.imul(ie,Je)|0,T=T+Math.imul(ie,et)|0,C=C+Math.imul(Z,tt)|0,b=b+Math.imul(Z,rt)|0,b=b+Math.imul(G,tt)|0,T=T+Math.imul(G,rt)|0;var la=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(la>>>26)|0,la&=67108863,C=Math.imul(I,V),b=Math.imul(I,se),b=b+Math.imul(L,V)|0,T=Math.imul(L,se),C=C+Math.imul(M,de)|0,b=b+Math.imul(M,ue)|0,b=b+Math.imul(w,de)|0,T=T+Math.imul(w,ue)|0,C=C+Math.imul(Te,je)|0,b=b+Math.imul(Te,ze)|0,b=b+Math.imul(ve,je)|0,T=T+Math.imul(ve,ze)|0,C=C+Math.imul(Se,Ve)|0,b=b+Math.imul(Se,Ke)|0,b=b+Math.imul(we,Ve)|0,T=T+Math.imul(we,Ke)|0,C=C+Math.imul(ke,Ze)|0,b=b+Math.imul(ke,We)|0,b=b+Math.imul(Oe,Ze)|0,T=T+Math.imul(Oe,We)|0,C=C+Math.imul(xe,Ge)|0,b=b+Math.imul(xe,Xe)|0,b=b+Math.imul(_e,Ge)|0,T=T+Math.imul(_e,Xe)|0,C=C+Math.imul(ye,Ye)|0,b=b+Math.imul(ye,Qe)|0,b=b+Math.imul(ce,Ye)|0,T=T+Math.imul(ce,Qe)|0,C=C+Math.imul(ne,Je)|0,b=b+Math.imul(ne,et)|0,b=b+Math.imul(oe,Je)|0,T=T+Math.imul(oe,et)|0,C=C+Math.imul(re,tt)|0,b=b+Math.imul(re,rt)|0,b=b+Math.imul(ie,tt)|0,T=T+Math.imul(ie,rt)|0,C=C+Math.imul(Z,nt)|0,b=b+Math.imul(Z,it)|0,b=b+Math.imul(G,nt)|0,T=T+Math.imul(G,it)|0;var ha=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(ha>>>26)|0,ha&=67108863,C=Math.imul(I,de),b=Math.imul(I,ue),b=b+Math.imul(L,de)|0,T=Math.imul(L,ue),C=C+Math.imul(M,je)|0,b=b+Math.imul(M,ze)|0,b=b+Math.imul(w,je)|0,T=T+Math.imul(w,ze)|0,C=C+Math.imul(Te,Ve)|0,b=b+Math.imul(Te,Ke)|0,b=b+Math.imul(ve,Ve)|0,T=T+Math.imul(ve,Ke)|0,C=C+Math.imul(Se,Ze)|0,b=b+Math.imul(Se,We)|0,b=b+Math.imul(we,Ze)|0,T=T+Math.imul(we,We)|0,C=C+Math.imul(ke,Ge)|0,b=b+Math.imul(ke,Xe)|0,b=b+Math.imul(Oe,Ge)|0,T=T+Math.imul(Oe,Xe)|0,C=C+Math.imul(xe,Ye)|0,b=b+Math.imul(xe,Qe)|0,b=b+Math.imul(_e,Ye)|0,T=T+Math.imul(_e,Qe)|0,C=C+Math.imul(ye,Je)|0,b=b+Math.imul(ye,et)|0,b=b+Math.imul(ce,Je)|0,T=T+Math.imul(ce,et)|0,C=C+Math.imul(ne,tt)|0,b=b+Math.imul(ne,rt)|0,b=b+Math.imul(oe,tt)|0,T=T+Math.imul(oe,rt)|0,C=C+Math.imul(re,nt)|0,b=b+Math.imul(re,it)|0,b=b+Math.imul(ie,nt)|0,T=T+Math.imul(ie,it)|0;var pa=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(pa>>>26)|0,pa&=67108863,C=Math.imul(I,je),b=Math.imul(I,ze),b=b+Math.imul(L,je)|0,T=Math.imul(L,ze),C=C+Math.imul(M,Ve)|0,b=b+Math.imul(M,Ke)|0,b=b+Math.imul(w,Ve)|0,T=T+Math.imul(w,Ke)|0,C=C+Math.imul(Te,Ze)|0,b=b+Math.imul(Te,We)|0,b=b+Math.imul(ve,Ze)|0,T=T+Math.imul(ve,We)|0,C=C+Math.imul(Se,Ge)|0,b=b+Math.imul(Se,Xe)|0,b=b+Math.imul(we,Ge)|0,T=T+Math.imul(we,Xe)|0,C=C+Math.imul(ke,Ye)|0,b=b+Math.imul(ke,Qe)|0,b=b+Math.imul(Oe,Ye)|0,T=T+Math.imul(Oe,Qe)|0,C=C+Math.imul(xe,Je)|0,b=b+Math.imul(xe,et)|0,b=b+Math.imul(_e,Je)|0,T=T+Math.imul(_e,et)|0,C=C+Math.imul(ye,tt)|0,b=b+Math.imul(ye,rt)|0,b=b+Math.imul(ce,tt)|0,T=T+Math.imul(ce,rt)|0,C=C+Math.imul(ne,nt)|0,b=b+Math.imul(ne,it)|0,b=b+Math.imul(oe,nt)|0,T=T+Math.imul(oe,it)|0;var ba=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(ba>>>26)|0,ba&=67108863,C=Math.imul(I,Ve),b=Math.imul(I,Ke),b=b+Math.imul(L,Ve)|0,T=Math.imul(L,Ke),C=C+Math.imul(M,Ze)|0,b=b+Math.imul(M,We)|0,b=b+Math.imul(w,Ze)|0,T=T+Math.imul(w,We)|0,C=C+Math.imul(Te,Ge)|0,b=b+Math.imul(Te,Xe)|0,b=b+Math.imul(ve,Ge)|0,T=T+Math.imul(ve,Xe)|0,C=C+Math.imul(Se,Ye)|0,b=b+Math.imul(Se,Qe)|0,b=b+Math.imul(we,Ye)|0,T=T+Math.imul(we,Qe)|0,C=C+Math.imul(ke,Je)|0,b=b+Math.imul(ke,et)|0,b=b+Math.imul(Oe,Je)|0,T=T+Math.imul(Oe,et)|0,C=C+Math.imul(xe,tt)|0,b=b+Math.imul(xe,rt)|0,b=b+Math.imul(_e,tt)|0,T=T+Math.imul(_e,rt)|0,C=C+Math.imul(ye,nt)|0,b=b+Math.imul(ye,it)|0,b=b+Math.imul(ce,nt)|0,T=T+Math.imul(ce,it)|0;var ga=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(ga>>>26)|0,ga&=67108863,C=Math.imul(I,Ze),b=Math.imul(I,We),b=b+Math.imul(L,Ze)|0,T=Math.imul(L,We),C=C+Math.imul(M,Ge)|0,b=b+Math.imul(M,Xe)|0,b=b+Math.imul(w,Ge)|0,T=T+Math.imul(w,Xe)|0,C=C+Math.imul(Te,Ye)|0,b=b+Math.imul(Te,Qe)|0,b=b+Math.imul(ve,Ye)|0,T=T+Math.imul(ve,Qe)|0,C=C+Math.imul(Se,Je)|0,b=b+Math.imul(Se,et)|0,b=b+Math.imul(we,Je)|0,T=T+Math.imul(we,et)|0,C=C+Math.imul(ke,tt)|0,b=b+Math.imul(ke,rt)|0,b=b+Math.imul(Oe,tt)|0,T=T+Math.imul(Oe,rt)|0,C=C+Math.imul(xe,nt)|0,b=b+Math.imul(xe,it)|0,b=b+Math.imul(_e,nt)|0,T=T+Math.imul(_e,it)|0;var ya=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(ya>>>26)|0,ya&=67108863,C=Math.imul(I,Ge),b=Math.imul(I,Xe),b=b+Math.imul(L,Ge)|0,T=Math.imul(L,Xe),C=C+Math.imul(M,Ye)|0,b=b+Math.imul(M,Qe)|0,b=b+Math.imul(w,Ye)|0,T=T+Math.imul(w,Qe)|0,C=C+Math.imul(Te,Je)|0,b=b+Math.imul(Te,et)|0,b=b+Math.imul(ve,Je)|0,T=T+Math.imul(ve,et)|0,C=C+Math.imul(Se,tt)|0,b=b+Math.imul(Se,rt)|0,b=b+Math.imul(we,tt)|0,T=T+Math.imul(we,rt)|0,C=C+Math.imul(ke,nt)|0,b=b+Math.imul(ke,it)|0,b=b+Math.imul(Oe,nt)|0,T=T+Math.imul(Oe,it)|0;var ma=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(ma>>>26)|0,ma&=67108863,C=Math.imul(I,Ye),b=Math.imul(I,Qe),b=b+Math.imul(L,Ye)|0,T=Math.imul(L,Qe),C=C+Math.imul(M,Je)|0,b=b+Math.imul(M,et)|0,b=b+Math.imul(w,Je)|0,T=T+Math.imul(w,et)|0,C=C+Math.imul(Te,tt)|0,b=b+Math.imul(Te,rt)|0,b=b+Math.imul(ve,tt)|0,T=T+Math.imul(ve,rt)|0,C=C+Math.imul(Se,nt)|0,b=b+Math.imul(Se,it)|0,b=b+Math.imul(we,nt)|0,T=T+Math.imul(we,it)|0;var wa=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(wa>>>26)|0,wa&=67108863,C=Math.imul(I,Je),b=Math.imul(I,et),b=b+Math.imul(L,Je)|0,T=Math.imul(L,et),C=C+Math.imul(M,tt)|0,b=b+Math.imul(M,rt)|0,b=b+Math.imul(w,tt)|0,T=T+Math.imul(w,rt)|0,C=C+Math.imul(Te,nt)|0,b=b+Math.imul(Te,it)|0,b=b+Math.imul(ve,nt)|0,T=T+Math.imul(ve,it)|0;var va=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(va>>>26)|0,va&=67108863,C=Math.imul(I,tt),b=Math.imul(I,rt),b=b+Math.imul(L,tt)|0,T=Math.imul(L,rt),C=C+Math.imul(M,nt)|0,b=b+Math.imul(M,it)|0,b=b+Math.imul(w,nt)|0,T=T+Math.imul(w,it)|0;var xa=(k+C|0)+((b&8191)<<13)|0;k=(T+(b>>>13)|0)+(xa>>>26)|0,xa&=67108863,C=Math.imul(I,nt),b=Math.imul(I,it),b=b+Math.imul(L,nt)|0,T=Math.imul(L,it);var _a=(k+C|0)+((b&8191)<<13)|0;return k=(T+(b>>>13)|0)+(_a>>>26)|0,_a&=67108863,S[0]=ia,S[1]=sa,S[2]=oa,S[3]=aa,S[4]=ca,S[5]=fa,S[6]=da,S[7]=ua,S[8]=la,S[9]=ha,S[10]=pa,S[11]=ba,S[12]=ga,S[13]=ya,S[14]=ma,S[15]=wa,S[16]=va,S[17]=xa,S[18]=_a,k!==0&&(S[19]=k,_.length++),_};Math.imul||(x=m);function E(O,u,p){p.negative=u.negative^O.negative,p.length=O.length+u.length;for(var _=0,h=0,v=0;v<p.length-1;v++){var S=h;h=0;for(var k=_&67108863,C=Math.min(v,u.length-1),b=Math.max(0,v-O.length+1);b<=C;b++){var T=v-b,$=O.words[T]|0,Z=u.words[b]|0,G=$*Z,X=G&67108863;S=S+(G/67108864|0)|0,X=X+k|0,k=X&67108863,S=S+(X>>>26)|0,h+=S>>>26,S&=67108863}p.words[v]=k,_=S,S=h}return _!==0?p.words[v]=_:p.length--,p.strip()}function B(O,u,p){var _=new R;return _.mulp(O,u,p)}s.prototype.mulTo=function(u,p){var _,h=this.length+u.length;return this.length===10&&u.length===10?_=x(this,u,p):h<63?_=m(this,u,p):h<1024?_=E(this,u,p):_=B(this,u,p),_};function R(O,u){this.x=O,this.y=u}R.prototype.makeRBT=function(u){for(var p=new Array(u),_=s.prototype._countBits(u)-1,h=0;h<u;h++)p[h]=this.revBin(h,_,u);return p},R.prototype.revBin=function(u,p,_){if(u===0||u===_-1)return u;for(var h=0,v=0;v<p;v++)h|=(u&1)<<p-v-1,u>>=1;return h},R.prototype.permute=function(u,p,_,h,v,S){for(var k=0;k<S;k++)h[k]=p[u[k]],v[k]=_[u[k]]},R.prototype.transform=function(u,p,_,h,v,S){this.permute(S,u,p,_,h,v);for(var k=1;k<v;k<<=1)for(var C=k<<1,b=Math.cos(2*Math.PI/C),T=Math.sin(2*Math.PI/C),$=0;$<v;$+=C)for(var Z=b,G=T,X=0;X<k;X++){var re=_[$+X],ie=h[$+X],ge=_[$+X+k],ne=h[$+X+k],oe=Z*ge-G*ne;ne=Z*ne+G*ge,ge=oe,_[$+X]=re+ge,h[$+X]=ie+ne,_[$+X+k]=re-ge,h[$+X+k]=ie-ne,X!==C&&(oe=b*Z-T*G,G=b*G+T*Z,Z=oe)}},R.prototype.guessLen13b=function(u,p){var _=Math.max(p,u)|1,h=_&1,v=0;for(_=_/2|0;_;_=_>>>1)v++;return 1<<v+1+h},R.prototype.conjugate=function(u,p,_){if(!(_<=1))for(var h=0;h<_/2;h++){var v=u[h];u[h]=u[_-h-1],u[_-h-1]=v,v=p[h],p[h]=-p[_-h-1],p[_-h-1]=-v}},R.prototype.normalize13b=function(u,p){for(var _=0,h=0;h<p/2;h++){var v=Math.round(u[2*h+1]/p)*8192+Math.round(u[2*h]/p)+_;u[h]=v&67108863,v<67108864?_=0:_=v/67108864|0}return u},R.prototype.convert13b=function(u,p,_,h){for(var v=0,S=0;S<p;S++)v=v+(u[S]|0),_[2*S]=v&8191,v=v>>>13,_[2*S+1]=v&8191,v=v>>>13;for(S=2*p;S<h;++S)_[S]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(u){for(var p=new Array(u),_=0;_<u;_++)p[_]=0;return p},R.prototype.mulp=function(u,p,_){var h=2*this.guessLen13b(u.length,p.length),v=this.makeRBT(h),S=this.stub(h),k=new Array(h),C=new Array(h),b=new Array(h),T=new Array(h),$=new Array(h),Z=new Array(h),G=_.words;G.length=h,this.convert13b(u.words,u.length,k,h),this.convert13b(p.words,p.length,T,h),this.transform(k,S,C,b,h,v),this.transform(T,S,$,Z,h,v);for(var X=0;X<h;X++){var re=C[X]*$[X]-b[X]*Z[X];b[X]=C[X]*Z[X]+b[X]*$[X],C[X]=re}return this.conjugate(C,b,h),this.transform(C,b,G,S,h,v),this.conjugate(G,S,h),this.normalize13b(G,h),_.negative=u.negative^p.negative,_.length=u.length+p.length,_.strip()},s.prototype.mul=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},s.prototype.mulf=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),B(this,u,p)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){n(typeof u=="number"),n(u<67108864);for(var p=0,_=0;_<this.length;_++){var h=(this.words[_]|0)*u,v=(h&67108863)+(p&67108863);p>>=26,p+=h/67108864|0,p+=v>>>26,this.words[_]=v&67108863}return p!==0&&(this.words[_]=p,this.length++),this.length=u===0?1:this.length,this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var p=y(u);if(p.length===0)return new s(1);for(var _=this,h=0;h<p.length&&p[h]===0;h++,_=_.sqr());if(++h<p.length)for(var v=_.sqr();h<p.length;h++,v=v.sqr())p[h]!==0&&(_=_.mul(v));return _},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var p=u%26,_=(u-p)/26,h=67108863>>>26-p<<26-p,v;if(p!==0){var S=0;for(v=0;v<this.length;v++){var k=this.words[v]&h,C=(this.words[v]|0)-k<<p;this.words[v]=C|S,S=k>>>26-p}S&&(this.words[v]=S,this.length++)}if(_!==0){for(v=this.length-1;v>=0;v--)this.words[v+_]=this.words[v];for(v=0;v<_;v++)this.words[v]=0;this.length+=_}return this.strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,p,_){n(typeof u=="number"&&u>=0);var h;p?h=(p-p%26)/26:h=0;var v=u%26,S=Math.min((u-v)/26,this.length),k=67108863^67108863>>>v<<v,C=_;if(h-=S,h=Math.max(0,h),C){for(var b=0;b<S;b++)C.words[b]=this.words[b];C.length=S}if(S!==0)if(this.length>S)for(this.length-=S,b=0;b<this.length;b++)this.words[b]=this.words[b+S];else this.words[0]=0,this.length=1;var T=0;for(b=this.length-1;b>=0&&(T!==0||b>=h);b--){var $=this.words[b]|0;this.words[b]=T<<26-v|$>>>v,T=$&k}return C&&T!==0&&(C.words[C.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(u,p,_){return n(this.negative===0),this.iushrn(u,p,_)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,_=(u-p)/26,h=1<<p;if(this.length<=_)return!1;var v=this.words[_];return!!(v&h)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,_=(u-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(p!==0&&_++,this.length=Math.min(_,this.length),p!==0){var h=67108863^67108863>>>p<<p;this.words[this.length-1]&=h}return this.strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,p,_){var h=u.length+_,v;this._expand(h);var S,k=0;for(v=0;v<u.length;v++){S=(this.words[v+_]|0)+k;var C=(u.words[v]|0)*p;S-=C&67108863,k=(S>>26)-(C/67108864|0),this.words[v+_]=S&67108863}for(;v<this.length-_;v++)S=(this.words[v+_]|0)+k,k=S>>26,this.words[v+_]=S&67108863;if(k===0)return this.strip();for(n(k===-1),k=0,v=0;v<this.length;v++)S=-(this.words[v]|0)+k,k=S>>26,this.words[v]=S&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(u,p){var _=this.length-u.length,h=this.clone(),v=u,S=v.words[v.length-1]|0,k=this._countBits(S);_=26-k,_!==0&&(v=v.ushln(_),h.iushln(_),S=v.words[v.length-1]|0);var C=h.length-v.length,b;if(p!=="mod"){b=new s(null),b.length=C+1,b.words=new Array(b.length);for(var T=0;T<b.length;T++)b.words[T]=0}var $=h.clone()._ishlnsubmul(v,1,C);$.negative===0&&(h=$,b&&(b.words[C]=1));for(var Z=C-1;Z>=0;Z--){var G=(h.words[v.length+Z]|0)*67108864+(h.words[v.length+Z-1]|0);for(G=Math.min(G/S|0,67108863),h._ishlnsubmul(v,G,Z);h.negative!==0;)G--,h.negative=0,h._ishlnsubmul(v,1,Z),h.isZero()||(h.negative^=1);b&&(b.words[Z]=G)}return b&&b.strip(),h.strip(),p!=="div"&&_!==0&&h.iushrn(_),{div:b||null,mod:h}},s.prototype.divmod=function(u,p,_){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var h,v,S;return this.negative!==0&&u.negative===0?(S=this.neg().divmod(u,p),p!=="mod"&&(h=S.div.neg()),p!=="div"&&(v=S.mod.neg(),_&&v.negative!==0&&v.iadd(u)),{div:h,mod:v}):this.negative===0&&u.negative!==0?(S=this.divmod(u.neg(),p),p!=="mod"&&(h=S.div.neg()),{div:h,mod:S.mod}):(this.negative&u.negative)!==0?(S=this.neg().divmod(u.neg(),p),p!=="div"&&(v=S.mod.neg(),_&&v.negative!==0&&v.isub(u)),{div:S.div,mod:v}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modn(u.words[0]))}:this._wordDiv(u,p)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var _=p.div.negative!==0?p.mod.isub(u):p.mod,h=u.ushrn(1),v=u.andln(1),S=_.cmp(h);return S<0||v===1&&S===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modn=function(u){n(u<=67108863);for(var p=(1<<26)%u,_=0,h=this.length-1;h>=0;h--)_=(p*_+(this.words[h]|0))%u;return _},s.prototype.idivn=function(u){n(u<=67108863);for(var p=0,_=this.length-1;_>=0;_--){var h=(this.words[_]|0)+p*67108864;this.words[_]=h/u|0,p=h%u}return this.strip()},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var p=this,_=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var h=new s(1),v=new s(0),S=new s(0),k=new s(1),C=0;p.isEven()&&_.isEven();)p.iushrn(1),_.iushrn(1),++C;for(var b=_.clone(),T=p.clone();!p.isZero();){for(var $=0,Z=1;(p.words[0]&Z)===0&&$<26;++$,Z<<=1);if($>0)for(p.iushrn($);$-- >0;)(h.isOdd()||v.isOdd())&&(h.iadd(b),v.isub(T)),h.iushrn(1),v.iushrn(1);for(var G=0,X=1;(_.words[0]&X)===0&&G<26;++G,X<<=1);if(G>0)for(_.iushrn(G);G-- >0;)(S.isOdd()||k.isOdd())&&(S.iadd(b),k.isub(T)),S.iushrn(1),k.iushrn(1);p.cmp(_)>=0?(p.isub(_),h.isub(S),v.isub(k)):(_.isub(p),S.isub(h),k.isub(v))}return{a:S,b:k,gcd:_.iushln(C)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var p=this,_=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var h=new s(1),v=new s(0),S=_.clone();p.cmpn(1)>0&&_.cmpn(1)>0;){for(var k=0,C=1;(p.words[0]&C)===0&&k<26;++k,C<<=1);if(k>0)for(p.iushrn(k);k-- >0;)h.isOdd()&&h.iadd(S),h.iushrn(1);for(var b=0,T=1;(_.words[0]&T)===0&&b<26;++b,T<<=1);if(b>0)for(_.iushrn(b);b-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);p.cmp(_)>=0?(p.isub(_),h.isub(v)):(_.isub(p),v.isub(h))}var $;return p.cmpn(1)===0?$=h:$=v,$.cmpn(0)<0&&$.iadd(u),$},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),_=u.clone();p.negative=0,_.negative=0;for(var h=0;p.isEven()&&_.isEven();h++)p.iushrn(1),_.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;_.isEven();)_.iushrn(1);var v=p.cmp(_);if(v<0){var S=p;p=_,_=S}else if(v===0||_.cmpn(1)===0)break;p.isub(_)}while(!0);return _.iushln(h)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var p=u%26,_=(u-p)/26,h=1<<p;if(this.length<=_)return this._expand(_+1),this.words[_]|=h,this;for(var v=h,S=_;v!==0&&S<this.length;S++){var k=this.words[S]|0;k+=v,v=k>>>26,k&=67108863,this.words[S]=k}return v!==0&&(this.words[S]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var _;if(this.length>1)_=1;else{p&&(u=-u),n(u<=67108863,"Number is too big");var h=this.words[0]|0;_=h===u?0:h<u?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,_=this.length-1;_>=0;_--){var h=this.words[_]|0,v=u.words[_]|0;if(h!==v){h<v?p=-1:h>v&&(p=1);break}}return p},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new q(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var D={k256:null,p224:null,p192:null,p25519:null};function H(O,u){this.name=O,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},H.prototype.ireduce=function(u){var p=u,_;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),_=p.bitLength();while(_>this.n);var h=_<this.n?-1:p.ucmp(this.p);return h===0?(p.words[0]=0,p.length=1):h>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},H.prototype.split=function(u,p){u.iushrn(this.n,0,p)},H.prototype.imulK=function(u){return u.imul(this.k)};function N(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(N,H),N.prototype.split=function(u,p){for(var _=4194303,h=Math.min(u.length,9),v=0;v<h;v++)p.words[v]=u.words[v];if(p.length=h,u.length<=9){u.words[0]=0,u.length=1;return}var S=u.words[9];for(p.words[p.length++]=S&_,v=10;v<u.length;v++){var k=u.words[v]|0;u.words[v-10]=(k&_)<<4|S>>>22,S=k}S>>>=22,u.words[v-10]=S,S===0&&u.length>10?u.length-=10:u.length-=9},N.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,_=0;_<u.length;_++){var h=u.words[_]|0;p+=h*977,u.words[_]=p&67108863,p=h*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function U(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,H);function W(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(W,H);function Y(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Y,H),Y.prototype.imulK=function(u){for(var p=0,_=0;_<u.length;_++){var h=(u.words[_]|0)*19+p,v=h&67108863;h>>>=26,u.words[_]=v,p=h}return p!==0&&(u.words[u.length++]=p),u},s._prime=function(u){if(D[u])return D[u];var p;if(u==="k256")p=new N;else if(u==="p224")p=new U;else if(u==="p192")p=new W;else if(u==="p25519")p=new Y;else throw new Error("Unknown prime "+u);return D[u]=p,p};function q(O){if(typeof O=="string"){var u=s._prime(O);this.m=u.p,this.prime=u}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}q.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},q.prototype._verify2=function(u,p){n((u.negative|p.negative)===0,"red works only with positives"),n(u.red&&u.red===p.red,"red works only with red numbers")},q.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},q.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},q.prototype.add=function(u,p){this._verify2(u,p);var _=u.add(p);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},q.prototype.iadd=function(u,p){this._verify2(u,p);var _=u.iadd(p);return _.cmp(this.m)>=0&&_.isub(this.m),_},q.prototype.sub=function(u,p){this._verify2(u,p);var _=u.sub(p);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},q.prototype.isub=function(u,p){this._verify2(u,p);var _=u.isub(p);return _.cmpn(0)<0&&_.iadd(this.m),_},q.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},q.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},q.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},q.prototype.isqr=function(u){return this.imul(u,u.clone())},q.prototype.sqr=function(u){return this.mul(u,u)},q.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(u,_)}for(var h=this.m.subn(1),v=0;!h.isZero()&&h.andln(1)===0;)v++,h.iushrn(1);n(!h.isZero());var S=new s(1).toRed(this),k=S.redNeg(),C=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new s(2*b*b).toRed(this);this.pow(b,C).cmp(k)!==0;)b.redIAdd(k);for(var T=this.pow(b,h),$=this.pow(u,h.addn(1).iushrn(1)),Z=this.pow(u,h),G=v;Z.cmp(S)!==0;){for(var X=Z,re=0;X.cmp(S)!==0;re++)X=X.redSqr();n(re<G);var ie=this.pow(T,new s(1).iushln(G-re-1));$=$.redMul(ie),T=ie.redSqr(),Z=Z.redMul(T),G=re}return $},q.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},q.prototype.pow=function(u,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var _=4,h=new Array(1<<_);h[0]=new s(1).toRed(this),h[1]=u;for(var v=2;v<h.length;v++)h[v]=this.mul(h[v-1],u);var S=h[0],k=0,C=0,b=p.bitLength()%26;for(b===0&&(b=26),v=p.length-1;v>=0;v--){for(var T=p.words[v],$=b-1;$>=0;$--){var Z=T>>$&1;if(S!==h[0]&&(S=this.sqr(S)),Z===0&&k===0){C=0;continue}k<<=1,k|=Z,C++,!(C!==_&&(v!==0||$!==0))&&(S=this.mul(S,h[k]),C=0,k=0)}b=26}return S},q.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},q.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},s.mont=function(u){return new J(u)};function J(O){q.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(J,q),J.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},J.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},J.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var _=u.imul(p),h=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=_.isub(h).iushrn(this.shift),S=v;return v.cmp(this.m)>=0?S=v.isub(this.m):v.cmpn(0)<0&&(S=v.iadd(this.m)),S._forceRed(this)},J.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new s(0)._forceRed(this);var _=u.mul(p),h=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=_.isub(h).iushrn(this.shift),S=v;return v.cmp(this.m)>=0?S=v.isub(this.m):v.cmpn(0)<0&&(S=v.iadd(this.m)),S._forceRed(this)},J.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(r,C6)})(Ys)),Ys.exports}var Na,F1;function Qn(){if(F1)return Na;F1=1,Na=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,i){if(t!=n)throw new Error(i||"Assertion failed: "+t+" != "+n)},Na}var La={},q1;function Yl(){return q1||(q1=1,(function(r){var e=r;function t(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)a[c]=s[c]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)a.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var f=s.charCodeAt(c),d=f>>8,l=f&255;d?a.push(d,l):a.push(l)}return a}e.toArray=t;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}})(La)),La}var j1;function er(){return j1||(j1=1,(function(r){var e=r,t=jr(),n=Qn(),i=Yl();e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(d,l,g){var y=new Array(Math.max(d.bitLength(),g)+1),m;for(m=0;m<y.length;m+=1)y[m]=0;var x=1<<l+1,E=d.clone();for(m=0;m<y.length;m++){var B,R=E.andln(x-1);E.isOdd()?(R>(x>>1)-1?B=(x>>1)-R:B=R,E.isubn(B)):B=0,y[m]=B,E.iushrn(1)}return y}e.getNAF=s;function o(d,l){var g=[[],[]];d=d.clone(),l=l.clone();for(var y=0,m=0,x;d.cmpn(-y)>0||l.cmpn(-m)>0;){var E=d.andln(3)+y&3,B=l.andln(3)+m&3;E===3&&(E=-1),B===3&&(B=-1);var R;(E&1)===0?R=0:(x=d.andln(7)+y&7,(x===3||x===5)&&B===2?R=-E:R=E),g[0].push(R);var D;(B&1)===0?D=0:(x=l.andln(7)+m&7,(x===3||x===5)&&E===2?D=-B:D=B),g[1].push(D),2*y===R+1&&(y=1-y),2*m===D+1&&(m=1-m),d.iushrn(1),l.iushrn(1)}return g}e.getJSF=o;function a(d,l,g){var y="_"+l;d.prototype[l]=function(){return this[y]!==void 0?this[y]:this[y]=g.call(this)}}e.cachedProperty=a;function c(d){return typeof d=="string"?e.toArray(d,"hex"):d}e.parseBytes=c;function f(d){return new t(d,"hex","le")}e.intFromLE=f})(Pa)),Pa}var $s={exports:{}},z1;function Ql(){if(z1)return $s.exports;z1=1;var r;$s.exports=function(i){return r||(r=new e(null)),r.generate(i)};function e(n){this.rand=n}if($s.exports.Rand=e,e.prototype.generate=function(i){return this._rand(i)},e.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var s=new Uint8Array(i),o=0;o<s.length;o++)s[o]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(i){var s=new Uint8Array(i);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var t=Xl;if(typeof t.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(i){return t.randomBytes(i)}}catch{}return $s.exports}var Ha={},Ua,V1;function No(){if(V1)return Ua;V1=1;var r=jr(),e=er(),t=e.getNAF,n=e.getJSF,i=e.assert;function s(a,c){this.type=a,this.p=new r(c.p,16),this.red=c.prime?r.red(c.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=c.n&&new r(c.n,16),this.g=c.g&&this.pointFromJSON(c.g,c.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Ua=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(c,f){i(c.precomputed);var d=c._getDoubles(),l=t(f,1,this._bitLength),g=(1<<d.step+1)-(d.step%2===0?2:1);g/=3;var y=[],m,x;for(m=0;m<l.length;m+=d.step){x=0;for(var E=m+d.step-1;E>=m;E--)x=(x<<1)+l[E];y.push(x)}for(var B=this.jpoint(null,null,null),R=this.jpoint(null,null,null),D=g;D>0;D--){for(m=0;m<y.length;m++)x=y[m],x===D?R=R.mixedAdd(d.points[m]):x===-D&&(R=R.mixedAdd(d.points[m].neg()));B=B.add(R)}return B.toP()},s.prototype._wnafMul=function(c,f){var d=4,l=c._getNAFPoints(d);d=l.wnd;for(var g=l.points,y=t(f,d,this._bitLength),m=this.jpoint(null,null,null),x=y.length-1;x>=0;x--){for(var E=0;x>=0&&y[x]===0;x--)E++;if(x>=0&&E++,m=m.dblp(E),x<0)break;var B=y[x];i(B!==0),c.type==="affine"?B>0?m=m.mixedAdd(g[B-1>>1]):m=m.mixedAdd(g[-B-1>>1].neg()):B>0?m=m.add(g[B-1>>1]):m=m.add(g[-B-1>>1].neg())}return c.type==="affine"?m.toP():m},s.prototype._wnafMulAdd=function(c,f,d,l,g){var y=this._wnafT1,m=this._wnafT2,x=this._wnafT3,E=0,B,R,D;for(B=0;B<l;B++){D=f[B];var H=D._getNAFPoints(c);y[B]=H.wnd,m[B]=H.points}for(B=l-1;B>=1;B-=2){var N=B-1,U=B;if(y[N]!==1||y[U]!==1){x[N]=t(d[N],y[N],this._bitLength),x[U]=t(d[U],y[U],this._bitLength),E=Math.max(x[N].length,E),E=Math.max(x[U].length,E);continue}var W=[f[N],null,null,f[U]];f[N].y.cmp(f[U].y)===0?(W[1]=f[N].add(f[U]),W[2]=f[N].toJ().mixedAdd(f[U].neg())):f[N].y.cmp(f[U].y.redNeg())===0?(W[1]=f[N].toJ().mixedAdd(f[U]),W[2]=f[N].add(f[U].neg())):(W[1]=f[N].toJ().mixedAdd(f[U]),W[2]=f[N].toJ().mixedAdd(f[U].neg()));var Y=[-3,-1,-5,-7,0,7,5,1,3],q=n(d[N],d[U]);for(E=Math.max(q[0].length,E),x[N]=new Array(E),x[U]=new Array(E),R=0;R<E;R++){var J=q[0][R]|0,O=q[1][R]|0;x[N][R]=Y[(J+1)*3+(O+1)],x[U][R]=0,m[N]=W}}var u=this.jpoint(null,null,null),p=this._wnafT4;for(B=E;B>=0;B--){for(var _=0;B>=0;){var h=!0;for(R=0;R<l;R++)p[R]=x[R][B]|0,p[R]!==0&&(h=!1);if(!h)break;_++,B--}if(B>=0&&_++,u=u.dblp(_),B<0)break;for(R=0;R<l;R++){var v=p[R];v!==0&&(v>0?D=m[R][v-1>>1]:v<0&&(D=m[R][-v-1>>1].neg()),D.type==="affine"?u=u.mixedAdd(D):u=u.add(D))}}for(B=0;B<l;B++)m[B]=null;return g?u:u.toP()};function o(a,c){this.curve=a,this.type=c,this.precomputed=null}return s.BasePoint=o,o.prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(c,f){c=e.toArray(c,f);var d=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1===2*d){c[0]===6?i(c[c.length-1]%2===0):c[0]===7&&i(c[c.length-1]%2===1);var l=this.point(c.slice(1,1+d),c.slice(1+d,1+2*d));return l}else if((c[0]===2||c[0]===3)&&c.length-1===d)return this.pointFromX(c.slice(1,1+d),c[0]===3);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(c){return this.encode(c,!0)},o.prototype._encode=function(c){var f=this.curve.p.byteLength(),d=this.getX().toArray("be",f);return c?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",f))},o.prototype.encode=function(c,f){return e.encode(this._encode(f),c)},o.prototype.precompute=function(c){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,c),f.beta=this._getBeta(),this.precomputed=f,this},o.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return f?f.points.length>=Math.ceil((c.bitLength()+1)/f.step):!1},o.prototype._getDoubles=function(c,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],l=this,g=0;g<f;g+=c){for(var y=0;y<c;y++)l=l.dbl();d.push(l)}return{step:c,points:d}},o.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],d=(1<<c)-1,l=d===1?null:this.dbl(),g=1;g<d;g++)f[g]=f[g-1].add(l);return{wnd:c,points:f}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(c){for(var f=this,d=0;d<c;d++)f=f.dbl();return f},Ua}var Fs={exports:{}},K1;function Lo(){return K1||(K1=1,typeof Object.create=="function"?Fs.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Fs.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Fs.exports}var $a,Z1;function T6(){if(Z1)return $a;Z1=1;var r=er(),e=jr(),t=Lo(),n=No(),i=r.assert;function s(c){n.call(this,"short",c),this.a=new e(c.a,16).toRed(this.red),this.b=new e(c.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(c),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}t(s,n),$a=s,s.prototype._getEndomorphism=function(f){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var d,l;if(f.beta)d=new e(f.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);d=g[0].cmp(g[1])<0?g[0]:g[1],d=d.toRed(this.red)}if(f.lambda)l=new e(f.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(d))===0?l=y[0]:(l=y[1],i(this.g.mul(l).x.cmp(this.g.x.redMul(d))===0))}var m;return f.basis?m=f.basis.map(function(x){return{a:new e(x.a,16),b:new e(x.b,16)}}):m=this._getEndoBasis(l),{beta:d,lambda:l,basis:m}}},s.prototype._getEndoRoots=function(f){var d=f===this.p?this.red:e.mont(f),l=new e(2).toRed(d).redInvm(),g=l.redNeg(),y=new e(3).toRed(d).redNeg().redSqrt().redMul(l),m=g.redAdd(y).fromRed(),x=g.redSub(y).fromRed();return[m,x]},s.prototype._getEndoBasis=function(f){for(var d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=f,g=this.n.clone(),y=new e(1),m=new e(0),x=new e(0),E=new e(1),B,R,D,H,N,U,W,Y=0,q,J;l.cmpn(0)!==0;){var O=g.div(l);q=g.sub(O.mul(l)),J=x.sub(O.mul(y));var u=E.sub(O.mul(m));if(!D&&q.cmp(d)<0)B=W.neg(),R=y,D=q.neg(),H=J;else if(D&&++Y===2)break;W=q,g=l,l=q,x=y,y=J,E=m,m=u}N=q.neg(),U=J;var p=D.sqr().add(H.sqr()),_=N.sqr().add(U.sqr());return _.cmp(p)>=0&&(N=B,U=R),D.negative&&(D=D.neg(),H=H.neg()),N.negative&&(N=N.neg(),U=U.neg()),[{a:D,b:H},{a:N,b:U}]},s.prototype._endoSplit=function(f){var d=this.endo.basis,l=d[0],g=d[1],y=g.b.mul(f).divRound(this.n),m=l.b.neg().mul(f).divRound(this.n),x=y.mul(l.a),E=m.mul(g.a),B=y.mul(l.b),R=m.mul(g.b),D=f.sub(x).sub(E),H=B.add(R).neg();return{k1:D,k2:H}},s.prototype.pointFromX=function(f,d){f=new e(f,16),f.red||(f=f.toRed(this.red));var l=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),g=l.redSqrt();if(g.redSqr().redSub(l).cmp(this.zero)!==0)throw new Error("invalid point");var y=g.fromRed().isOdd();return(d&&!y||!d&&y)&&(g=g.redNeg()),this.point(f,g)},s.prototype.validate=function(f){if(f.inf)return!0;var d=f.x,l=f.y,g=this.a.redMul(d),y=d.redSqr().redMul(d).redIAdd(g).redIAdd(this.b);return l.redSqr().redISub(y).cmpn(0)===0},s.prototype._endoWnafMulAdd=function(f,d,l){for(var g=this._endoWnafT1,y=this._endoWnafT2,m=0;m<f.length;m++){var x=this._endoSplit(d[m]),E=f[m],B=E._getBeta();x.k1.negative&&(x.k1.ineg(),E=E.neg(!0)),x.k2.negative&&(x.k2.ineg(),B=B.neg(!0)),g[m*2]=E,g[m*2+1]=B,y[m*2]=x.k1,y[m*2+1]=x.k2}for(var R=this._wnafMulAdd(1,g,y,m*2,l),D=0;D<m*2;D++)g[D]=null,y[D]=null;return R};function o(c,f,d,l){n.BasePoint.call(this,c,"affine"),f===null&&d===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(f,16),this.y=new e(d,16),l&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}t(o,n.BasePoint),s.prototype.point=function(f,d,l){return new o(this,f,d,l)},s.prototype.pointFromJSON=function(f,d){return o.fromJSON(this,f,d)},o.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var l=this.curve,g=function(y){return l.point(y.x.redMul(l.endo.beta),y.y)};f.beta=d,d.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(g)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(g)}}}return d}},o.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function(f,d,l){typeof d=="string"&&(d=JSON.parse(d));var g=f.point(d[0],d[1],l);if(!d[2])return g;function y(x){return f.point(x[0],x[1],l)}var m=d[2];return g.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[g].concat(m.doubles.points.map(y))},naf:m.naf&&{wnd:m.naf.wnd,points:[g].concat(m.naf.points.map(y))}},g},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.inf},o.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var d=this.y.redSub(f.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(f.x).redInvm()));var l=d.redSqr().redISub(this.x).redISub(f.x),g=d.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,g)},o.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,l=this.x.redSqr(),g=f.redInvm(),y=l.redAdd(l).redIAdd(l).redIAdd(d).redMul(g),m=y.redSqr().redISub(this.x.redAdd(this.x)),x=y.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,x)},o.prototype.getX=function(){return this.x.fromRed()},o.prototype.getY=function(){return this.y.fromRed()},o.prototype.mul=function(f){return f=new e(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},o.prototype.mulAdd=function(f,d,l){var g=[this,d],y=[f,l];return this.curve.endo?this.curve._endoWnafMulAdd(g,y):this.curve._wnafMulAdd(1,g,y,2)},o.prototype.jmulAdd=function(f,d,l){var g=[this,d],y=[f,l];return this.curve.endo?this.curve._endoWnafMulAdd(g,y,!0):this.curve._wnafMulAdd(1,g,y,2,!0)},o.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},o.prototype.neg=function(f){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var l=this.precomputed,g=function(y){return y.neg()};d.precomputed={naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(g)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(g)}}}return d},o.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var f=this.curve.jpoint(this.x,this.y,this.curve.one);return f};function a(c,f,d,l){n.BasePoint.call(this,c,"jacobian"),f===null&&d===null&&l===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(f,16),this.y=new e(d,16),this.z=new e(l,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return t(a,n.BasePoint),s.prototype.jpoint=function(f,d,l){return new a(this,f,d,l)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),d=f.redSqr(),l=this.x.redMul(d),g=this.y.redMul(d).redMul(f);return this.curve.point(l,g)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var d=f.z.redSqr(),l=this.z.redSqr(),g=this.x.redMul(d),y=f.x.redMul(l),m=this.y.redMul(d.redMul(f.z)),x=f.y.redMul(l.redMul(this.z)),E=g.redSub(y),B=m.redSub(x);if(E.cmpn(0)===0)return B.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=E.redSqr(),D=R.redMul(E),H=g.redMul(R),N=B.redSqr().redIAdd(D).redISub(H).redISub(H),U=B.redMul(H.redISub(N)).redISub(m.redMul(D)),W=this.z.redMul(f.z).redMul(E);return this.curve.jpoint(N,U,W)},a.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var d=this.z.redSqr(),l=this.x,g=f.x.redMul(d),y=this.y,m=f.y.redMul(d).redMul(this.z),x=l.redSub(g),E=y.redSub(m);if(x.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=x.redSqr(),R=B.redMul(x),D=l.redMul(B),H=E.redSqr().redIAdd(R).redISub(D).redISub(D),N=E.redMul(D.redISub(H)).redISub(y.redMul(R)),U=this.z.redMul(x);return this.curve.jpoint(H,N,U)},a.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var l=this;for(d=0;d<f;d++)l=l.dbl();return l}var g=this.curve.a,y=this.curve.tinv,m=this.x,x=this.y,E=this.z,B=E.redSqr().redSqr(),R=x.redAdd(x);for(d=0;d<f;d++){var D=m.redSqr(),H=R.redSqr(),N=H.redSqr(),U=D.redAdd(D).redIAdd(D).redIAdd(g.redMul(B)),W=m.redMul(H),Y=U.redSqr().redISub(W.redAdd(W)),q=W.redISub(Y),J=U.redMul(q);J=J.redIAdd(J).redISub(N);var O=R.redMul(E);d+1<f&&(B=B.redMul(N)),m=Y,E=O,R=J}return this.curve.jpoint(m,R.redMul(y),E)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var f,d,l;if(this.zOne){var g=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),x=this.x.redAdd(y).redSqr().redISub(g).redISub(m);x=x.redIAdd(x);var E=g.redAdd(g).redIAdd(g),B=E.redSqr().redISub(x).redISub(x),R=m.redIAdd(m);R=R.redIAdd(R),R=R.redIAdd(R),f=B,d=E.redMul(x.redISub(B)).redISub(R),l=this.y.redAdd(this.y)}else{var D=this.x.redSqr(),H=this.y.redSqr(),N=H.redSqr(),U=this.x.redAdd(H).redSqr().redISub(D).redISub(N);U=U.redIAdd(U);var W=D.redAdd(D).redIAdd(D),Y=W.redSqr(),q=N.redIAdd(N);q=q.redIAdd(q),q=q.redIAdd(q),f=Y.redISub(U).redISub(U),d=W.redMul(U.redISub(f)).redISub(q),l=this.y.redMul(this.z),l=l.redIAdd(l)}return this.curve.jpoint(f,d,l)},a.prototype._threeDbl=function(){var f,d,l;if(this.zOne){var g=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),x=this.x.redAdd(y).redSqr().redISub(g).redISub(m);x=x.redIAdd(x);var E=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),B=E.redSqr().redISub(x).redISub(x);f=B;var R=m.redIAdd(m);R=R.redIAdd(R),R=R.redIAdd(R),d=E.redMul(x.redISub(B)).redISub(R),l=this.y.redAdd(this.y)}else{var D=this.z.redSqr(),H=this.y.redSqr(),N=this.x.redMul(H),U=this.x.redSub(D).redMul(this.x.redAdd(D));U=U.redAdd(U).redIAdd(U);var W=N.redIAdd(N);W=W.redIAdd(W);var Y=W.redAdd(W);f=U.redSqr().redISub(Y),l=this.y.redAdd(this.z).redSqr().redISub(H).redISub(D);var q=H.redSqr();q=q.redIAdd(q),q=q.redIAdd(q),q=q.redIAdd(q),d=U.redMul(W.redISub(f)).redISub(q)}return this.curve.jpoint(f,d,l)},a.prototype._dbl=function(){var f=this.curve.a,d=this.x,l=this.y,g=this.z,y=g.redSqr().redSqr(),m=d.redSqr(),x=l.redSqr(),E=m.redAdd(m).redIAdd(m).redIAdd(f.redMul(y)),B=d.redAdd(d);B=B.redIAdd(B);var R=B.redMul(x),D=E.redSqr().redISub(R.redAdd(R)),H=R.redISub(D),N=x.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var U=E.redMul(H).redISub(N),W=l.redAdd(l).redMul(g);return this.curve.jpoint(D,U,W)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),d=this.y.redSqr(),l=this.z.redSqr(),g=d.redSqr(),y=f.redAdd(f).redIAdd(f),m=y.redSqr(),x=this.x.redAdd(d).redSqr().redISub(f).redISub(g);x=x.redIAdd(x),x=x.redAdd(x).redIAdd(x),x=x.redISub(m);var E=x.redSqr(),B=g.redIAdd(g);B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var R=y.redIAdd(x).redSqr().redISub(m).redISub(E).redISub(B),D=d.redMul(R);D=D.redIAdd(D),D=D.redIAdd(D);var H=this.x.redMul(E).redISub(D);H=H.redIAdd(H),H=H.redIAdd(H);var N=this.y.redMul(R.redMul(B.redISub(R)).redISub(x.redMul(E)));N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var U=this.z.redAdd(x).redSqr().redISub(l).redISub(E);return this.curve.jpoint(H,N,U)},a.prototype.mul=function(f,d){return f=new e(f,d),this.curve._wnafMul(this,f)},a.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var d=this.z.redSqr(),l=f.z.redSqr();if(this.x.redMul(l).redISub(f.x.redMul(d)).cmpn(0)!==0)return!1;var g=d.redMul(this.z),y=l.redMul(f.z);return this.y.redMul(y).redISub(f.y.redMul(g)).cmpn(0)===0},a.prototype.eqXToP=function(f){var d=this.z.redSqr(),l=f.toRed(this.curve.red).redMul(d);if(this.x.cmp(l)===0)return!0;for(var g=f.clone(),y=this.curve.redN.redMul(d);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(y),this.x.cmp(l)===0)return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},$a}var Fa,W1;function M6(){if(W1)return Fa;W1=1;var r=jr(),e=Lo(),t=No(),n=er();function i(o){t.call(this,"mont",o),this.a=new r(o.a,16).toRed(this.red),this.b=new r(o.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(i,t),Fa=i,i.prototype.validate=function(a){var c=a.normalize().x,f=c.redSqr(),d=f.redMul(c).redAdd(f.redMul(this.a)).redAdd(c),l=d.redSqrt();return l.redSqr().cmp(d)===0};function s(o,a,c){t.BasePoint.call(this,o,"projective"),a===null&&c===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(a,16),this.z=new r(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(s,t.BasePoint),i.prototype.decodePoint=function(a,c){return this.point(n.toArray(a,c),1)},i.prototype.point=function(a,c){return new s(this,a,c)},i.prototype.pointFromJSON=function(a){return s.fromJSON(this,a)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(a,c){return new s(a,c[0],c[1]||a.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s.prototype.dbl=function(){var a=this.x.redAdd(this.z),c=a.redSqr(),f=this.x.redSub(this.z),d=f.redSqr(),l=c.redSub(d),g=c.redMul(d),y=l.redMul(d.redAdd(this.curve.a24.redMul(l)));return this.curve.point(g,y)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(a,c){var f=this.x.redAdd(this.z),d=this.x.redSub(this.z),l=a.x.redAdd(a.z),g=a.x.redSub(a.z),y=g.redMul(f),m=l.redMul(d),x=c.z.redMul(y.redAdd(m).redSqr()),E=c.x.redMul(y.redISub(m).redSqr());return this.curve.point(x,E)},s.prototype.mul=function(a){for(var c=a.clone(),f=this,d=this.curve.point(null,null),l=this,g=[];c.cmpn(0)!==0;c.iushrn(1))g.push(c.andln(1));for(var y=g.length-1;y>=0;y--)g[y]===0?(f=f.diffAdd(d,l),d=d.dbl()):(d=f.diffAdd(d,l),f=f.dbl());return d},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Fa}var qa,G1;function B6(){if(G1)return qa;G1=1;var r=er(),e=jr(),t=Lo(),n=No(),i=r.assert;function s(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",a),this.a=new e(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),i(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}t(s,n),qa=s,s.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},s.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},s.prototype.jpoint=function(c,f,d,l){return this.point(c,f,d,l)},s.prototype.pointFromX=function(c,f){c=new e(c,16),c.red||(c=c.toRed(this.red));var d=c.redSqr(),l=this.c2.redSub(this.a.redMul(d)),g=this.one.redSub(this.c2.redMul(this.d).redMul(d)),y=l.redMul(g.redInvm()),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var x=m.fromRed().isOdd();return(f&&!x||!f&&x)&&(m=m.redNeg()),this.point(c,m)},s.prototype.pointFromY=function(c,f){c=new e(c,16),c.red||(c=c.toRed(this.red));var d=c.redSqr(),l=d.redSub(this.c2),g=d.redMul(this.d).redMul(this.c2).redSub(this.a),y=l.redMul(g.redInvm());if(y.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,c)}var m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==f&&(m=m.redNeg()),this.point(m,c)},s.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var f=c.x.redSqr(),d=c.y.redSqr(),l=f.redMul(this.a).redAdd(d),g=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(d)));return l.cmp(g)===0};function o(a,c,f,d,l){n.BasePoint.call(this,a,"projective"),c===null&&f===null&&d===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(c,16),this.y=new e(f,16),this.z=d?new e(d,16):this.curve.one,this.t=l&&new e(l,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return t(o,n.BasePoint),s.prototype.pointFromJSON=function(c){return o.fromJSON(this,c)},s.prototype.point=function(c,f,d,l){return new o(this,c,f,d,l)},o.fromJSON=function(c,f){return new o(c,f[0],f[1],f[2])},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},o.prototype._extDbl=function(){var c=this.x.redSqr(),f=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var l=this.curve._mulA(c),g=this.x.redAdd(this.y).redSqr().redISub(c).redISub(f),y=l.redAdd(f),m=y.redSub(d),x=l.redSub(f),E=g.redMul(m),B=y.redMul(x),R=g.redMul(x),D=m.redMul(y);return this.curve.point(E,B,D,R)},o.prototype._projDbl=function(){var c=this.x.redAdd(this.y).redSqr(),f=this.x.redSqr(),d=this.y.redSqr(),l,g,y,m,x,E;if(this.curve.twisted){m=this.curve._mulA(f);var B=m.redAdd(d);this.zOne?(l=c.redSub(f).redSub(d).redMul(B.redSub(this.curve.two)),g=B.redMul(m.redSub(d)),y=B.redSqr().redSub(B).redSub(B)):(x=this.z.redSqr(),E=B.redSub(x).redISub(x),l=c.redSub(f).redISub(d).redMul(E),g=B.redMul(m.redSub(d)),y=B.redMul(E))}else m=f.redAdd(d),x=this.curve._mulC(this.z).redSqr(),E=m.redSub(x).redSub(x),l=this.curve._mulC(c.redISub(m)).redMul(E),g=this.curve._mulC(m).redMul(f.redISub(d)),y=m.redMul(E);return this.curve.point(l,g,y)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function(c){var f=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),d=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),l=this.t.redMul(this.curve.dd).redMul(c.t),g=this.z.redMul(c.z.redAdd(c.z)),y=d.redSub(f),m=g.redSub(l),x=g.redAdd(l),E=d.redAdd(f),B=y.redMul(m),R=x.redMul(E),D=y.redMul(E),H=m.redMul(x);return this.curve.point(B,R,H,D)},o.prototype._projAdd=function(c){var f=this.z.redMul(c.z),d=f.redSqr(),l=this.x.redMul(c.x),g=this.y.redMul(c.y),y=this.curve.d.redMul(l).redMul(g),m=d.redSub(y),x=d.redAdd(y),E=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(l).redISub(g),B=f.redMul(m).redMul(E),R,D;return this.curve.twisted?(R=f.redMul(x).redMul(g.redSub(this.curve._mulA(l))),D=m.redMul(x)):(R=f.redMul(x).redMul(g.redSub(l)),D=this.curve._mulC(m).redMul(x)),this.curve.point(B,R,D)},o.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},o.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},o.prototype.mulAdd=function(c,f,d){return this.curve._wnafMulAdd(1,[this,f],[c,d],2,!1)},o.prototype.jmulAdd=function(c,f,d){return this.curve._wnafMulAdd(1,[this,f],[c,d],2,!0)},o.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},o.prototype.eqXToP=function(c){var f=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var d=c.clone(),l=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(l),this.x.cmp(f)===0)return!0}},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,qa}var X1;function Jl(){return X1||(X1=1,(function(r){var e=r;e.base=No(),e.short=T6(),e.mont=M6(),e.edwards=B6()})(Ha)),Ha}var ja={},za={},Ce={},Y1;function Cr(){if(Y1)return Ce;Y1=1;var r=Qn(),e=Lo();Ce.inherits=e;function t(u,p){return(u.charCodeAt(p)&64512)!==55296||p<0||p+1>=u.length?!1:(u.charCodeAt(p+1)&64512)===56320}function n(u,p){if(Array.isArray(u))return u.slice();if(!u)return[];var _=[];if(typeof u=="string")if(p){if(p==="hex")for(u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u),v=0;v<u.length;v+=2)_.push(parseInt(u[v]+u[v+1],16))}else for(var h=0,v=0;v<u.length;v++){var S=u.charCodeAt(v);S<128?_[h++]=S:S<2048?(_[h++]=S>>6|192,_[h++]=S&63|128):t(u,v)?(S=65536+((S&1023)<<10)+(u.charCodeAt(++v)&1023),_[h++]=S>>18|240,_[h++]=S>>12&63|128,_[h++]=S>>6&63|128,_[h++]=S&63|128):(_[h++]=S>>12|224,_[h++]=S>>6&63|128,_[h++]=S&63|128)}else for(v=0;v<u.length;v++)_[v]=u[v]|0;return _}Ce.toArray=n;function i(u){for(var p="",_=0;_<u.length;_++)p+=a(u[_].toString(16));return p}Ce.toHex=i;function s(u){var p=u>>>24|u>>>8&65280|u<<8&16711680|(u&255)<<24;return p>>>0}Ce.htonl=s;function o(u,p){for(var _="",h=0;h<u.length;h++){var v=u[h];p==="little"&&(v=s(v)),_+=c(v.toString(16))}return _}Ce.toHex32=o;function a(u){return u.length===1?"0"+u:u}Ce.zero2=a;function c(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}Ce.zero8=c;function f(u,p,_,h){var v=_-p;r(v%4===0);for(var S=new Array(v/4),k=0,C=p;k<S.length;k++,C+=4){var b;h==="big"?b=u[C]<<24|u[C+1]<<16|u[C+2]<<8|u[C+3]:b=u[C+3]<<24|u[C+2]<<16|u[C+1]<<8|u[C],S[k]=b>>>0}return S}Ce.join32=f;function d(u,p){for(var _=new Array(u.length*4),h=0,v=0;h<u.length;h++,v+=4){var S=u[h];p==="big"?(_[v]=S>>>24,_[v+1]=S>>>16&255,_[v+2]=S>>>8&255,_[v+3]=S&255):(_[v+3]=S>>>24,_[v+2]=S>>>16&255,_[v+1]=S>>>8&255,_[v]=S&255)}return _}Ce.split32=d;function l(u,p){return u>>>p|u<<32-p}Ce.rotr32=l;function g(u,p){return u<<p|u>>>32-p}Ce.rotl32=g;function y(u,p){return u+p>>>0}Ce.sum32=y;function m(u,p,_){return u+p+_>>>0}Ce.sum32_3=m;function x(u,p,_,h){return u+p+_+h>>>0}Ce.sum32_4=x;function E(u,p,_,h,v){return u+p+_+h+v>>>0}Ce.sum32_5=E;function B(u,p,_,h){var v=u[p],S=u[p+1],k=h+S>>>0,C=(k<h?1:0)+_+v;u[p]=C>>>0,u[p+1]=k}Ce.sum64=B;function R(u,p,_,h){var v=p+h>>>0,S=(v<p?1:0)+u+_;return S>>>0}Ce.sum64_hi=R;function D(u,p,_,h){var v=p+h;return v>>>0}Ce.sum64_lo=D;function H(u,p,_,h,v,S,k,C){var b=0,T=p;T=T+h>>>0,b+=T<p?1:0,T=T+S>>>0,b+=T<S?1:0,T=T+C>>>0,b+=T<C?1:0;var $=u+_+v+k+b;return $>>>0}Ce.sum64_4_hi=H;function N(u,p,_,h,v,S,k,C){var b=p+h+S+C;return b>>>0}Ce.sum64_4_lo=N;function U(u,p,_,h,v,S,k,C,b,T){var $=0,Z=p;Z=Z+h>>>0,$+=Z<p?1:0,Z=Z+S>>>0,$+=Z<S?1:0,Z=Z+C>>>0,$+=Z<C?1:0,Z=Z+T>>>0,$+=Z<T?1:0;var G=u+_+v+k+b+$;return G>>>0}Ce.sum64_5_hi=U;function W(u,p,_,h,v,S,k,C,b,T){var $=p+h+S+C+T;return $>>>0}Ce.sum64_5_lo=W;function Y(u,p,_){var h=p<<32-_|u>>>_;return h>>>0}Ce.rotr64_hi=Y;function q(u,p,_){var h=u<<32-_|p>>>_;return h>>>0}Ce.rotr64_lo=q;function J(u,p,_){return u>>>_}Ce.shr64_hi=J;function O(u,p,_){var h=u<<32-_|p>>>_;return h>>>0}return Ce.shr64_lo=O,Ce}var Va={},Q1;function bs(){if(Q1)return Va;Q1=1;var r=Cr(),e=Qn();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Va.BlockHash=t,t.prototype.update=function(i,s){if(i=r.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=r.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,f=8;f<this.padLength;f++)a[c++]=0;return a},Va}var yn={},br={},J1;function eh(){if(J1)return br;J1=1;var r=Cr(),e=r.rotr32;function t(d,l,g,y){if(d===0)return n(l,g,y);if(d===1||d===3)return s(l,g,y);if(d===2)return i(l,g,y)}br.ft_1=t;function n(d,l,g){return d&l^~d&g}br.ch32=n;function i(d,l,g){return d&l^d&g^l&g}br.maj32=i;function s(d,l,g){return d^l^g}br.p32=s;function o(d){return e(d,2)^e(d,13)^e(d,22)}br.s0_256=o;function a(d){return e(d,6)^e(d,11)^e(d,25)}br.s1_256=a;function c(d){return e(d,7)^e(d,18)^d>>>3}br.g0_256=c;function f(d){return e(d,17)^e(d,19)^d>>>10}return br.g1_256=f,br}var Ka,ed;function k6(){if(ed)return Ka;ed=1;var r=Cr(),e=bs(),t=eh(),n=r.rotl32,i=r.sum32,s=r.sum32_5,o=t.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(f,a),Ka=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(l,g){for(var y=this.W,m=0;m<16;m++)y[m]=l[g+m];for(;m<y.length;m++)y[m]=n(y[m-3]^y[m-8]^y[m-14]^y[m-16],1);var x=this.h[0],E=this.h[1],B=this.h[2],R=this.h[3],D=this.h[4];for(m=0;m<y.length;m++){var H=~~(m/20),N=s(n(x,5),o(H,E,B,R),D,y[m],c[H]);D=R,R=B,B=n(E,30),E=x,x=N}this.h[0]=i(this.h[0],x),this.h[1]=i(this.h[1],E),this.h[2]=i(this.h[2],B),this.h[3]=i(this.h[3],R),this.h[4]=i(this.h[4],D)},f.prototype._digest=function(l){return l==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Ka}var Za,td;function th(){if(td)return Za;td=1;var r=Cr(),e=bs(),t=eh(),n=Qn(),i=r.sum32,s=r.sum32_4,o=r.sum32_5,a=t.ch32,c=t.maj32,f=t.s0_256,d=t.s1_256,l=t.g0_256,g=t.g1_256,y=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return r.inherits(x,y),Za=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(B,R){for(var D=this.W,H=0;H<16;H++)D[H]=B[R+H];for(;H<D.length;H++)D[H]=s(g(D[H-2]),D[H-7],l(D[H-15]),D[H-16]);var N=this.h[0],U=this.h[1],W=this.h[2],Y=this.h[3],q=this.h[4],J=this.h[5],O=this.h[6],u=this.h[7];for(n(this.k.length===D.length),H=0;H<D.length;H++){var p=o(u,d(q),a(q,J,O),this.k[H],D[H]),_=i(f(N),c(N,U,W));u=O,O=J,J=q,q=i(Y,p),Y=W,W=U,U=N,N=i(p,_)}this.h[0]=i(this.h[0],N),this.h[1]=i(this.h[1],U),this.h[2]=i(this.h[2],W),this.h[3]=i(this.h[3],Y),this.h[4]=i(this.h[4],q),this.h[5]=i(this.h[5],J),this.h[6]=i(this.h[6],O),this.h[7]=i(this.h[7],u)},x.prototype._digest=function(B){return B==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},Za}var Wa,rd;function O6(){if(rd)return Wa;rd=1;var r=Cr(),e=th();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),Wa=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},Wa}var Ga,nd;function rh(){if(nd)return Ga;nd=1;var r=Cr(),e=bs(),t=Qn(),n=r.rotr64_hi,i=r.rotr64_lo,s=r.shr64_hi,o=r.shr64_lo,a=r.sum64,c=r.sum64_hi,f=r.sum64_lo,d=r.sum64_4_hi,l=r.sum64_4_lo,g=r.sum64_5_hi,y=r.sum64_5_lo,m=e.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}r.inherits(E,m),Ga=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(_,h){for(var v=this.W,S=0;S<32;S++)v[S]=_[h+S];for(;S<v.length;S+=2){var k=O(v[S-4],v[S-3]),C=u(v[S-4],v[S-3]),b=v[S-14],T=v[S-13],$=q(v[S-30],v[S-29]),Z=J(v[S-30],v[S-29]),G=v[S-32],X=v[S-31];v[S]=d(k,C,b,T,$,Z,G,X),v[S+1]=l(k,C,b,T,$,Z,G,X)}},E.prototype._update=function(_,h){this._prepareBlock(_,h);var v=this.W,S=this.h[0],k=this.h[1],C=this.h[2],b=this.h[3],T=this.h[4],$=this.h[5],Z=this.h[6],G=this.h[7],X=this.h[8],re=this.h[9],ie=this.h[10],ge=this.h[11],ne=this.h[12],oe=this.h[13],pt=this.h[14],ye=this.h[15];t(this.k.length===v.length);for(var ce=0;ce<v.length;ce+=2){var He=pt,xe=ye,_e=W(X,re),Ft=Y(X,re),ke=B(X,re,ie,ge,ne),Oe=R(X,re,ie,ge,ne,oe),Vr=this.k[ce],Se=this.k[ce+1],we=v[ce],Mr=v[ce+1],Te=g(He,xe,_e,Ft,ke,Oe,Vr,Se,we,Mr),ve=y(He,xe,_e,Ft,ke,Oe,Vr,Se,we,Mr);He=N(S,k),xe=U(S,k),_e=D(S,k,C,b,T),Ft=H(S,k,C,b,T,$);var bn=c(He,xe,_e,Ft),M=f(He,xe,_e,Ft);pt=ne,ye=oe,ne=ie,oe=ge,ie=X,ge=re,X=c(Z,G,Te,ve),re=f(G,G,Te,ve),Z=T,G=$,T=C,$=b,C=S,b=k,S=c(Te,ve,bn,M),k=f(Te,ve,bn,M)}a(this.h,0,S,k),a(this.h,2,C,b),a(this.h,4,T,$),a(this.h,6,Z,G),a(this.h,8,X,re),a(this.h,10,ie,ge),a(this.h,12,ne,oe),a(this.h,14,pt,ye)},E.prototype._digest=function(_){return _==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function B(p,_,h,v,S){var k=p&h^~p&S;return k<0&&(k+=4294967296),k}function R(p,_,h,v,S,k){var C=_&v^~_&k;return C<0&&(C+=4294967296),C}function D(p,_,h,v,S){var k=p&h^p&S^h&S;return k<0&&(k+=4294967296),k}function H(p,_,h,v,S,k){var C=_&v^_&k^v&k;return C<0&&(C+=4294967296),C}function N(p,_){var h=n(p,_,28),v=n(_,p,2),S=n(_,p,7),k=h^v^S;return k<0&&(k+=4294967296),k}function U(p,_){var h=i(p,_,28),v=i(_,p,2),S=i(_,p,7),k=h^v^S;return k<0&&(k+=4294967296),k}function W(p,_){var h=n(p,_,14),v=n(p,_,18),S=n(_,p,9),k=h^v^S;return k<0&&(k+=4294967296),k}function Y(p,_){var h=i(p,_,14),v=i(p,_,18),S=i(_,p,9),k=h^v^S;return k<0&&(k+=4294967296),k}function q(p,_){var h=n(p,_,1),v=n(p,_,8),S=s(p,_,7),k=h^v^S;return k<0&&(k+=4294967296),k}function J(p,_){var h=i(p,_,1),v=i(p,_,8),S=o(p,_,7),k=h^v^S;return k<0&&(k+=4294967296),k}function O(p,_){var h=n(p,_,19),v=n(_,p,29),S=s(p,_,6),k=h^v^S;return k<0&&(k+=4294967296),k}function u(p,_){var h=i(p,_,19),v=i(_,p,29),S=o(p,_,6),k=h^v^S;return k<0&&(k+=4294967296),k}return Ga}var Xa,id;function I6(){if(id)return Xa;id=1;var r=Cr(),e=rh();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),Xa=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},Xa}var sd;function R6(){return sd||(sd=1,yn.sha1=k6(),yn.sha224=O6(),yn.sha256=th(),yn.sha384=I6(),yn.sha512=rh()),yn}var Ya={},od;function D6(){if(od)return Ya;od=1;var r=Cr(),e=bs(),t=r.rotl32,n=r.sum32,i=r.sum32_3,s=r.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(a,o),Ya.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(E,B){for(var R=this.h[0],D=this.h[1],H=this.h[2],N=this.h[3],U=this.h[4],W=R,Y=D,q=H,J=N,O=U,u=0;u<80;u++){var p=n(t(s(R,c(u,D,H,N),E[l[u]+B],f(u)),y[u]),U);R=U,U=N,N=t(H,10),H=D,D=p,p=n(t(s(W,c(79-u,Y,q,J),E[g[u]+B],d(u)),m[u]),O),W=O,O=J,J=t(q,10),q=Y,Y=p}p=i(this.h[1],H,J),this.h[1]=i(this.h[2],N,O),this.h[2]=i(this.h[3],U,W),this.h[3]=i(this.h[4],R,Y),this.h[4]=i(this.h[0],D,q),this.h[0]=p},a.prototype._digest=function(E){return E==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function c(x,E,B,R){return x<=15?E^B^R:x<=31?E&B|~E&R:x<=47?(E|~B)^R:x<=63?E&R|B&~R:E^(B|~R)}function f(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function d(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}var l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Ya}var Qa,ad;function P6(){if(ad)return Qa;ad=1;var r=Cr(),e=Qn();function t(n,i,s){if(!(this instanceof t))return new t(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(i,s))}return Qa=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Qa}var cd;function nf(){return cd||(cd=1,(function(r){var e=r;e.utils=Cr(),e.common=bs(),e.sha=R6(),e.ripemd=D6(),e.hmac=P6(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(za)),za}var Ja,fd;function N6(){return fd||(fd=1,Ja={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Ja}var dd;function sf(){return dd||(dd=1,(function(r){var e=r,t=nf(),n=Jl(),i=er(),s=i.assert;function o(f){f.type==="short"?this.curve=new n.short(f):f.type==="edwards"?this.curve=new n.edwards(f):this.curve=new n.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(f,d){Object.defineProperty(e,f,{configurable:!0,enumerable:!0,get:function(){var l=new o(d);return Object.defineProperty(e,f,{configurable:!0,enumerable:!0,value:l}),l}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=N6()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(ja)),ja}var ec,ud;function L6(){if(ud)return ec;ud=1;var r=nf(),e=Yl(),t=Qn();function n(i){if(!(this instanceof n))return new n(i);this.hash=i.hash,this.predResist=!!i.predResist,this.outLen=this.hash.outSize,this.minEntropy=i.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=e.toArray(i.entropy,i.entropyEnc||"hex"),o=e.toArray(i.nonce,i.nonceEnc||"hex"),a=e.toArray(i.pers,i.persEnc||"hex");t(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,o,a)}return ec=n,n.prototype._init=function(s,o,a){var c=s.concat(o).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},n.prototype._update=function(s){var o=this._hmac().update(this.V).update([0]);s&&(o=o.update(s)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(s,o,a,c){typeof o!="string"&&(c=a,a=o,o=null),s=e.toArray(s,o),a=e.toArray(a,c),t(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(a||[])),this._reseed=1},n.prototype.generate=function(s,o,a,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(c=a,a=o,o=null),a&&(a=e.toArray(a,c||"hex"),this._update(a));for(var f=[];f.length<s;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var d=f.slice(0,s);return this._update(a),this._reseed++,e.encode(d,o)},ec}var tc,ld;function H6(){if(ld)return tc;ld=1;var r=jr(),e=er(),t=e.assert;function n(i,s){this.ec=i,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}return tc=n,n.fromPublic=function(s,o,a){return o instanceof n?o:new n(s,{pub:o,pubEnc:a})},n.fromPrivate=function(s,o,a){return o instanceof n?o:new n(s,{priv:o,privEnc:a})},n.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(s,o){return typeof s=="string"&&(o=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,s):this.pub},n.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(s,o){this.priv=new r(s,o||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(s,o){if(s.x||s.y){this.ec.curve.type==="mont"?t(s.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&t(s.x&&s.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(s.x,s.y);return}this.pub=this.ec.curve.decodePoint(s,o)},n.prototype.derive=function(s){return s.validate()||t(s.validate(),"public point not validated"),s.mul(this.priv).getX()},n.prototype.sign=function(s,o,a){return this.ec.sign(s,this,o,a)},n.prototype.verify=function(s,o,a){return this.ec.verify(s,o,this,void 0,a)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},tc}var rc,hd;function U6(){if(hd)return rc;hd=1;var r=jr(),e=er(),t=e.assert;function n(c,f){if(c instanceof n)return c;this._importDER(c,f)||(t(c.r&&c.s,"Signature without r or s"),this.r=new r(c.r,16),this.s=new r(c.s,16),c.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=c.recoveryParam)}rc=n;function i(){this.place=0}function s(c,f){var d=c[f.place++];if(!(d&128))return d;var l=d&15;if(l===0||l>4||c[f.place]===0)return!1;for(var g=0,y=0,m=f.place;y<l;y++,m++)g<<=8,g|=c[m],g>>>=0;return g<=127?!1:(f.place=m,g)}function o(c){for(var f=0,d=c.length-1;!c[f]&&!(c[f+1]&128)&&f<d;)f++;return f===0?c:c.slice(f)}n.prototype._importDER=function(f,d){f=e.toArray(f,d);var l=new i;if(f[l.place++]!==48)return!1;var g=s(f,l);if(g===!1||g+l.place!==f.length||f[l.place++]!==2)return!1;var y=s(f,l);if(y===!1||(f[l.place]&128)!==0)return!1;var m=f.slice(l.place,y+l.place);if(l.place+=y,f[l.place++]!==2)return!1;var x=s(f,l);if(x===!1||f.length!==x+l.place||(f[l.place]&128)!==0)return!1;var E=f.slice(l.place,x+l.place);if(m[0]===0)if(m[1]&128)m=m.slice(1);else return!1;if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;return this.r=new r(m),this.s=new r(E),this.recoveryParam=null,!0};function a(c,f){if(f<128){c.push(f);return}var d=1+(Math.log(f)/Math.LN2>>>3);for(c.push(d|128);--d;)c.push(f>>>(d<<3)&255);c.push(f)}return n.prototype.toDER=function(f){var d=this.r.toArray(),l=this.s.toArray();for(d[0]&128&&(d=[0].concat(d)),l[0]&128&&(l=[0].concat(l)),d=o(d),l=o(l);!l[0]&&!(l[1]&128);)l=l.slice(1);var g=[2];a(g,d.length),g=g.concat(d),g.push(2),a(g,l.length);var y=g.concat(l),m=[48];return a(m,y.length),m=m.concat(y),e.encode(m,f)},rc}var nc,pd;function $6(){if(pd)return nc;pd=1;var r=jr(),e=L6(),t=er(),n=sf(),i=Ql(),s=t.assert,o=H6(),a=U6();function c(f){if(!(this instanceof c))return new c(f);typeof f=="string"&&(s(Object.prototype.hasOwnProperty.call(n,f),"Unknown curve "+f),f=n[f]),f instanceof n.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}return nc=c,c.prototype.keyPair=function(d){return new o(this,d)},c.prototype.keyFromPrivate=function(d,l){return o.fromPrivate(this,d,l)},c.prototype.keyFromPublic=function(d,l){return o.fromPublic(this,d,l)},c.prototype.genKeyPair=function(d){d||(d={});for(var l=new e({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||i(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),y=this.n.sub(new r(2));;){var m=new r(l.generate(g));if(!(m.cmp(y)>0))return m.iaddn(1),this.keyFromPrivate(m)}},c.prototype._truncateToN=function(d,l,g){var y;if(r.isBN(d)||typeof d=="number")d=new r(d,16),y=d.byteLength();else if(typeof d=="object")y=d.length,d=new r(d,16);else{var m=d.toString();y=m.length+1>>>1,d=new r(m,16)}typeof g!="number"&&(g=y*8);var x=g-this.n.bitLength();return x>0&&(d=d.ushrn(x)),!l&&d.cmp(this.n)>=0?d.sub(this.n):d},c.prototype.sign=function(d,l,g,y){if(typeof g=="object"&&(y=g,g=null),y||(y={}),typeof d!="string"&&typeof d!="number"&&!r.isBN(d)){s(typeof d=="object"&&d&&typeof d.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(d.length>>>0===d.length);for(var m=0;m<d.length;m++)s((d[m]&255)===d[m])}l=this.keyFromPrivate(l,g),d=this._truncateToN(d,!1,y.msgBitLength),s(!d.isNeg(),"Can not sign a negative message");var x=this.n.byteLength(),E=l.getPrivate().toArray("be",x),B=d.toArray("be",x);s(new r(B).eq(d),"Can not sign message");for(var R=new e({hash:this.hash,entropy:E,nonce:B,pers:y.pers,persEnc:y.persEnc||"utf8"}),D=this.n.sub(new r(1)),H=0;;H++){var N=y.k?y.k(H):new r(R.generate(this.n.byteLength()));if(N=this._truncateToN(N,!0),!(N.cmpn(1)<=0||N.cmp(D)>=0)){var U=this.g.mul(N);if(!U.isInfinity()){var W=U.getX(),Y=W.umod(this.n);if(Y.cmpn(0)!==0){var q=N.invm(this.n).mul(Y.mul(l.getPrivate()).iadd(d));if(q=q.umod(this.n),q.cmpn(0)!==0){var J=(U.getY().isOdd()?1:0)|(W.cmp(Y)!==0?2:0);return y.canonical&&q.cmp(this.nh)>0&&(q=this.n.sub(q),J^=1),new a({r:Y,s:q,recoveryParam:J})}}}}}},c.prototype.verify=function(d,l,g,y,m){m||(m={}),d=this._truncateToN(d,!1,m.msgBitLength),g=this.keyFromPublic(g,y),l=new a(l,"hex");var x=l.r,E=l.s;if(x.cmpn(1)<0||x.cmp(this.n)>=0||E.cmpn(1)<0||E.cmp(this.n)>=0)return!1;var B=E.invm(this.n),R=B.mul(d).umod(this.n),D=B.mul(x).umod(this.n),H;return this.curve._maxwellTrick?(H=this.g.jmulAdd(R,g.getPublic(),D),H.isInfinity()?!1:H.eqXToP(x)):(H=this.g.mulAdd(R,g.getPublic(),D),H.isInfinity()?!1:H.getX().umod(this.n).cmp(x)===0)},c.prototype.recoverPubKey=function(f,d,l,g){s((3&l)===l,"The recovery param is more than two bits"),d=new a(d,g);var y=this.n,m=new r(f),x=d.r,E=d.s,B=l&1,R=l>>1;if(x.cmp(this.curve.p.umod(this.curve.n))>=0&&R)throw new Error("Unable to find sencond key candinate");R?x=this.curve.pointFromX(x.add(this.curve.n),B):x=this.curve.pointFromX(x,B);var D=d.r.invm(y),H=y.sub(m).mul(D).umod(y),N=E.mul(D).umod(y);return this.g.mulAdd(H,x,N)},c.prototype.getKeyRecoveryParam=function(f,d,l,g){if(d=new a(d,g),d.recoveryParam!==null)return d.recoveryParam;for(var y=0;y<4;y++){var m;try{m=this.recoverPubKey(f,d,y)}catch{continue}if(m.eq(l))return y}throw new Error("Unable to find valid recovery factor")},nc}var ic,bd;function F6(){if(bd)return ic;bd=1;var r=er(),e=r.assert,t=r.parseBytes,n=r.cachedProperty;function i(s,o){this.eddsa=s,this._secret=t(o.secret),s.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=t(o.pub)}return i.fromPublic=function(o,a){return a instanceof i?a:new i(o,{pub:a})},i.fromSecret=function(o,a){return a instanceof i?a:new i(o,{secret:a})},i.prototype.secret=function(){return this._secret},n(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(i,"privBytes",function(){var o=this.eddsa,a=this.hash(),c=o.encodingLength-1,f=a.slice(0,o.encodingLength);return f[0]&=248,f[c]&=127,f[c]|=64,f}),n(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(o){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},i.prototype.verify=function(o,a){return this.eddsa.verify(o,a,this)},i.prototype.getSecret=function(o){return e(this._secret,"KeyPair is public only"),r.encode(this.secret(),o)},i.prototype.getPublic=function(o){return r.encode(this.pubBytes(),o)},ic=i,ic}var sc,gd;function q6(){if(gd)return sc;gd=1;var r=jr(),e=er(),t=e.assert,n=e.cachedProperty,i=e.parseBytes;function s(o,a){this.eddsa=o,typeof a!="object"&&(a=i(a)),Array.isArray(a)&&(t(a.length===o.encodingLength*2,"Signature has invalid size"),a={R:a.slice(0,o.encodingLength),S:a.slice(o.encodingLength)}),t(a.R&&a.S,"Signature without R or S"),o.isPoint(a.R)&&(this._R=a.R),a.S instanceof r&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}return n(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},sc=s,sc}var oc,yd;function j6(){if(yd)return oc;yd=1;var r=nf(),e=sf(),t=er(),n=t.assert,i=t.parseBytes,s=F6(),o=q6();function a(c){if(n(c==="ed25519","only tested with ed25519 so far"),!(this instanceof a))return new a(c);c=e[c].curve,this.curve=c,this.g=c.g,this.g.precompute(c.n.bitLength()+1),this.pointClass=c.point().constructor,this.encodingLength=Math.ceil(c.n.bitLength()/8),this.hash=r.sha512}return oc=a,a.prototype.sign=function(f,d){f=i(f);var l=this.keyFromSecret(d),g=this.hashInt(l.messagePrefix(),f),y=this.g.mul(g),m=this.encodePoint(y),x=this.hashInt(m,l.pubBytes(),f).mul(l.priv()),E=g.add(x).umod(this.curve.n);return this.makeSignature({R:y,S:E,Rencoded:m})},a.prototype.verify=function(f,d,l){if(f=i(f),d=this.makeSignature(d),d.S().gte(d.eddsa.curve.n)||d.S().isNeg())return!1;var g=this.keyFromPublic(l),y=this.hashInt(d.Rencoded(),g.pubBytes(),f),m=this.g.mul(d.S()),x=d.R().add(g.pub().mul(y));return x.eq(m)},a.prototype.hashInt=function(){for(var f=this.hash(),d=0;d<arguments.length;d++)f.update(arguments[d]);return t.intFromLE(f.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(f){return s.fromPublic(this,f)},a.prototype.keyFromSecret=function(f){return s.fromSecret(this,f)},a.prototype.makeSignature=function(f){return f instanceof o?f:new o(this,f)},a.prototype.encodePoint=function(f){var d=f.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=f.getX().isOdd()?128:0,d},a.prototype.decodePoint=function(f){f=t.parseBytes(f);var d=f.length-1,l=f.slice(0,d).concat(f[d]&-129),g=(f[d]&128)!==0,y=t.intFromLE(l);return this.curve.pointFromY(y,g)},a.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(f){return t.intFromLE(f)},a.prototype.isPoint=function(f){return f instanceof this.pointClass},oc}var md;function z6(){return md||(md=1,(function(r){var e=r;e.version=A6.version,e.utils=er(),e.rand=Ql(),e.curve=Jl(),e.curves=sf(),e.ec=$6(),e.eddsa=j6()})(Da)),Da}var V6=z6();const K6=Su(V6);var wd;(function(r){r[r.ParameterInvalid=101]="ParameterInvalid",r[r.ParameterRequired=102]="ParameterRequired",r[r.SignMessageFailed=103]="SignMessageFailed",r[r.AddressInvalid=104]="AddressInvalid",r[r.ReconciliationFailed=105]="ReconciliationFailed"})(wd||(wd={}));new K6.ec("secp256k1");var vd;(function(r){r.Mainnet="ckb",r.Testnet="ckt"})(vd||(vd={}));var xd;(function(r){r.FullVersion="0x00",r.HashIdx="0x01",r.DataCodeHash="0x02",r.TypeCodeHash="0x04"})(xd||(xd={}));var _d;(function(r){r.Bech32="bech32",r.Bech32m="bech32m"})(_d||(_d={}));var qs={exports:{}},Ad;function Z6(){return Ad||(Ad=1,(function(r,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof u1<"u"&&u1,n=(function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof a<"u"&&a,c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function f(h){return h&&DataView.prototype.isPrototypeOf(h)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(h){return h&&d.indexOf(Object.prototype.toString.call(h))>-1};function g(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(h)||h==="")throw new TypeError('Invalid character in header field name: "'+h+'"');return h.toLowerCase()}function y(h){return typeof h!="string"&&(h=String(h)),h}function m(h){var v={next:function(){var S=h.shift();return{done:S===void 0,value:S}}};return c.iterable&&(v[Symbol.iterator]=function(){return v}),v}function x(h){this.map={},h instanceof x?h.forEach(function(v,S){this.append(S,v)},this):Array.isArray(h)?h.forEach(function(v){this.append(v[0],v[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(v){this.append(v,h[v])},this)}x.prototype.append=function(h,v){h=g(h),v=y(v);var S=this.map[h];this.map[h]=S?S+", "+v:v},x.prototype.delete=function(h){delete this.map[g(h)]},x.prototype.get=function(h){return h=g(h),this.has(h)?this.map[h]:null},x.prototype.has=function(h){return this.map.hasOwnProperty(g(h))},x.prototype.set=function(h,v){this.map[g(h)]=y(v)},x.prototype.forEach=function(h,v){for(var S in this.map)this.map.hasOwnProperty(S)&&h.call(v,this.map[S],S,this)},x.prototype.keys=function(){var h=[];return this.forEach(function(v,S){h.push(S)}),m(h)},x.prototype.values=function(){var h=[];return this.forEach(function(v){h.push(v)}),m(h)},x.prototype.entries=function(){var h=[];return this.forEach(function(v,S){h.push([S,v])}),m(h)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function E(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));h.bodyUsed=!0}function B(h){return new Promise(function(v,S){h.onload=function(){v(h.result)},h.onerror=function(){S(h.error)}})}function R(h){var v=new FileReader,S=B(v);return v.readAsArrayBuffer(h),S}function D(h){var v=new FileReader,S=B(v);return v.readAsText(h),S}function H(h){for(var v=new Uint8Array(h),S=new Array(v.length),k=0;k<v.length;k++)S[k]=String.fromCharCode(v[k]);return S.join("")}function N(h){if(h.slice)return h.slice(0);var v=new Uint8Array(h.byteLength);return v.set(new Uint8Array(h)),v.buffer}function U(){return this.bodyUsed=!1,this._initBody=function(h){this.bodyUsed=this.bodyUsed,this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:c.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:c.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():c.arrayBuffer&&c.blob&&f(h)?(this._bodyArrayBuffer=N(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||l(h))?this._bodyArrayBuffer=N(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var h=E(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var h=E(this);return h||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(R)}),this.text=function(){var h=E(this);if(h)return h;if(this._bodyBlob)return D(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(H(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(J)}),this.json=function(){return this.text().then(JSON.parse)},this}var W=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Y(h){var v=h.toUpperCase();return W.indexOf(v)>-1?v:h}function q(h,v){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');v=v||{};var S=v.body;if(h instanceof q){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,v.headers||(this.headers=new x(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!S&&h._bodyInit!=null&&(S=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new x(v.headers)),this.method=Y(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(S),(this.method==="GET"||this.method==="HEAD")&&(v.cache==="no-store"||v.cache==="no-cache")){var k=/([?&])_=[^&]*/;if(k.test(this.url))this.url=this.url.replace(k,"$1_="+new Date().getTime());else{var C=/\?/;this.url+=(C.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function J(h){var v=new FormData;return h.trim().split("&").forEach(function(S){if(S){var k=S.split("="),C=k.shift().replace(/\+/g," "),b=k.join("=").replace(/\+/g," ");v.append(decodeURIComponent(C),decodeURIComponent(b))}}),v}function O(h){var v=new x,S=h.replace(/\r?\n[\t ]+/g," ");return S.split("\r").map(function(k){return k.indexOf(`
`)===0?k.substr(1,k.length):k}).forEach(function(k){var C=k.split(":"),b=C.shift().trim();if(b){var T=C.join(":").trim();v.append(b,T)}}),v}U.call(q.prototype);function u(h,v){if(!(this instanceof u))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.ok=this.status>=200&&this.status<300,this.statusText=v.statusText===void 0?"":""+v.statusText,this.headers=new x(v.headers),this.url=v.url||"",this._initBody(h)}U.call(u.prototype),u.prototype.clone=function(){return new u(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},u.error=function(){var h=new u(null,{status:0,statusText:""});return h.type="error",h};var p=[301,302,303,307,308];u.redirect=function(h,v){if(p.indexOf(v)===-1)throw new RangeError("Invalid status code");return new u(null,{status:v,headers:{location:h}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(v,S){this.message=v,this.name=S;var k=Error(v);this.stack=k.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function _(h,v){return new Promise(function(S,k){var C=new q(h,v);if(C.signal&&C.signal.aborted)return k(new o.DOMException("Aborted","AbortError"));var b=new XMLHttpRequest;function T(){b.abort()}b.onload=function(){var Z={status:b.status,statusText:b.statusText,headers:O(b.getAllResponseHeaders()||"")};Z.url="responseURL"in b?b.responseURL:Z.headers.get("X-Request-URL");var G="response"in b?b.response:b.responseText;setTimeout(function(){S(new u(G,Z))},0)},b.onerror=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},b.ontimeout=function(){setTimeout(function(){k(new TypeError("Network request failed"))},0)},b.onabort=function(){setTimeout(function(){k(new o.DOMException("Aborted","AbortError"))},0)};function $(Z){try{return Z===""&&a.location.href?a.location.href:Z}catch{return Z}}b.open(C.method,$(C.url),!0),C.credentials==="include"?b.withCredentials=!0:C.credentials==="omit"&&(b.withCredentials=!1),"responseType"in b&&(c.blob?b.responseType="blob":c.arrayBuffer&&C.headers.get("Content-Type")&&C.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(b.responseType="arraybuffer")),v&&typeof v.headers=="object"&&!(v.headers instanceof x)?Object.getOwnPropertyNames(v.headers).forEach(function(Z){b.setRequestHeader(Z,y(v.headers[Z]))}):C.headers.forEach(function(Z,G){b.setRequestHeader(G,Z)}),C.signal&&(C.signal.addEventListener("abort",T),b.onreadystatechange=function(){b.readyState===4&&C.signal.removeEventListener("abort",T)}),b.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}return _.polyfill=!0,a.fetch||(a.fetch=_,a.Headers=x,a.Request=q,a.Response=u),o.Headers=x,o.Request=q,o.Response=u,o.fetch=_,o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=t.fetch?t:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,r.exports=e})(qs,qs.exports)),qs.exports}var W6=Z6();const G6=Su(W6),X6=globalThis.crypto,Xi=X6.subtle;var Y6=()=>Date.now(),Q6=class{constructor(r){this.url=r}async baseRPC(r,e,t=this.url){const n={id:Y6(),jsonrpc:"2.0",method:r,params:e??null},i=JSON.stringify(n,null,""),s=await G6(t,{method:"post",headers:{"Content-Type":"application/json"},body:i}).then(async o=>o.json());if(s.error!=null)throw new Error(`RPC error: ${JSON.stringify(s.error)}`);return s.result}async generateSubkeyUnlockSmt(r){return await this.baseRPC("generate_subkey_unlock_smt",r)}};function J6(r){const e=Array.from(new Uint8Array(r),o=>`00${o.toString(16)}`.slice(-2)).join(""),t=Number.parseInt(e.substr(6,2),16)*2;let n=e.substr(8,t),i=e.substr(12+t);n=n.length>64?n.substr(-64):n.padStart(64,"0"),i=i.length>64?i.substr(-64):i.padStart(64,"0");const s=`${n}${i}`;return new Uint8Array(s.match(/[\da-f]{2}/gi).map(o=>Number.parseInt(o,16)))}var ep=(r,e)=>{try{const t=d6(a6(e));return JSON.parse(t).challenge===kn(f6(r))}catch{return!1}},tp=async(r,e,t)=>{try{const n="RSASSA-PKCS1-v1_5",i=jl(t),s=fo(r),o=fo(e),a=new Uint8Array(i.slice(0,3)).reverse(),c=new Uint8Array(i.slice(4)).reverse(),f={alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:kn(a),n:kn(c)},d=await Xi.importKey("jwk",f,{name:n,hash:"SHA-256"},!1,["verify"]);return await Xi.verify(n,d,o,s)}catch{return!1}},rp=async({message:r,signature:e,pubkey:t,challenge:n,alg:i})=>{try{const s=jl(`${t}`),o=fo(r),a=fo(e),c=o.slice(0,37),f=o.slice(37);if(!ep(n,f))return!1;const d=await Xi.digest("SHA-256",f),l=c6(c,d),g=i===qc.ES256,y=g?{kty:"EC",crv:"P-256",x:kn(s.slice(0,32)),y:kn(s.slice(32))}:{alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:kn(new Uint8Array(s.slice(0,3)).reverse()),n:kn(new Uint8Array(s.slice(4)).reverse())},m=g?{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}}:{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},x=await Xi.importKey("jwk",y,m,!1,["verify"]);return await Xi.verify(m,x,i===qc.RS256?a:J6(a),l)}catch{return!1}},np=async r=>{const{message:e,signature:t,pubkey:n,keyType:i}=r;return i==="main_key"||i==="sub_key"?rp(r):tp(e,t,n)};function of(r,e,t){const n=typeof r=="string"?r:F(r).slice(2),{publicKey:i,keyType:s}=JSON.parse(t);return np({challenge:n,pubkey:i,keyType:s,...JSON.parse(e)})}const ip=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),nh=Uint8Array.from(new Array(16).fill(0).map((r,e)=>e)),sp=nh.map(r=>(9*r+5)%16),ih=(()=>{const t=[[nh],[sp]];for(let n=0;n<4;n++)for(let i of t)i.push(i[n].map(s=>ip[s]));return t})(),sh=ih[0],oh=ih[1],ah=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>Uint8Array.from(r)),op=sh.map((r,e)=>r.map(t=>ah[e][t])),ap=oh.map((r,e)=>r.map(t=>ah[e][t])),cp=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),fp=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function Ed(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}const js=new Uint32Array(16);class dp extends Ru{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:i,h4:s}=this;return[e,t,n,i,s]}set(e,t,n,i,s){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,t){for(let y=0;y<16;y++,t+=4)js[y]=e.getUint32(t,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,a=this.h2|0,c=a,f=this.h3|0,d=f,l=this.h4|0,g=l;for(let y=0;y<5;y++){const m=4-y,x=cp[y],E=fp[y],B=sh[y],R=oh[y],D=op[y],H=ap[y];for(let N=0;N<16;N++){const U=me(n+Ed(y,s,a,f)+js[B[N]]+x,D[N])+l|0;n=l,l=f,f=me(a,10)|0,a=s,s=U}for(let N=0;N<16;N++){const U=me(i+Ed(m,o,c,d)+js[R[N]]+E,H[N])+g|0;i=g,g=d,d=me(c,10)|0,c=o,o=U}}this.set(this.h1+a+d|0,this.h2+f+g|0,this.h3+l+i|0,this.h4+n+o|0,this.h0+s+c|0)}roundClean(){Lt(js)}destroy(){this.destroyed=!0,Lt(this.buffer),this.set(0,0,0,0,0)}}const up=d0(()=>new dp);function lp(r){if(r.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let f=0;f<e.length;f++)e[f]=255;for(let f=0;f<r.length;f++){const d=r.charAt(f),l=d.charCodeAt(0);if(e[l]!==255)throw new TypeError(d+" is ambiguous");e[l]=f}const t=r.length,n=r.charAt(0),i=Math.log(t)/Math.log(256),s=Math.log(256)/Math.log(t);function o(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let d=0,l=0,g=0;const y=f.length;for(;g!==y&&f[g]===0;)g++,d++;const m=(y-g)*s+1>>>0,x=new Uint8Array(m);for(;g!==y;){let R=f[g],D=0;for(let H=m-1;(R!==0||D<l)&&H!==-1;H--,D++)R+=256*x[H]>>>0,x[H]=R%t>>>0,R=R/t>>>0;if(R!==0)throw new Error("Non-zero carry");l=D,g++}let E=m-l;for(;E!==m&&x[E]===0;)E++;let B=n.repeat(d);for(;E<m;++E)B+=r.charAt(x[E]);return B}function a(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let d=0,l=0,g=0;for(;f[d]===n;)l++,d++;const y=(f.length-d)*i+1>>>0,m=new Uint8Array(y);for(;d<f.length;){const R=f.charCodeAt(d);if(R>255)return;let D=e[R];if(D===255)return;let H=0;for(let N=y-1;(D!==0||H<g)&&N!==-1;N--,H++)D+=t*m[N]>>>0,m[N]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");g=H,d++}let x=y-g;for(;x!==y&&m[x]===0;)x++;const E=new Uint8Array(l+(y-x));let B=l;for(;x!==y;)E[B++]=m[x++];return E}function c(f){const d=a(f);if(d)return d;throw new Error("Non-base"+t+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var hp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ac=lp(hp);function pp(r){function e(s){var o=Uint8Array.from(s),a=r(o),c=o.length+4,f=new Uint8Array(c);return f.set(o,0),f.set(a.subarray(0,4),o.length),ac.encode(f)}function t(s){var o=s.slice(0,-4),a=s.slice(-4),c=r(o);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return o}function n(s){var o=ac.decodeUnsafe(s);if(o!=null)return t(o)}function i(s){var o=ac.decode(s),a=t(o);if(a==null)throw new Error("Invalid checksum");return a}return{encode:e,decode:i,decodeUnsafe:n}}function bp(r){return g1(g1(r))}const af=pp(bp);function cf(r){const e=K(r);return e<253?sr(e,1):e<=65535?Fe([253],sr(e,2)):e<=4294967295?Fe([254],sr(e,4)):Fe([255],sr(e,8))}function Ho(r,e){const t=e??`Bitcoin Signed Message:
`,n=typeof t=="string"?Q(t,"utf8"):Q(t),i=typeof r=="string"?Q(r,"utf8"):Q(r);return Ur(Ur(Fe(n,cf(i.length),i)))}function gs(r){return up(Ur(Q(r)))}function ff(r,e){return af.encode(Fe([e],gs(r)))}function df(r){return F(af.decode(r).slice(1))}function uf(r,e,t){const n=typeof r=="string"?r:F(r).slice(2),i=Q(e,"base64").slice(1);return Er.verify(Q(i),Ho(n),Q(t))}function Uo(r,e){return Ho(r,e??`Dogecoin Signed Message:
`)}function lf(r,e,t){const n=typeof r=="string"?r:F(r).slice(2),i=Q(e,"base64"),s=i[0],o=i.slice(1),a=Er.Signature.fromCompact(F(o).slice(2)).addRecoveryBit(s-31);return df(t)===F(gs(a.recoverPublicKey(Uo(n)).toHex()))}const gp="6.16.0";function Sd(r,e,t){for(let n in e){let i=e[n];Object.defineProperty(r,n,{enumerable:!0,value:i,writable:!1})}}function ai(r,e){if(r==null)return"null";if(e==null&&(e=new Set),typeof r=="object"){if(e.has(r))return"[Circular]";e.add(r)}if(Array.isArray(r))return"[ "+r.map(t=>ai(t,e)).join(", ")+" ]";if(r instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let i=0;i<r.length;i++)n+=t[r[i]>>4],n+=t[r[i]&15];return n}if(typeof r=="object"&&typeof r.toJSON=="function")return ai(r.toJSON(),e);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{const t=Object.keys(r);return t.sort(),"{ "+t.map(n=>`${ai(n,e)}: ${ai(r[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function yp(r,e,t){let n=r;{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${ai(t)}`);for(const o in t){if(o==="shortMessage")continue;const a=t[o];s.push(o+"="+ai(a))}}s.push(`code=${e}`),s.push(`version=${gp}`),s.length&&(r+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(r);break;default:i=new Error(r)}return Sd(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&Sd(i,{shortMessage:n}),i}function ys(r,e,t,n){if(!r)throw yp(e,t,n)}function Me(r,e,t,n){ys(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");r.push(e)}catch{}return r},[]);function mp(r,e,t){if(r!==e){let n=t,i="new";n+=".",i+=" "+t,ys(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function ch(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.length%2===0&&r.match(/^0x[0-9a-f]*$/i)){const n=new Uint8Array((r.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(r.substring(i,i+2),16),i+=2;return n}Me(!1,"invalid BytesLike value",e||"value",r)}function ar(r,e){return ch(r,e,!1)}function Hi(r,e){return ch(r,e,!0)}function jc(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}const Cd="0123456789abcdef";function wt(r){const e=ar(r);let t="0x";for(let n=0;n<e.length;n++){const i=e[n];t+=Cd[(i&240)>>4]+Cd[i&15]}return t}function uo(r){return"0x"+r.map(e=>wt(e).substring(2)).join("")}function Yi(r){return jc(r,!0)?(r.length-2)/2:ar(r).length}function wp(r,e,t){const n=ar(r);ys(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),i.set(n,e-n.length),wt(i)}function vp(r,e){return wp(r,e)}const hf=BigInt(0);BigInt(1);const ci=9007199254740991;function Wi(r,e){switch(typeof r){case"bigint":return r;case"number":return Me(Number.isInteger(r),"underflow",e||"value",r),Me(r>=-ci&&r<=ci,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){Me(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}Me(!1,"invalid BigNumberish value",e||"value",r)}function fh(r,e){const t=Wi(r,e);return ys(t>=hf,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}function Qi(r,e){switch(typeof r){case"bigint":return Me(r>=-ci&&r<=ci,"overflow",e||"value",r),Number(r);case"number":return Me(Number.isInteger(r),"underflow",e||"value",r),Me(r>=-ci&&r<=ci,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return Qi(BigInt(r),e)}catch(t){Me(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}Me(!1,"invalid numeric value",e||"value",r)}function Td(r,e){const t=fh(r,"value");let n=t.toString(16);{const i=Qi(e,"width");if(i===0&&t===hf)return"0x";for(ys(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<i*2;)n="0"+n}return"0x"+n}function xp(r,e){const t=fh(r,"value");if(t===hf)return new Uint8Array(0);let n=t.toString(16);n.length%2&&(n="0"+n);const i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=s*2;i[s]=parseInt(n.substring(o,o+2),16)}return i}function cc(r,e){Me(typeof r=="string","invalid string value","str",r);let t=[];for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){n++;const s=r.charCodeAt(n);Me(n<r.length&&(s&64512)===56320,"invalid surrogate pair","str",r);const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function lo(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function pf(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function _p(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");lo(r.outputLen),lo(r.blockLen)}function vi(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function dh(r,e){pf(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const fc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uh=r=>r instanceof Uint8Array,Ap=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),dc=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),gr=(r,e)=>r<<32-e|r>>>e,Ep=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ep)throw new Error("Non little-endian hardware is not supported");function Sp(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function $o(r){if(typeof r=="string"&&(r=Sp(r)),!uh(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function Cp(...r){const e=new Uint8Array(r.reduce((n,i)=>n+i.length,0));let t=0;return r.forEach(n=>{if(!uh(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}class bf{clone(){return this._cloneInto()}}function lh(r){const e=n=>r().update($o(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Tp(r=32){if(fc&&typeof fc.getRandomValues=="function")return fc.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class hh extends bf{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,_p(e);const n=$o(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return vi(this),this.iHash.update(e),this}digestInto(e){vi(this),pf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ph=(r,e,t)=>new hh(r,e).update(t).digest();ph.create=(r,e)=>new hh(r,e);function Mp(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),c=n?4:0,f=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+f,a,n)}class Bp extends bf{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dc(this.buffer)}update(e){vi(this);const{view:t,buffer:n,blockLen:i}=this;e=$o(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=dc(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vi(this),dh(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let l=o;l<i;l++)t[l]=0;Mp(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=dc(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)a.setUint32(4*l,d[l],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(n),e}}const kp=(r,e,t)=>r&e^~r&t,Op=(r,e,t)=>r&e^r&t^e&t,Ip=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jr=new Uint32Array(64);class Rp extends Bp{constructor(){super(64,32,8,!1),this.A=Qr[0]|0,this.B=Qr[1]|0,this.C=Qr[2]|0,this.D=Qr[3]|0,this.E=Qr[4]|0,this.F=Qr[5]|0,this.G=Qr[6]|0,this.H=Qr[7]|0}get(){const{A:e,B:t,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,t,n,i,s,o,a,c]}set(e,t,n,i,s,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let l=0;l<16;l++,t+=4)Jr[l]=e.getUint32(t,!1);for(let l=16;l<64;l++){const g=Jr[l-15],y=Jr[l-2],m=gr(g,7)^gr(g,18)^g>>>3,x=gr(y,17)^gr(y,19)^y>>>10;Jr[l]=x+Jr[l-7]+m+Jr[l-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:f,H:d}=this;for(let l=0;l<64;l++){const g=gr(a,6)^gr(a,11)^gr(a,25),y=d+g+kp(a,c,f)+Ip[l]+Jr[l]|0,x=(gr(n,2)^gr(n,13)^gr(n,22))+Op(n,i,s)|0;d=f,f=c,c=a,a=o+y|0,o=s,s=i,i=n,n=y+x|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,c,f,d)}roundClean(){Jr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Dp=lh(()=>new Rp),zs=BigInt(2**32-1),Md=BigInt(32);function Pp(r,e=!1){return e?{h:Number(r&zs),l:Number(r>>Md&zs)}:{h:Number(r>>Md&zs)|0,l:Number(r&zs)|0}}function Np(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let i=0;i<r.length;i++){const{h:s,l:o}=Pp(r[i],e);[t[i],n[i]]=[s,o]}return[t,n]}const Lp=(r,e,t)=>r<<t|e>>>32-t,Hp=(r,e,t)=>e<<t|r>>>32-t,Up=(r,e,t)=>e<<t-32|r>>>64-t,$p=(r,e,t)=>r<<t-32|e>>>64-t,[bh,gh,yh]=[[],[],[]],Fp=BigInt(0),Ui=BigInt(1),qp=BigInt(2),jp=BigInt(7),zp=BigInt(256),Vp=BigInt(113);for(let r=0,e=Ui,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],bh.push(2*(5*n+t)),gh.push((r+1)*(r+2)/2%64);let i=Fp;for(let s=0;s<7;s++)e=(e<<Ui^(e>>jp)*Vp)%zp,e&qp&&(i^=Ui<<(Ui<<BigInt(s))-Ui);yh.push(i)}const[Kp,Zp]=Np(yh,!0),Bd=(r,e,t)=>t>32?Up(r,e,t):Lp(r,e,t),kd=(r,e,t)=>t>32?$p(r,e,t):Hp(r,e,t);function Wp(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,f=t[c],d=t[c+1],l=Bd(f,d,1)^t[a],g=kd(f,d,1)^t[a+1];for(let y=0;y<50;y+=10)r[o+y]^=l,r[o+y+1]^=g}let i=r[2],s=r[3];for(let o=0;o<24;o++){const a=gh[o],c=Bd(i,s,a),f=kd(i,s,a),d=bh[o];i=r[d],s=r[d+1],r[d]=c,r[d+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=Kp[n],r[1]^=Zp[n]}t.fill(0)}class gf extends bf{constructor(e,t,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,lo(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ap(this.state)}keccak(){Wp(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){vi(this);const{blockLen:t,state:n}=this;e=$o(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,(t&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){vi(this,!1),pf(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lo(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(dh(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new gf(t,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Gp=(r,e,t)=>lh(()=>new gf(e,r,t)),Xp=Gp(1,136,256/8);let mh=!1;const wh=function(r){return Xp(r)};let vh=wh;function Jn(r){const e=ar(r,"data");return wt(vh(e))}Jn._=wh;Jn.lock=function(){mh=!0};Jn.register=function(r){if(mh)throw new TypeError("keccak256 is locked");vh=r};Object.freeze(Jn);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xh=BigInt(0),Fo=BigInt(1),Yp=BigInt(2),qo=r=>r instanceof Uint8Array,Qp=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function xi(r){if(!qo(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Qp[r[t]];return e}function _h(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function yf(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function _i(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){const i=n*2,s=r.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function Ln(r){return yf(xi(r))}function mf(r){if(!qo(r))throw new Error("Uint8Array expected");return yf(xi(Uint8Array.from(r).reverse()))}function Ai(r,e){return _i(r.toString(16).padStart(e*2,"0"))}function wf(r,e){return Ai(r,e).reverse()}function Jp(r){return _i(_h(r))}function nr(r,e,t){let n;if(typeof e=="string")try{n=_i(e)}catch(s){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${s}`)}else if(qo(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const i=n.length;if(typeof t=="number"&&i!==t)throw new Error(`${r} expected ${t} bytes, got ${i}`);return n}function ts(...r){const e=new Uint8Array(r.reduce((n,i)=>n+i.length,0));let t=0;return r.forEach(n=>{if(!qo(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function e8(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function t8(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function r8(r){let e;for(e=0;r>xh;r>>=Fo,e+=1);return e}function n8(r,e){return r>>BigInt(e)&Fo}const i8=(r,e,t)=>r|(t?Fo:xh)<<BigInt(e),vf=r=>(Yp<<BigInt(r-1))-Fo,uc=r=>new Uint8Array(r),Od=r=>Uint8Array.from(r);function Ah(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=uc(r),i=uc(r),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...l)=>t(i,n,...l),c=(l=uc())=>{i=a(Od([0]),l),n=a(),l.length!==0&&(i=a(Od([1]),l),n=a())},f=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const g=[];for(;l<e;){n=a();const y=n.slice();g.push(y),l+=n.length}return ts(...g)};return(l,g)=>{o(),c(l);let y;for(;!(y=g(f()));)c();return o(),y}}const s8={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function ms(r,e,t={}){const n=(i,s,o)=>{const a=s8[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=r[i];if(!(o&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(t))n(i,s,!0);return r}const o8=Object.freeze(Object.defineProperty({__proto__:null,bitGet:n8,bitLen:r8,bitMask:vf,bitSet:i8,bytesToHex:xi,bytesToNumberBE:Ln,bytesToNumberLE:mf,concatBytes:ts,createHmacDrbg:Ah,ensureBytes:nr,equalBytes:e8,hexToBytes:_i,hexToNumber:yf,numberToBytesBE:Ai,numberToBytesLE:wf,numberToHexUnpadded:_h,numberToVarBytesBE:Jp,utf8ToBytes:t8,validateObject:ms},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dt=BigInt(0),$e=BigInt(1),An=BigInt(2),a8=BigInt(3),zc=BigInt(4),Id=BigInt(5),Rd=BigInt(8);BigInt(9);BigInt(16);function Mt(r,e){const t=r%e;return t>=dt?t:e+t}function c8(r,e,t){if(t<=dt||e<dt)throw new Error("Expected power/modulo > 0");if(t===$e)return dt;let n=$e;for(;e>dt;)e&$e&&(n=n*r%t),r=r*r%t,e>>=$e;return n}function zt(r,e,t){let n=r;for(;e-- >dt;)n*=n,n%=t;return n}function Vc(r,e){if(r===dt||e<=dt)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Mt(r,e),n=e,i=dt,s=$e;for(;t!==dt;){const a=n/t,c=n%t,f=i-s*a;n=t,t=c,i=s,s=f}if(n!==$e)throw new Error("invert: does not exist");return Mt(i,e)}function f8(r){const e=(r-$e)/An;let t,n,i;for(t=r-$e,n=0;t%An===dt;t/=An,n++);for(i=An;i<r&&c8(i,e,r)!==r-$e;i++);if(n===1){const o=(r+$e)/zc;return function(c,f){const d=c.pow(f,o);if(!c.eql(c.sqr(d),f))throw new Error("Cannot find square root");return d}}const s=(t+$e)/An;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=n,d=a.pow(a.mul(a.ONE,i),t),l=a.pow(c,s),g=a.pow(c,t);for(;!a.eql(g,a.ONE);){if(a.eql(g,a.ZERO))return a.ZERO;let y=1;for(let x=a.sqr(g);y<f&&!a.eql(x,a.ONE);y++)x=a.sqr(x);const m=a.pow(d,$e<<BigInt(f-y-1));d=a.sqr(m),l=a.mul(l,m),g=a.mul(g,d),f=y}return l}}function d8(r){if(r%zc===a8){const e=(r+$e)/zc;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(r%Rd===Id){const e=(r-Id)/Rd;return function(n,i){const s=n.mul(i,An),o=n.pow(s,e),a=n.mul(i,o),c=n.mul(n.mul(a,An),o),f=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(f),i))throw new Error("Cannot find square root");return f}}return f8(r)}const u8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function l8(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=u8.reduce((n,i)=>(n[i]="function",n),e);return ms(r,t)}function h8(r,e,t){if(t<dt)throw new Error("Expected power > 0");if(t===dt)return r.ONE;if(t===$e)return e;let n=r.ONE,i=e;for(;t>dt;)t&$e&&(n=r.mul(n,i)),i=r.sqr(i),t>>=$e;return n}function p8(r,e){const t=new Array(e.length),n=e.reduce((s,o,a)=>r.is0(o)?s:(t[a]=s,r.mul(s,o)),r.ONE),i=r.inv(n);return e.reduceRight((s,o,a)=>r.is0(o)?s:(t[a]=r.mul(s,t[a]),r.mul(s,o)),i),t}function Eh(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function b8(r,e,t=!1,n={}){if(r<=dt)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:i,nByteLength:s}=Eh(r,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=d8(r),a=Object.freeze({ORDER:r,BITS:i,BYTES:s,MASK:vf(i),ZERO:dt,ONE:$e,create:c=>Mt(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return dt<=c&&c<r},is0:c=>c===dt,isOdd:c=>(c&$e)===$e,neg:c=>Mt(-c,r),eql:(c,f)=>c===f,sqr:c=>Mt(c*c,r),add:(c,f)=>Mt(c+f,r),sub:(c,f)=>Mt(c-f,r),mul:(c,f)=>Mt(c*f,r),pow:(c,f)=>h8(a,c,f),div:(c,f)=>Mt(c*Vc(f,r),r),sqrN:c=>c*c,addN:(c,f)=>c+f,subN:(c,f)=>c-f,mulN:(c,f)=>c*f,inv:c=>Vc(c,r),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>p8(a,c),cmov:(c,f,d)=>d?f:c,toBytes:c=>t?wf(c,s):Ai(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return t?mf(c):Ln(c)}});return Object.freeze(a)}function Sh(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function Ch(r){const e=Sh(r);return e+Math.ceil(e/2)}function g8(r,e,t=!1){const n=r.length,i=Sh(e),s=Ch(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=t?Ln(r):mf(r),a=Mt(o,e-$e)+$e;return t?wf(a,i):Ai(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y8=BigInt(0),lc=BigInt(1);function m8(r,e){const t=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,s){let o=r.ZERO,a=i;for(;s>y8;)s&lc&&(o=o.add(a)),a=a.double(),s>>=lc;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),c=[];let f=i,d=f;for(let l=0;l<o;l++){d=f,c.push(d);for(let g=1;g<a;g++)d=d.add(f),c.push(d);f=d.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=n(i);let f=r.ZERO,d=r.BASE;const l=BigInt(2**i-1),g=2**i,y=BigInt(i);for(let m=0;m<a;m++){const x=m*c;let E=Number(o&l);o>>=y,E>c&&(E-=g,o+=lc);const B=x,R=x+Math.abs(E)-1,D=m%2!==0,H=E<0;E===0?d=d.add(t(D,s[B])):f=f.add(t(H,s[R]))}return{p:f,f:d}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let f=s.get(i);return f||(f=this.precomputeWindow(i,c),c!==1&&s.set(i,a(f))),this.wNAF(c,f,o)}}}function Th(r){return l8(r.Fp),ms(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Eh(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function w8(r){const e=Th(r);ms(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:n,a:i}=e;if(t){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:v8,hexToBytes:x8}=o8,On={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=On;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:v8(n),l:r.subarray(t+2)}},toSig(r){const{Err:e}=On,t=typeof r=="string"?x8(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=On._parseInt(t.subarray(2)),{d:o,l:a}=On._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(r){const e=f=>Number.parseInt(f[0],16)&8?"00"+f:f,t=f=>{const d=f.toString(16);return d.length&1?`0${d}`:d},n=e(t(r.s)),i=e(t(r.r)),s=n.length/2,o=i.length/2,a=t(s),c=t(o);return`30${t(o+s+4)}02${c}${i}02${a}${n}`}},Pr=BigInt(0),Kt=BigInt(1);BigInt(2);const Dd=BigInt(3);BigInt(4);function _8(r){const e=w8(r),{Fp:t}=e,n=e.toBytes||((m,x,E)=>{const B=x.toAffine();return ts(Uint8Array.from([4]),t.toBytes(B.x),t.toBytes(B.y))}),i=e.fromBytes||(m=>{const x=m.subarray(1),E=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:E,y:B}});function s(m){const{a:x,b:E}=e,B=t.sqr(m),R=t.mul(B,m);return t.add(t.add(R,t.mul(m,x)),E)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Pr<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:x,nByteLength:E,wrapPrivateKey:B,n:R}=e;if(x&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=xi(m)),typeof m!="string"||!x.includes(m.length))throw new Error("Invalid key");m=m.padStart(E*2,"0")}let D;try{D=typeof m=="bigint"?m:Ln(nr("private key",m,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof m}`)}return B&&(D=Mt(D,R)),a(D),D}const f=new Map;function d(m){if(!(m instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(x,E,B){if(this.px=x,this.py=E,this.pz=B,x==null||!t.isValid(x))throw new Error("x required");if(E==null||!t.isValid(E))throw new Error("y required");if(B==null||!t.isValid(B))throw new Error("z required")}static fromAffine(x){const{x:E,y:B}=x||{};if(!x||!t.isValid(E)||!t.isValid(B))throw new Error("invalid affine point");if(x instanceof l)throw new Error("projective point not allowed");const R=D=>t.eql(D,t.ZERO);return R(E)&&R(B)?l.ZERO:new l(E,B,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const E=t.invertBatch(x.map(B=>B.pz));return x.map((B,R)=>B.toAffine(E[R])).map(l.fromAffine)}static fromHex(x){const E=l.fromAffine(i(nr("pointHex",x)));return E.assertValidity(),E}static fromPrivateKey(x){return l.BASE.multiply(c(x))}_setWindowSize(x){this._WINDOW_SIZE=x,f.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:E}=this.toAffine();if(!t.isValid(x)||!t.isValid(E))throw new Error("bad point: x or y not FE");const B=t.sqr(E),R=s(x);if(!t.eql(B,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(t.isOdd)return!t.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);const{px:E,py:B,pz:R}=this,{px:D,py:H,pz:N}=x,U=t.eql(t.mul(E,N),t.mul(D,R)),W=t.eql(t.mul(B,N),t.mul(H,R));return U&&W}negate(){return new l(this.px,t.neg(this.py),this.pz)}double(){const{a:x,b:E}=e,B=t.mul(E,Dd),{px:R,py:D,pz:H}=this;let N=t.ZERO,U=t.ZERO,W=t.ZERO,Y=t.mul(R,R),q=t.mul(D,D),J=t.mul(H,H),O=t.mul(R,D);return O=t.add(O,O),W=t.mul(R,H),W=t.add(W,W),N=t.mul(x,W),U=t.mul(B,J),U=t.add(N,U),N=t.sub(q,U),U=t.add(q,U),U=t.mul(N,U),N=t.mul(O,N),W=t.mul(B,W),J=t.mul(x,J),O=t.sub(Y,J),O=t.mul(x,O),O=t.add(O,W),W=t.add(Y,Y),Y=t.add(W,Y),Y=t.add(Y,J),Y=t.mul(Y,O),U=t.add(U,Y),J=t.mul(D,H),J=t.add(J,J),Y=t.mul(J,O),N=t.sub(N,Y),W=t.mul(J,q),W=t.add(W,W),W=t.add(W,W),new l(N,U,W)}add(x){d(x);const{px:E,py:B,pz:R}=this,{px:D,py:H,pz:N}=x;let U=t.ZERO,W=t.ZERO,Y=t.ZERO;const q=e.a,J=t.mul(e.b,Dd);let O=t.mul(E,D),u=t.mul(B,H),p=t.mul(R,N),_=t.add(E,B),h=t.add(D,H);_=t.mul(_,h),h=t.add(O,u),_=t.sub(_,h),h=t.add(E,R);let v=t.add(D,N);return h=t.mul(h,v),v=t.add(O,p),h=t.sub(h,v),v=t.add(B,R),U=t.add(H,N),v=t.mul(v,U),U=t.add(u,p),v=t.sub(v,U),Y=t.mul(q,h),U=t.mul(J,p),Y=t.add(U,Y),U=t.sub(u,Y),Y=t.add(u,Y),W=t.mul(U,Y),u=t.add(O,O),u=t.add(u,O),p=t.mul(q,p),h=t.mul(J,h),u=t.add(u,p),p=t.sub(O,p),p=t.mul(q,p),h=t.add(h,p),O=t.mul(u,h),W=t.add(W,O),O=t.mul(v,h),U=t.mul(_,U),U=t.sub(U,O),O=t.mul(_,u),Y=t.mul(v,Y),Y=t.add(Y,O),new l(U,W,Y)}subtract(x){return this.add(x.negate())}is0(){return this.equals(l.ZERO)}wNAF(x){return y.wNAFCached(this,f,x,E=>{const B=t.invertBatch(E.map(R=>R.pz));return E.map((R,D)=>R.toAffine(B[D])).map(l.fromAffine)})}multiplyUnsafe(x){const E=l.ZERO;if(x===Pr)return E;if(a(x),x===Kt)return this;const{endo:B}=e;if(!B)return y.unsafeLadder(this,x);let{k1neg:R,k1:D,k2neg:H,k2:N}=B.splitScalar(x),U=E,W=E,Y=this;for(;D>Pr||N>Pr;)D&Kt&&(U=U.add(Y)),N&Kt&&(W=W.add(Y)),Y=Y.double(),D>>=Kt,N>>=Kt;return R&&(U=U.negate()),H&&(W=W.negate()),W=new l(t.mul(W.px,B.beta),W.py,W.pz),U.add(W)}multiply(x){a(x);let E=x,B,R;const{endo:D}=e;if(D){const{k1neg:H,k1:N,k2neg:U,k2:W}=D.splitScalar(E);let{p:Y,f:q}=this.wNAF(N),{p:J,f:O}=this.wNAF(W);Y=y.constTimeNegate(H,Y),J=y.constTimeNegate(U,J),J=new l(t.mul(J.px,D.beta),J.py,J.pz),B=Y.add(J),R=q.add(O)}else{const{p:H,f:N}=this.wNAF(E);B=H,R=N}return l.normalizeZ([B,R])[0]}multiplyAndAddUnsafe(x,E,B){const R=l.BASE,D=(N,U)=>U===Pr||U===Kt||!N.equals(R)?N.multiplyUnsafe(U):N.multiply(U),H=D(this,E).add(D(x,B));return H.is0()?void 0:H}toAffine(x){const{px:E,py:B,pz:R}=this,D=this.is0();x==null&&(x=D?t.ONE:t.inv(R));const H=t.mul(E,x),N=t.mul(B,x),U=t.mul(R,x);if(D)return{x:t.ZERO,y:t.ZERO};if(!t.eql(U,t.ONE))throw new Error("invZ was invalid");return{x:H,y:N}}isTorsionFree(){const{h:x,isTorsionFree:E}=e;if(x===Kt)return!0;if(E)return E(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:E}=e;return x===Kt?this:E?E(l,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),n(l,this,x)}toHex(x=!0){return xi(this.toRawBytes(x))}}l.BASE=new l(e.Gx,e.Gy,t.ONE),l.ZERO=new l(t.ZERO,t.ONE,t.ZERO);const g=e.nBitLength,y=m8(l,e.endo?Math.ceil(g/2):g);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function A8(r){const e=Th(r);return ms(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function E8(r){const e=A8(r),{Fp:t,n}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o(h){return Pr<h&&h<t.ORDER}function a(h){return Mt(h,n)}function c(h){return Vc(h,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:g}=_8({...e,toBytes(h,v,S){const k=v.toAffine(),C=t.toBytes(k.x),b=ts;return S?b(Uint8Array.from([v.hasEvenY()?2:3]),C):b(Uint8Array.from([4]),C,t.toBytes(k.y))},fromBytes(h){const v=h.length,S=h[0],k=h.subarray(1);if(v===i&&(S===2||S===3)){const C=Ln(k);if(!o(C))throw new Error("Point is not on curve");const b=l(C);let T=t.sqrt(b);const $=(T&Kt)===Kt;return(S&1)===1!==$&&(T=t.neg(T)),{x:C,y:T}}else if(v===s&&S===4){const C=t.fromBytes(k.subarray(0,t.BYTES)),b=t.fromBytes(k.subarray(t.BYTES,2*t.BYTES));return{x:C,y:b}}else throw new Error(`Point of length ${v} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),y=h=>xi(Ai(h,e.nByteLength));function m(h){const v=n>>Kt;return h>v}function x(h){return m(h)?a(-h):h}const E=(h,v,S)=>Ln(h.slice(v,S));class B{constructor(v,S,k){this.r=v,this.s=S,this.recovery=k,this.assertValidity()}static fromCompact(v){const S=e.nByteLength;return v=nr("compactSignature",v,S*2),new B(E(v,0,S),E(v,S,2*S))}static fromDER(v){const{r:S,s:k}=On.toSig(nr("DER",v));return new B(S,k)}assertValidity(){if(!g(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!g(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(v){return new B(this.r,this.s,v)}recoverPublicKey(v){const{r:S,s:k,recovery:C}=this,b=W(nr("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const T=C===2||C===3?S+e.n:S;if(T>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(C&1)===0?"02":"03",Z=f.fromHex($+y(T)),G=c(T),X=a(-b*G),re=a(k*G),ie=f.BASE.multiplyAndAddUnsafe(Z,X,re);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new B(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return _i(this.toDERHex())}toDERHex(){return On.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return _i(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const R={isValidPrivateKey(h){try{return d(h),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const h=Ch(e.n);return g8(e.randomBytes(h),e.n)},precompute(h=8,v=f.BASE){return v._setWindowSize(h),v.multiply(BigInt(3)),v}};function D(h,v=!0){return f.fromPrivateKey(h).toRawBytes(v)}function H(h){const v=h instanceof Uint8Array,S=typeof h=="string",k=(v||S)&&h.length;return v?k===i||k===s:S?k===2*i||k===2*s:h instanceof f}function N(h,v,S=!0){if(H(h))throw new Error("first arg must be private key");if(!H(v))throw new Error("second arg must be public key");return f.fromHex(v).multiply(d(h)).toRawBytes(S)}const U=e.bits2int||function(h){const v=Ln(h),S=h.length*8-e.nBitLength;return S>0?v>>BigInt(S):v},W=e.bits2int_modN||function(h){return a(U(h))},Y=vf(e.nBitLength);function q(h){if(typeof h!="bigint")throw new Error("bigint expected");if(!(Pr<=h&&h<Y))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ai(h,e.nByteLength)}function J(h,v,S=O){if(["recovered","canonical"].some(ne=>ne in S))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:C}=e;let{lowS:b,prehash:T,extraEntropy:$}=S;b==null&&(b=!0),h=nr("msgHash",h),T&&(h=nr("prehashed msgHash",k(h)));const Z=W(h),G=d(v),X=[q(G),q(Z)];if($!=null){const ne=$===!0?C(t.BYTES):$;X.push(nr("extraEntropy",ne))}const re=ts(...X),ie=Z;function ge(ne){const oe=U(ne);if(!g(oe))return;const pt=c(oe),ye=f.BASE.multiply(oe).toAffine(),ce=a(ye.x);if(ce===Pr)return;const He=a(pt*a(ie+ce*G));if(He===Pr)return;let xe=(ye.x===ce?0:2)|Number(ye.y&Kt),_e=He;return b&&m(He)&&(_e=x(He),xe^=1),new B(ce,_e,xe)}return{seed:re,k2sig:ge}}const O={lowS:e.lowS,prehash:!1},u={lowS:e.lowS,prehash:!1};function p(h,v,S=O){const{seed:k,k2sig:C}=J(h,v,S),b=e;return Ah(b.hash.outputLen,b.nByteLength,b.hmac)(k,C)}f.BASE._setWindowSize(8);function _(h,v,S,k=u){var ye;const C=h;if(v=nr("msgHash",v),S=nr("publicKey",S),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:b,prehash:T}=k;let $,Z;try{if(typeof C=="string"||C instanceof Uint8Array)try{$=B.fromDER(C)}catch(ce){if(!(ce instanceof On.Err))throw ce;$=B.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ce,s:He}=C;$=new B(ce,He)}else throw new Error("PARSE");Z=f.fromHex(S)}catch(ce){if(ce.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(b&&$.hasHighS())return!1;T&&(v=e.hash(v));const{r:G,s:X}=$,re=W(v),ie=c(X),ge=a(re*ie),ne=a(G*ie),oe=(ye=f.BASE.multiplyAndAddUnsafe(Z,ge,ne))==null?void 0:ye.toAffine();return oe?a(oe.x)===G:!1}return{CURVE:e,getPublicKey:D,getSharedSecret:N,sign:p,verify:_,ProjectivePoint:f,Signature:B,utils:R}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function S8(r){return{hash:r,hmac:(e,...t)=>ph(r,e,Cp(...t)),randomBytes:Tp}}function C8(r,e){const t=n=>E8({...r,...S8(n)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Pd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),T8=BigInt(1),Kc=BigInt(2),Nd=(r,e)=>(r+e/Kc)/e;function M8(r){const e=Mh,t=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),f=r*r*r%e,d=f*f*r%e,l=zt(d,t,e)*d%e,g=zt(l,t,e)*d%e,y=zt(g,Kc,e)*f%e,m=zt(y,i,e)*y%e,x=zt(m,s,e)*m%e,E=zt(x,a,e)*x%e,B=zt(E,c,e)*E%e,R=zt(B,a,e)*x%e,D=zt(R,t,e)*d%e,H=zt(D,o,e)*m%e,N=zt(H,n,e)*f%e,U=zt(N,Kc,e);if(!Zc.eql(Zc.sqr(U),r))throw new Error("Cannot find square root");return U}const Zc=b8(Mh,void 0,void 0,{sqrt:M8}),en=C8({a:BigInt(0),b:BigInt(7),Fp:Zc,n:Pd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=Pd,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-T8*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=Nd(s*r,e),c=Nd(-n*r,e);let f=Mt(r-a*t-c*i,e),d=Mt(-a*n-c*s,e);const l=f>o,g=d>o;if(l&&(f=e-f),g&&(d=e-d),f>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:l,k1:f,k2neg:g,k2:d}}}},Dp);BigInt(0);en.ProjectivePoint;const Ld="0x0000000000000000000000000000000000000000000000000000000000000000",B8=`Ethereum Signed Message:
`,Hd=BigInt(0),Ud=BigInt(1),Wc=BigInt(2),$d=BigInt(27),Fd=BigInt(28),Vs=BigInt(35),Bh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),k8=Bh/Wc,O8=Symbol.for("nodejs.util.inspect.custom"),mn={};function hc(r){return vp(xp(r),32)}var li,mr,hi,nn,mt;let qd=(mt=class{constructor(e,t,n,i){ei(this,li);ei(this,mr);ei(this,hi);ei(this,nn);mp(e,mn,"Signature"),qt(this,li,t),qt(this,mr,n),qt(this,hi,i),qt(this,nn,null)}get r(){return Tt(this,li)}set r(e){Me(Yi(e)===32,"invalid r","value",e),qt(this,li,wt(e))}get s(){return Me(parseInt(Tt(this,mr).substring(0,3))<8,"non-canonical s; use ._s","s",Tt(this,mr)),Tt(this,mr)}set s(e){Me(Yi(e)===32,"invalid s","value",e),qt(this,mr,wt(e))}get _s(){return Tt(this,mr)}isValid(){return BigInt(Tt(this,mr))<=k8}get v(){return Tt(this,hi)}set v(e){const t=Qi(e,"value");Me(t===27||t===28,"invalid v","v",e),qt(this,hi,t)}get networkV(){return Tt(this,nn)}get legacyChainId(){const e=this.networkV;return e==null?null:mt.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ar(this.s);return this.yParity&&(e[0]|=128),wt(e)}get compactSerialized(){return uo([this.r,this.yParityAndS])}get serialized(){return uo([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=Bh-BigInt(this._s),t=55-this.v,n=new mt(mn,this.r,hc(e),t);return this.networkV&&qt(n,nn,this.networkV),n}clone(){const e=new mt(mn,this.r,this._s,this.v);return this.networkV&&qt(e,nn,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[O8](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const t=Wi(e,"v");return t==$d||t==Fd?Hd:(Me(t>=Vs,"invalid EIP-155 v","v",e),(t-Vs)/Wc)}static getChainIdV(e,t){return Wi(e)*Wc+BigInt(35+t-27)}static getNormalizedV(e){const t=Wi(e);return t===Hd||t===$d?27:t===Ud||t===Fd?28:(Me(t>=Vs,"invalid v","v",e),t&Ud?27:28)}static from(e){function t(f,d){Me(f,d,"signature",e)}if(e==null)return new mt(mn,Ld,Ld,27);if(typeof e=="string"){const f=ar(e,"signature");if(f.length===64){const d=wt(f.slice(0,32)),l=f.slice(32,64),g=l[0]&128?28:27;return l[0]&=127,new mt(mn,d,wt(l),g)}if(f.length===65){const d=wt(f.slice(0,32)),l=wt(f.slice(32,64)),g=mt.getNormalizedV(f[64]);return new mt(mn,d,l,g)}t(!1,"invalid raw signature length")}if(e instanceof mt)return e.clone();const n=e.r;t(n!=null,"missing r");const i=hc(n),s=(function(f,d){if(f!=null)return hc(f);if(d!=null){t(jc(d,32),"invalid yParityAndS");const l=ar(d);return l[0]&=127,wt(l)}t(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(f,d,l){if(f!=null){const g=Wi(f);return{networkV:g>=Vs?g:void 0,v:mt.getNormalizedV(g)}}if(d!=null)return t(jc(d,32),"invalid yParityAndS"),{v:ar(d)[0]&128?28:27};if(l!=null){switch(Qi(l,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new mt(mn,i,s,a);return o&&qt(c,nn,o),t(e.yParity==null||Qi(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}},li=new WeakMap,mr=new WeakMap,hi=new WeakMap,nn=new WeakMap,mt);var Dr;const En=class En{constructor(e){ei(this,Dr);Me(Yi(e)===32,"invalid private key","privateKey","[REDACTED]"),qt(this,Dr,wt(e))}get privateKey(){return Tt(this,Dr)}get publicKey(){return En.computePublicKey(Tt(this,Dr))}get compressedPublicKey(){return En.computePublicKey(Tt(this,Dr),!0)}sign(e){Me(Yi(e)===32,"invalid digest length","digest",e);const t=en.sign(Hi(e),Hi(Tt(this,Dr)),{lowS:!0});return qd.from({r:Td(t.r,32),s:Td(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=En.computePublicKey(e);return wt(en.getSharedSecret(Hi(Tt(this,Dr)),ar(t),!1))}static computePublicKey(e,t){let n=ar(e,"key");if(n.length===32){const s=en.getPublicKey(n,!!t);return wt(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=en.ProjectivePoint.fromHex(n);return wt(i.toRawBytes(t))}static recoverPublicKey(e,t){Me(Yi(e)===32,"invalid digest length","digest",e);const n=qd.from(t);let i=en.Signature.fromCompact(Hi(uo([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const s=i.recoverPublicKey(Hi(e));return Me(s!=null,"invalid signature for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,n){const i=en.ProjectivePoint.fromHex(En.computePublicKey(e).substring(2)),s=en.ProjectivePoint.fromHex(En.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!n)}};Dr=new WeakMap;let ho=En;const I8=BigInt(0),R8=BigInt(36);function jd(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const n=ar(Jn(t));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const xf={};for(let r=0;r<10;r++)xf[String(r)]=String(r);for(let r=0;r<26;r++)xf[String.fromCharCode(65+r)]=String(10+r);const zd=15;function D8(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>xf[n]).join("");for(;e.length>=zd;){let n=e.substring(0,zd);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const P8=(function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r})();function N8(r){r=r.toLowerCase();let e=I8;for(let t=0;t<r.length;t++)e=e*R8+P8[r[t]];return e}function L8(r){if(Me(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=jd(r);return Me(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Me(r.substring(2,4)===D8(r),"bad icap checksum","address",r);let e=N8(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return jd("0x"+e)}Me(!1,"invalid address","address",r)}function H8(r){let e;return typeof r=="string"?e=ho.computePublicKey(r,!1):e=r.publicKey,L8(Jn("0x"+e.substring(4)).substring(26))}function U8(r,e){return H8(ho.recoverPublicKey(r,e))}function $8(r){return typeof r=="string"&&(r=cc(r)),Jn(uo([cc(B8),cc(String(r.length)),r]))}function F8(r,e){const t=$8(r);return U8(t,e)}function _f(r,e,t){return t.toLowerCase()===F8(typeof r=="string"?r:Q(r),e).toLowerCase()}function jo(r){if(typeof r=="string")try{const e=JSON.parse(r);if(typeof e=="object"&&typeof e.created_at=="number"&&typeof e.kind=="number"&&typeof e.content=="string"&&Array.isArray(e.tags)&&e.tags.every(t=>Array.isArray(t)&&t.every(n=>typeof n=="string")))return e}catch{}return{kind:23335,created_at:0,content:typeof r=="string"?r:F(r),tags:[]}}function zo(r){const e=JSON.stringify([0,r.pubkey,r.created_at,r.kind,r.tags,r.content]);return Ur(Q(e,"utf8"))}function Af(r,e,t){const{words:n}=Bt.bech32.decode(t),i=F(Bt.bech32.fromWords(n)).slice(2),s=jo(r),o=zo({...s,pubkey:i});try{return Fc.verify(F(e).slice(2),o,i)}catch{return!1}}var Ne;(function(r){r.Unknown="Unknown",r.BtcEcdsa="BtcEcdsa",r.EvmPersonal="EvmPersonal",r.JoyId="JoyId",r.NostrEvent="NostrEvent",r.CkbSecp256k1="CkbSecp256k1",r.DogeEcdsa="DogeEcdsa"})(Ne||(Ne={}));var le;(function(r){r.EVM="EVM",r.BTC="BTC",r.CKB="CKB",r.Nostr="Nostr",r.Doge="Doge"})(le||(le={}));class kh{constructor(e,t,n){this.signature=e,this.identity=t,this.signType=n}}let tr=class Gc{constructor(e){this.client_=e}get client(){return this.client_}matchNetworkPreference(e,t){if(!(t!==void 0&&e.some(({signerType:n,addressPrefix:i,network:s})=>n===this.type&&i===this.client.addressPrefix&&s===t)))return e.find(({signerType:n,addressPrefix:i})=>n===this.type&&i===this.client.addressPrefix)}static async verifyMessage(e,t){switch(t.signType){case Ne.EvmPersonal:return _f(e,t.signature,t.identity);case Ne.BtcEcdsa:return uf(e,t.signature,t.identity);case Ne.JoyId:return of(e,t.signature,t.identity);case Ne.NostrEvent:return Af(e,t.signature,t.identity);case Ne.CkbSecp256k1:return J0(e,t.signature,t.identity);case Ne.DogeEcdsa:return lf(e,t.signature,t.identity);case Ne.Unknown:throw new Error("Unknown signer sign type")}}onReplaced(e){return()=>{}}async disconnect(){}async getIdentity(){return this.getInternalAddress()}async getRecommendedAddressObj(e){return(await this.getAddressObjs())[0]}async getRecommendedAddress(e){return(await this.getRecommendedAddressObj(e)).toString()}async getAddresses(){return this.getAddressObjs().then(e=>e.map(t=>t.toString()))}async*findCellsOnChain(e,t,n,i){const s=await this.getAddressObjs();for(const{script:o}of s)for await(const a of this.client.findCellsOnChain({script:o,scriptType:"lock",filter:e,scriptSearchMode:"exact",withData:t},n,i))yield a}async*findCells(e,t,n,i){const s=await this.getAddressObjs();for(const{script:o}of s)for await(const a of this.client.findCells({script:o,scriptType:"lock",filter:e,scriptSearchMode:"exact",withData:t},n,i))yield a}async*findTransactions(e,t,n,i){const s=await this.getAddressObjs();for(const{script:o}of s)for await(const a of this.client.findTransactions({script:o,scriptType:"lock",filter:e,scriptSearchMode:"exact",groupByTransaction:t},n,i))yield a}async getBalance(){return this.client.getBalance((await this.getAddressObjs()).map(({script:e})=>e))}async signMessage(e){return{signature:await this.signMessageRaw(e),identity:await this.getIdentity(),signType:this.signType}}signMessageRaw(e){throw Error("Signer.signMessageRaw not implemented")}async verifyMessage(e,t){return typeof t=="string"?Gc.verifyMessage(e,{signType:this.signType,signature:t,identity:await this.getIdentity()}):t.identity!==await this.getIdentity()||![Ne.Unknown,this.signType].includes(t.signType)?!1:Gc.verifyMessage(e,t)}async sendTransaction(e){return this.client.sendTransaction(await this.signTransaction(e))}async signTransaction(e){const t=await this.prepareTransaction(e);return this.signOnlyTransaction(t)}async prepareTransaction(e){return fe.from(e)}signOnlyTransaction(e){throw Error("Signer.signOnlyTransaction not implemented")}};class Oh{constructor(e,t){this.name=e,this.signer=t}}let ln=class extends tr{get type(){return le.BTC}get signType(){return Ne.BtcEcdsa}async getInternalAddress(){return this.getBtcAccount()}async getIdentity(){return F(await this.getBtcPublicKey()).slice(2)}async getAddressObjs(){const e=await this.getBtcPublicKey(),t=gs(e);return[await Ot.fromKnownScript(this.client,te.OmniLock,F([4,...t,0]))]}async prepareTransaction(e){const t=fe.from(e),{script:n}=await this.getRecommendedAddressObj();return await t.addCellDepsOfKnownScripts(this.client,te.OmniLock),await t.prepareSighashAllWitness(n,85,this.client),t}async signOnlyTransaction(e){const t=fe.from(e),{script:n}=await this.getRecommendedAddressObj(),i=await t.getSignHashInfo(n,this.client);if(!i)return t;const s=Q(await this.signMessageRaw(`CKB (Bitcoin Layer) transaction: ${i.message}`),"base64");s[0]=31+(s[0]-27)%4;const o=Ht.fromBytes(t.witnesses[i.position]);return o.lock=F(Fe(Pe(20+s.length,4),Pe(16,4),Pe(20+s.length,4),Pe(20+s.length,4),Pe(s.length,4),s)),t.setWitnessArgsAt(i.position,o),t}};class Ih extends ln{constructor(e,t,n){super(e),this.account=t,this.publicKey=F(n)}async connect(){}async isConnected(){return!0}async getBtcAccount(){return this.account}async getBtcPublicKey(){return this.publicKey}}class Ef extends tr{get type(){return le.CKB}get signType(){return Ne.CkbSecp256k1}constructor(e,t){if(super(e),this.publicKey=F(t),Q(this.publicKey).length!==33)throw new Error("Public key must be 33 bytes!")}async connect(){}async isConnected(){return!0}async getInternalAddress(){return this.getRecommendedAddress()}async getIdentity(){return this.publicKey}async getAddressObjSecp256k1(){return Ot.fromKnownScript(this.client,te.Secp256k1Blake160,Q(Dt(this.publicKey)).slice(0,20))}async getRecommendedAddressObj(e){return this.getAddressObjSecp256k1()}async getAddressObjs(){const e=await this.getAddressObjSecp256k1(),t=[];let n=0;for await(const i of this.client.findCells({script:await be.fromKnownScript(this.client,te.AnyoneCanPay,e.script.args),scriptType:"lock",scriptSearchMode:"prefix",withData:!1})){if(n>=10)break;n+=1,!t.some(({script:s})=>s.eq(i.cellOutput.lock))&&t.push(Ot.from({prefix:this.client.addressPrefix,script:i.cellOutput.lock}))}return[e,...t]}async getRelatedScripts(e){const t=fe.from(e),n=await this.getAddressObjSecp256k1(),i=await be.fromKnownScript(this.client,te.AnyoneCanPay,n.script.args),s=[];for(const o of t.inputs){const{cellOutput:{lock:a}}=await o.getCell(this.client);s.some(({script:c})=>c.eq(a))||(a.eq(n.script)?s.push({script:a,cellDeps:(await this.client.getKnownScript(te.Secp256k1Blake160)).cellDeps}):a.codeHash===i.codeHash&&a.hashType===i.hashType&&a.args.startsWith(i.args)&&s.push({script:a,cellDeps:(await this.client.getKnownScript(te.AnyoneCanPay)).cellDeps}))}return s}async prepareTransaction(e){const t=fe.from(e);return await Promise.all((await this.getRelatedScripts(t)).map(async({script:n,cellDeps:i})=>{await t.prepareSighashAllWitness(n,65,this.client),await t.addCellDepInfos(this.client,i)})),t}}class Rh extends Ef{constructor(e,t){const n=F(t);if(Q(n).length!==32)throw new Error("Private key must be 32 bytes!");super(e,Er.getPublicKey(Q(n),!0)),this.privateKey=n}async _signMessage(e){const t=Er.sign(Q(e),Q(this.privateKey)),{r:n,s:i,recovery:s}=t;return F(Fe(Pn(n,32),Pn(i,32),Pn(s,1)))}async signMessageRaw(e){return this._signMessage(Po(e))}async signOnlyTransaction(e){const t=fe.from(e);for(const{script:n}of await this.getRelatedScripts(t)){const i=await t.getSignHashInfo(n,this.client);if(!i)return t;const s=await this._signMessage(i.message),o=t.getWitnessArgsAt(i.position)??Ht.from({});o.lock=s,t.setWitnessArgsAt(i.position,o)}return t}}class Sf extends tr{get type(){return le.CKB}get signType(){return Ne.Unknown}constructor(e,...t){if(super(e),this.scripts=t.flat().map(be.from),this.scripts.length===0)throw new Error("SignerCkbScriptReadonly requires at least one script.")}async connect(){}async isConnected(){return!0}async getInternalAddress(){return this.getRecommendedAddress()}async getAddressObjs(){return this.scripts.map(e=>Ot.fromScript(e,this.client))}}let ws=class extends tr{get type(){return le.Doge}get signType(){return Ne.DogeEcdsa}async getInternalAddress(){return this.getDogeAddress()}async getIdentity(){return this.getDogeAddress()}async getAddressObjs(){const e=af.decode(await this.getDogeAddress()).slice(1);return[await Ot.fromKnownScript(this.client,te.OmniLock,F([5,...e,0]))]}async prepareTransaction(e){const t=fe.from(e),{script:n}=await this.getRecommendedAddressObj();return await t.addCellDepsOfKnownScripts(this.client,te.OmniLock),await t.prepareSighashAllWitness(n,85,this.client),t}async signOnlyTransaction(e){const t=fe.from(e),{script:n}=await this.getRecommendedAddressObj(),i=await t.getSignHashInfo(n,this.client);if(!i)return t;const s=Q(await this.signMessageRaw(i.message.slice(2)),"base64");s[0]=31+(s[0]-27)%4;const o=Ht.fromBytes(t.witnesses[i.position]);return o.lock=F(Fe(Pe(20+s.length,4),Pe(16,4),Pe(20+s.length,4),Pe(20+s.length,4),Pe(s.length,4),s)),t.setWitnessArgsAt(i.position,o),t}};class Dh extends ws{constructor(e,t){super(e),this.address=t}async connect(){}async isConnected(){return!0}async getDogeAddress(){return this.address}}class Ph extends ws{constructor(e,t,n=30){if(super(e),this.dogeNetwork=n,this.privateKey=Q(t),this.privateKey.length!==32)throw new Error("Private key must be 32 bytes!")}async connect(){}async isConnected(){return!0}async getDogePublicKey(){return F(Er.getPublicKey(this.privateKey,!0))}async getDogeAddress(){return ff(await this.getDogePublicKey(),this.dogeNetwork)}async signMessageRaw(e){const t=typeof e=="string"?e:F(e).slice(2),n=Er.sign(Uo(t),this.privateKey);return sn(Fe([31+n.recovery],n.toCompactRawBytes()),"base64")}}class vs extends tr{get signType(){return Ne.Unknown}constructor(e,t){super(e),this.type=t}async isConnected(){return!1}async getInternalAddress(){throw new Error("Can't get address from SignerDummy")}async getAddressObjs(){throw new Error("Can't get addresses from SignerDummy")}}class Cf extends vs{constructor(e,t,n){super(e,t),this.message=n}async connect(){throw new Error(this.message)}}class Tf extends vs{constructor(e,t,n){super(e,t),this.link=n}async connect(){var e;(e=window.open(this.link,"_blank"))==null||e.focus()}}class xs extends tr{get type(){return le.EVM}get signType(){return Ne.EvmPersonal}async getInternalAddress(){return this.getEvmAccount()}async getAddressObjs(){const e=await this.getEvmAccount();return(await Promise.all([this._getOmniLockAddresses(e),this._getPWLockAddresses(e)])).flat()}_getOmniLockAddresses(e){return Promise.all([this._getOmniLockEvmAddressObj(e),this._getOmniLockOldEvmAddressObj(e)])}async _getPWLockAddresses(e){const t=await this._getPWLockEvmAddressObj(e);return t?[t]:[]}async _getOmniLockEvmAddressObj(e){return Ot.fromKnownScript(this.client,te.OmniLock,F([18,...Q(e),0]))}async _getOmniLockOldEvmAddressObj(e){return Ot.fromKnownScript(this.client,te.OmniLock,F([1,...Q(e),0]))}async _getPWLockEvmAddressObj(e){try{return Ot.fromKnownScript(this.client,te.PWLock,F(Q(e)))}catch{}}async prepareTransaction(e){const t=fe.from(e);await t.findInputIndexByLockId(await this.client.getKnownScript(te.OmniLock),this.client)!==void 0&&await t.addCellDepsOfKnownScripts(this.client,te.OmniLock),await t.findInputIndexByLockId(await this.client.getKnownScript(te.PWLock),this.client)!==void 0&&await t.addCellDepsOfKnownScripts(this.client,te.PWLock);const n=await this.getEvmAccount(),i=await this._getOmniLockAddresses(n),s=await this._getPWLockAddresses(n),o=or(i,(a,{script:c})=>a.prepareSighashAllWitness(c,85,this.client),t);return or(s,(a,{script:c})=>a.prepareSighashAllWitness(c,65,this.client),o)}async signOnlyTransaction(e){let t=fe.from(e);const n=await this.getEvmAccount(),{script:i}=await this._getOmniLockEvmAddressObj(n),{script:s}=await this._getOmniLockOldEvmAddressObj(n);t=await this._signOmniLockScriptForTransaction(t,i,a=>`CKB transaction: ${a}`),t=await this._signOmniLockScriptForTransaction(t,s,a=>Q(a));const o=await this._getPWLockEvmAddressObj(n);return o&&(t=await this._signPWLockScriptForTransaction(t,o.script,a=>Q(a))),t}async _signOmniLockScriptForTransaction(e,t,n){const i=await this._signPersonalEvmForTransaction(e,t,n);if(!i)return e;const s=Ht.fromBytes(e.witnesses[i.position]);return s.lock=F(Fe(Pe(20+i.signature.length,4),Pe(16,4),Pe(20+i.signature.length,4),Pe(20+i.signature.length,4),Pe(i.signature.length,4),i.signature)),e.setWitnessArgsAt(i.position,s),e}async _signPWLockScriptForTransaction(e,t,n){const i=await this._signPersonalEvmForTransaction(e,t,n,new E0);if(!i)return e;const s=Ht.fromBytes(e.witnesses[i.position]);return s.lock=F(i.signature),e.setWitnessArgsAt(i.position,s),e}async _signPersonalEvmForTransaction(e,t,n,i){const s=await e.getSignHashInfo(t,this.client,i);if(!s)return;const o=Q(await this.signMessageRaw(n(s.message)));return o[o.length-1]>=27&&(o[o.length-1]-=27),{signature:o,position:s.position}}}class Nh extends xs{constructor(e,t){super(e),this.address=F(t)}async connect(){}async isConnected(){return!0}async getEvmAccount(){return this.address}}class Nt extends tr{get type(){return le.Nostr}get signType(){return Ne.NostrEvent}async signNostrEvent(e){throw Error("SignerNostr.signNostrEvent not implemented")}async signMessageRaw(e){return F((await this.signNostrEvent(jo(e))).sig)}async getInternalAddress(){return Bt.bech32.encode("npub",Bt.bech32.toWords(Q(await this.getNostrPublicKey())))}async getAddressObjs(){const e=await this.getNostrPublicKey();return[await Ot.fromKnownScript(this.client,te.NostrLock,F(Fe([0],Dt(e).slice(0,42))))]}async prepareTransaction(e){const t=fe.from(e),{script:n}=await this.getRecommendedAddressObj();return await t.addCellDepsOfKnownScripts(this.client,te.NostrLock),await t.prepareSighashAllWitness(n,572,this.client),t}async signOnlyTransaction(e){const t=fe.from(e),{script:n}=await this.getRecommendedAddressObj(),i=await t.getSignHashInfo(n,this.client);if(!i)return t;const s=Q(JSON.stringify(await this.signNostrEvent({pubkey:(await this.getNostrPublicKey()).slice(2),tags:[[Nt.CKB_SIG_HASH_ALL_TAG,i.message.slice(2)]],created_at:Math.floor(Date.now()/1e3),kind:Nt.CKB_UNLOCK_EVENT_KIND,content:Nt.CKB_UNLOCK_EVENT_CONTENT})),"utf8"),o=Ht.fromBytes(t.witnesses[i.position]);return o.lock=F(s),t.setWitnessArgsAt(i.position,o),t}}Nt.CKB_SIG_HASH_ALL_TAG="ckb_sighash_all";Nt.CKB_UNLOCK_EVENT_KIND=23334;Nt.CKB_UNLOCK_EVENT_CONTENT=`Signing a CKB transaction

IMPORTANT: Please verify the integrity and authenticity of connected Nostr client before signing this message
`;class Mf extends Nt{constructor(e,t){if(super(e),typeof t=="string"&&t.startsWith("npub")){const{words:n}=Bt.bech32.decode(t);this.publicKey=F(Bt.bech32.fromWords(n))}else this.publicKey=F(t)}async connect(){}async isConnected(){return!0}async getNostrPublicKey(){return this.publicKey}}class Lh extends Mf{constructor(e,t){const n=(()=>{if(typeof t=="string"&&t.startsWith("nsec")){const{words:i}=Bt.bech32.decode(t);return F(Bt.bech32.fromWords(i))}return F(t)})();super(e,Fc.getPublicKey(n.slice(2))),this.privateKey=n}async signNostrEvent(e){const t=(await this.getNostrPublicKey()).slice(2),n=zo({...e,pubkey:t}),i=Fc.sign(n,this.privateKey.slice(2));return{...e,id:F(n).slice(2),pubkey:t,sig:F(i).slice(2)}}}let Xc=class extends xs{constructor(e,t){super(e),this.provider=t,this.accountCache=void 0}async getEvmAccount(){return this.accountCache=(await this.provider.request({method:"eth_accounts"}))[0],this.accountCache}async connect(){await this.provider.request({method:"eth_requestAccounts"})}onReplaced(e){const t=[],n=async()=>{var i;e(),(i=t[0])==null||i.call(t)};return t.push(()=>{this.provider.removeListener("accountsChanged",n),this.provider.removeListener("disconnect",n)}),this.provider.on("accountsChanged",n),this.provider.on("disconnect",n),t[0]}async isConnected(){return(await this.provider.request({method:"eth_accounts"})).length!==0}async signMessageRaw(e){const t=typeof e=="string"?Q(e,"utf8"):e,n=this.accountCache??await this.getEvmAccount();return this.provider.request({method:"personal_sign",params:[F(t),n]})}};class Hh{constructor(e){this.client=e,this.existedUuids=[]}subscribeSigners(e){const t=i=>{const{detail:s}=i,{uuid:o}=s.info;if(this.existedUuids.includes(o))return;this.existedUuids.push(o);const a=new Xc(this.client,s.provider);e(a,s)};window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new Event("eip6963:requestProvider"));const n=window;return typeof n.ethereum<"u"&&e(new Xc(this.client,n.ethereum)),()=>window.removeEventListener("eip6963:announceProvider",t)}}const Uh=Object.freeze(Object.defineProperty({__proto__:null,Signer:Xc,SignerFactory:Hh},Symbol.toStringTag,{value:"Module"}));async function Ar(r,e){return e.popup==null&&(e.popup=g6(""),e.popup==null)?x6(async()=>Ar(r,e)):(e.popup.location.href=r,new Promise((t,n)=>{zl()&&n(new b6(e.popup));let i,s;const o=setInterval(()=>{var a;(a=e.popup)!=null&&a.closed&&(clearInterval(o),clearTimeout(s),window.removeEventListener("message",i,!1),n(new Wl(e.popup)))},1e3);s=setTimeout(()=>{clearInterval(o),n(new p6(e.popup)),window.removeEventListener("message",i,!1)},(e.timeoutInSeconds??3e3)*1e3),i=a=>{var d;const{joyidAppURL:c}=e,f=new URL(c);a.origin===f.origin&&(!a.data||((d=a.data)==null?void 0:d.type)!==e.type||(clearTimeout(s),clearInterval(o),window.removeEventListener("message",i,!1),e.popup.close(),a.data.error&&n(new Error(a.data.error)),t(a.data.data)))},window.addEventListener("message",i)}))}function pc(r,e){return r.uri===e.uri&&r.addressType.startsWith(e.addressType)}class Vo{constructor(e="ccc-joy-id-signer"){this.storageKey=e,this.operationLock=Promise.resolve()}async readConnections(){return JSON.parse(window.localStorage.getItem(this.storageKey)??"[]")}async get(e){var t;return(t=(await this.readConnections()).find(([n])=>pc(e,n)))==null?void 0:t[1]}async set(e,t){const n=this.operationLock.catch(()=>{}).then(async()=>{const i=await this.readConnections();if(t){const s=i.find(([o])=>pc(o,e));s?s[1]=t:i.push([e,t]),window.localStorage.setItem(this.storageKey,JSON.stringify(i))}else window.localStorage.setItem(this.storageKey,JSON.stringify(i.filter(([s])=>!pc(s,e))))});this.operationLock=n,await n}}let Qs=class extends ln{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,t,n,i=[{addressPrefix:"ckb",signerType:le.BTC,network:"btc"},{addressPrefix:"ckt",signerType:le.BTC,network:"btcTestnet"}],s="auto",o,a=new Vo){super(e),this.name=t,this.icon=n,this.preferredNetworks=i,this.addressType=s,this._appUri=o,this.connectionsRepo=a,this.network="btcTestnet"}getConfig(){const{network:e}=this.matchNetworkPreference(this.preferredNetworks,this.network)??{network:this.network};this.network!==e&&(this.connection=void 0),this.network=e;const t={btc:"https://app.joy.id",btcTestnet:"https://testnet.joyid.dev"}[e];if(!t)throw new Error(`JoyID wallet doesn't support the requested chain ${this.network}`);return{redirectURL:location.href,joyidAppURL:this._appUri??t,requestNetwork:`btc-${this.addressType}`,name:this.name,logo:this.icon}}async disconnect(){await super.disconnect(),await this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"btc"},void 0)}async getBtcAccount(){const{address:e}=await this.assertConnection();return e}async getBtcPublicKey(){const{publicKey:e}=await this.assertConnection();return e}async connect(){const e=this.getConfig(),t=await Ar(Hr(e,"popup","/auth"),{...e,type:_r.Auth}),{address:n,pubkey:i}=this.addressType==="auto"?t.btcAddressType==="p2wpkh"?t.nativeSegwit:t.taproot:this.addressType==="p2wpkh"?t.nativeSegwit:t.taproot;this.connection={address:n,publicKey:F(i),keyType:t.keyType},await Promise.all([this.connectionsRepo.set({uri:e.joyidAppURL,addressType:`btc-${this.addressType}`},this.connection),this.connectionsRepo.set({uri:e.joyidAppURL,addressType:"btc-auto"},this.connection)])}async isConnected(){return this.connection?!0:(this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:`btc-${this.addressType}`}),this.connection!==void 0)}async signMessageRaw(e){const{address:t}=await this.assertConnection(),n=typeof e=="string"?e:F(e).slice(2),i=this.getConfig(),{signature:s}=await Ar(Hr({...i,challenge:n,address:t,signMessageType:"ecdsa"},"popup","/sign-message"),{...i,type:_r.SignMessage});return s}};class $h extends tr{get type(){return le.CKB}get signType(){return Ne.JoyId}async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,t,n,i,s,o=new Vo){super(e),this.name=t,this.icon=n,this._appUri=i,this._aggregatorUri=s,this.connectionsRepo=o}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),name:this.name,logo:this.icon}}getAggregatorUri(){return this._aggregatorUri??(this.client.addressPrefix==="ckb"?"https://cota.nervina.dev/mainnet-aggregator":"https://cota.nervina.dev/aggregator")}async connect(){const e=this.getConfig(),t=await Ar(Hr(e,"popup","/auth"),{...e,type:_r.Auth});this.connection={address:t.address,publicKey:F(t.pubkey),keyType:t.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getInternalAddress(){return(await this.assertConnection()).address}async getIdentity(){const e=await this.assertConnection();return JSON.stringify({keyType:e.keyType,publicKey:e.publicKey.slice(2)})}async getAddressObj(){return await Ot.fromString(await this.getInternalAddress(),this.client)}async getAddressObjs(){return[await this.getAddressObj()]}async prepareTransaction(e){const t=fe.from(e);await t.addCellDepsOfKnownScripts(this.client,te.JoyId);const n=await t.findInputIndexByLock((await this.getAddressObj()).script,this.client);if(n===void 0)return t;const i=t.getWitnessArgsAt(n)??Ht.from({});return i.lock=F("00".repeat(1e3)),await this.prepareTransactionForSubKey(t,i),t.setWitnessArgsAt(n,i),t}async prepareTransactionForSubKey(e,t){var c;if(((c=this.connection)==null?void 0:c.keyType)!=="sub_key"||(t.outputType??"0x")!=="0x")return;const n=Dt(this.connection.publicKey).substring(0,42),i=(await this.getAddressObj()).script,s=new Q6(this.getAggregatorUri()),{unlock_entry:o}=await s.generateSubkeyUnlockSmt({alg_index:1,pubkey_hash:n,lock_script:F(i.toBytes())});t.outputType=F(o);const a=[];for await(const f of this.client.findCellsByLock(i,await be.fromKnownScript(this.client,te.COTA,"0x")))a.push(Yt.from({depType:"code",outPoint:f.outPoint}));if(a.length===0)throw new Error("No COTA cells for sub key wallet");e.addCellDepsAtStart(a)}async signOnlyTransaction(e){const t=fe.from(e),{script:n}=await this.getAddressObj(),i=await or(t.inputs,async(a,c,f)=>{const{cellOutput:d}=await c.getCell(this.client);d.lock.eq(n)&&a.push(f)},[]);await t.prepareSighashAllWitness(n,0,this.client),t.inputs.forEach(a=>{a.cellOutput=void 0,a.outputData=void 0});const s=this.getConfig(),o=await Ar(Hr({...s,tx:JSON.parse(t.stringify()),signerAddress:(await this.assertConnection()).address,witnessIndexes:i},"popup","/sign-ckb-raw-tx"),{...s,type:_r.SignCkbRawTx});return fe.from(o.tx)}async signMessageRaw(e){const{address:t}=await this.assertConnection(),n=typeof e=="string"?e:F(e).slice(2),i=this.getConfig(),s=await Ar(Hr({...i,challenge:n,isData:typeof e!="string",address:t},"popup","/sign-message"),{...i,type:_r.SignMessage});return JSON.stringify({signature:s.signature,alg:s.alg,message:s.message})}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ckb"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ckb"})}}class Fh extends xs{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,t,n,i,s=new Vo){super(e),this.name=t,this.icon=n,this._appUri=i,this.connectionsRepo=s}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"ethereum",name:this.name,logo:this.icon}}async getEvmAccount(){return(await this.assertConnection()).address}async connect(){const e=this.getConfig(),t=await Ar(Hr(e,"popup","/auth"),{...e,type:_r.Auth});this.connection={address:t.ethAddress,publicKey:F(t.pubkey),keyType:t.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async signMessageRaw(e){const{address:t}=await this.assertConnection(),n=typeof e=="string"?e:F(e).slice(2),i=this.getConfig(),{signature:s}=await Ar(Hr({...i,challenge:n,isData:typeof e!="string",address:t},"popup","/sign-message"),{...i,type:_r.SignMessage});return F(s)}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"ethereum"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"ethereum"})}}let qh=class extends Nt{async assertConnection(){if(!await this.isConnected()||!this.connection)throw new Error("Not connected");return this.connection}constructor(e,t,n,i,s=new Vo){super(e),this.name=t,this.icon=n,this._appUri=i,this.connectionsRepo=s}getConfig(){return{redirectURL:location.href,joyidAppURL:this._appUri??(this.client.addressPrefix==="ckb"?"https://app.joy.id":"https://testnet.joyid.dev"),requestNetwork:"nostr",name:this.name,logo:this.icon}}async connect(){const e=this.getConfig(),t=await Ar(Hr(e,"popup","/auth"),{...e,type:_r.Auth});this.connection={address:"",publicKey:F(t.nostrPubkey),keyType:t.keyType},await this.saveConnection()}async disconnect(){await super.disconnect(),this.connection=void 0,await this.saveConnection()}async isConnected(){return this.connection?!0:(await this.restoreConnection(),this.connection!==void 0)}async getNostrPublicKey(){return(await this.assertConnection()).publicKey}async signNostrEvent(e){const t=this.getConfig();return(await Ar(Hr({...t,event:e},"popup","/sign-nostr-event"),{...t,type:_r.SignNostrEvent})).event}async saveConnection(){return this.connectionsRepo.set({uri:this.getConfig().joyidAppURL,addressType:"nostr"},this.connection)}async restoreConnection(){this.connection=await this.connectionsRepo.get({uri:this.getConfig().joyidAppURL,addressType:"nostr"})}};function jh(r,e,t,n){return zl()||p0(window.navigator.userAgent)?[le.CKB,le.EVM,le.BTC].map(i=>({name:i,signer:new Cf(r,i,"JoyID can only be used with standard browsers")})):[{name:"CKB",signer:new $h(r,e,t)},{name:"BTC",signer:new Qs(r,e,t,n)},{name:"Nostr",signer:new qh(r,e,t)},{name:"EVM",signer:new Fh(r,e,t)},{name:"BTC (P2WPKH)",signer:new Qs(r,e,t,n,"p2wpkh")},{name:"BTC (P2TR)",signer:new Qs(r,e,t,n,"p2tr")}]}const zh=Object.freeze(Object.defineProperty({__proto__:null,BitcoinSigner:Qs,CkbSigner:$h,EvmSigner:Fh,NostrSigner:qh,getJoyIdSigners:jh},Symbol.toStringTag,{value:"Module"}));let Vh=class extends Nt{constructor(e,t){super(e),this.provider=t,this.publicKeyCache=void 0}async getNostrPublicKey(){return this.publicKeyCache||(this.publicKeyCache=this.provider.getPublicKey().catch(e=>{throw this.publicKeyCache=void 0,e})),F(await this.publicKeyCache)}async signNostrEvent(e){return this.provider.signEvent({...e,pubkey:await this.publicKeyCache})}async connect(){await this.getNostrPublicKey()}async isConnected(){return!0}};function Kh(r){const e=window;if(!(typeof e.nostr>"u"))return new Vh(r,e.nostr)}const Zh=Object.freeze(Object.defineProperty({__proto__:null,Signer:Vh,getNip07Signer:Kh},Symbol.toStringTag,{value:"Module"}));class Wh extends ln{constructor(e,t,n=[{addressPrefix:"ckb",signerType:le.BTC,network:"btc"},{addressPrefix:"ckt",signerType:le.BTC,network:"btcTestnet"}]){super(e),this.providers=t,this.preferredNetworks=n,this.network="btcTestnet"}get provider(){const{network:e}=this.matchNetworkPreference(this.preferredNetworks,this.network)??{network:this.network};this.network=e;const t={btc:"bitcoin",btcTestnet:"bitcoinTestnet",btcSignet:"bitcoinSignet"}[e];if(!t)throw new Error(`OKX wallet doesn't support the requested chain ${this.network}`);const n=this.providers[t];if(!n)throw new Error(`OKX wallet doesn't support the requested chain ${this.network}`);return n}async getBtcAccount(){if(this.provider.getAccounts){const e=(await this.provider.getAccounts())[0];if(!e)throw Error("Not connected");return e}if(this.provider.getSelectedAccount){const e=await this.provider.getSelectedAccount();if(!e)throw Error("Not connected");return e.address}throw Error("Unsupported OKX provider")}async getBtcPublicKey(){if(this.provider.getPublicKey){const e=await this.provider.getPublicKey();if(e==="")throw Error("The OKX Wallet returned wrong public key");return F(e)}if(this.provider.getSelectedAccount){const e=await this.provider.getSelectedAccount();if(!e)throw Error("Not connected");return F(e.compressedPublicKey)}throw Error("Unsupported OKX provider")}async connect(){if(this.provider.requestAccounts){await this.provider.requestAccounts();return}if(this.provider.connect){await this.provider.connect();return}throw Error("Unsupported OKX provider")}onReplaced(e){const t=[],n=async()=>{var i;e(),(i=t[0])==null||i.call(t)};return t.push(()=>{this.provider.removeListener("accountChanged",n)}),this.provider.on("accountChanged",n),t[0]}async isConnected(){try{this.provider}catch{return!1}if(this.provider.getAccounts){if((await this.provider.getAccounts()).length===0)return!1}else if(this.provider.getSelectedAccount&&await this.provider.getSelectedAccount()===null)return!1;return await this.connect(),!0}async signMessageRaw(e){const t=typeof e=="string"?e:F(e).slice(2);return this.provider.signMessage(t,"ecdsa")}}class q8 extends Nt{constructor(e,t){super(e),this.provider=t,this.publicKeyCache=void 0}async getNostrPublicKey(){return this.publicKeyCache||(this.publicKeyCache=this.provider.getPublicKey().then(e=>{if(e)return e;throw Error("This OKX Wallet account does not support Nostr")}).catch(e=>{throw this.publicKeyCache=void 0,e})),F(await this.publicKeyCache)}async signNostrEvent(e){return this.provider.signEvent({...e,pubkey:await this.publicKeyCache})}async connect(){var e,t;await((t=(e=this.provider).connect)==null?void 0:t.call(e)),await this.getNostrPublicKey()}onReplaced(e){const t=[],n=()=>{var i;e(),(i=t[0])==null||i.call(t)};return t.push(()=>{this.provider.removeListener("accountChanged",n)}),this.provider.on("accountChanged",n),t[0]}async isConnected(){return!0}}function Gh(r,e){const t=window;return typeof t.okxwallet>"u"?[]:[{signer:new Wh(r,t.okxwallet,e),name:"BTC"},{signer:new q8(r,t.okxwallet.nostr),name:"Nostr"}]}const Xh=Object.freeze(Object.defineProperty({__proto__:null,BitcoinSigner:Wh,getOKXSigners:Gh},Symbol.toStringTag,{value:"Module"}));class Yh extends tr{constructor(e,t){super(e),this.provider=t}onReplaced(e){const t=[],n=async()=>{var i;e(),(i=t[0])==null||i.call(t)};return t.push(()=>{this.provider.off("accountsChanged",n),this.provider.off("chainChanged",n)}),this.provider.on("accountsChanged",n),this.provider.on("chainChanged",n),t[0]}get type(){return le.CKB}get signType(){return Ne.CkbSecp256k1}async connect(){const e=this.client.addressPrefix;if(await this._getNetworkChanged()){const n=e==="ckb"?"mainnet":"testnet";await this.provider.request({method:"ckb_switchNetwork",data:n})}}async isConnected(){const e=await this.provider.isConnected();return!e||await this._getNetworkChanged()?!1:e}async _getNetworkChanged(){const e=this.client.addressPrefix,t=await this.getInternalAddress(),{prefix:n}=dl(t);return e!==n}async getInternalAddress(){return this.provider.request({method:"ckb_requestAccounts"})}async getAddressObj(){return Ot.fromString(await this.getInternalAddress(),this.client)}async getAddressObjs(){return[await this.getAddressObj()]}async getIdentity(){return this.provider.request({method:"ckb_getPublicKey"})}async signMessageRaw(e){return this.provider.request({method:"ckb_signMessage",data:{message:e}})}async prepareTransaction(e){const t=fe.from(e);return await t.addCellDepsOfKnownScripts(this.client,te.Secp256k1Blake160),or(await this.getAddressObjs(),(n,{script:i})=>n.prepareSighashAllWitness(i,65,this.client),t)}async signOnlyTransaction(e){const t=ae.transactionFrom(e);return this.provider.request({method:"ckb_signTransaction",data:{txSkeleton:t}})}}function Qh(r){var t;const e=window;return typeof((t=e==null?void 0:e.rei)==null?void 0:t.ckb)>"u"?[]:[{signer:new Yh(r,e.rei.ckb),name:"CKB"}]}const Jh=Object.freeze(Object.defineProperty({__proto__:null,ReiSigner:Yh,getReiSigners:Qh},Symbol.toStringTag,{value:"Module"})),j8=Ee({name:Wt,description:Wt}),e2=Ee({name:Wt,description:Wt,mutantId:di});function z8(r,e){return V8(r)}function V8(r){return Q(e2.encode({name:r.name,description:r.description,mutantId:r.mutantId}))}function Bf(r,e){try{return Z8(r)}catch{try{return K8(r)}catch{throw new Error(`Cannot unpack ClusterData, no matching molecule: ${F(r)}`)}}}function K8(r){return j8.decode(r)}function Z8(r){return e2.decode(r)}const W8=Ee({scriptInfoHash:De,scriptHash:De,data:un}),t2=qe(W8),r2=Ee({actions:t2}),G8=Ee({outputs:ko,outputsData:To}),X8=Ee({name:Wt,url:Wt,scriptHash:De,schema:Wt,messageType:Wt}),Y8=qe(X8),Q8=Ee({message:r2,payload:fe,resolvedInputs:G8,changeOutput:tl,scriptInfos:Y8,lockActions:t2});fs({BuildingPacketV1:Q8});const At=fs({Script:be}),J8=Ee({sporeId:De,to:At,dataHash:De}),e7=Ee({sporeId:De,from:At,to:At}),t7=Ee({sporeId:De,from:At}),r7=Ee({clusterId:De,to:At,dataHash:De}),n7=Ee({clusterId:De,from:At,to:At}),i7=Ee({clusterId:De,clusterProxyId:De,to:At}),s7=Ee({clusterId:De,clusterProxyId:De,from:At,to:At}),o7=Ee({clusterId:De,clusterProxyId:De,from:At}),a7=Ee({clusterId:De,clusterProxyId:De,to:At}),c7=Ee({clusterId:De,from:At,to:At}),f7=Ee({clusterId:De,from:At}),_s=fs({CreateSpore:J8,TransferSpore:e7,MeltSpore:t7,CreateCluster:r7,TransferCluster:n7,CreateClusterProxy:i7,TransferClusterProxy:s7,MeltClusterProxy:o7,CreateClusterAgent:a7,TransferClusterAgent:c7,MeltClusterAgent:f7}),d7=Ee({seal:un,message:r2}),u7=Ee({seal:un}),l7=Ee({}),h7=Ee({}),p7={SighashAll:4278190081,SighashAllOnly:4278190082,Otx:4278190083,OtxStart:4278190084},n2=fs({SighashAll:d7,SighashAllOnly:u7,Otx:l7,OtxStart:h7},p7),i2=Ee({contentType:Wt,content:un,clusterId:di});function b7(r){return Q(i2.encode({contentType:r.contentType,content:r.content,clusterId:r.clusterId}))}function kf(r){return i2.decode(r)}const Oi=Dt(Q("CCC_DEFAULT_COBUILD_INFO","utf8"));var gt;(function(r){r.V1="V1",r.V2="V2",r.DID="DID"})(gt||(gt={}));const Of=gt.V2;class Tr extends cs{constructor(e,t,n,i){super(e,t,n),this.cobuild=i}static from(e){return new Tr(F(e.codeHash),Xn(e.hashType),e.cellDeps.map(t=>fn.from(t)),e.cobuild)}}const g7=Object.freeze({[gt.DID]:{codeHash:"0xcfba73b58b6f30e70caed8a999748781b164ef9a1e218424a6fb55ebf641cb33",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x37c80ba8124780920bc8fe06b49e3535b43ca339bb9a97fb462b16d575bfa9a6",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x62312cd846659e188b05da11dc3f080b083c27371ea701d6026e11e713e0e3de"}}],cobuild:!0},[gt.V2]:{codeHash:"0x4a4dce1df3dffff7f8b2cd7dff7303df3b6150c9788cb75dcf6747247132b9f5",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x96b198fb5ddbd1eed57ed667068f1f1e55d07907b4c0dbd38675a69ea1b69824",index:0},depType:"code"}}],cobuild:!0},[gt.V1]:void 0}),y7=Object.freeze({[gt.V2]:{codeHash:"0x7366a61534fa7c7e6225ecc0d828ea3b5366adec2b58206f2ee84995fe030075",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xe464b7fb9311c5e2820e61c99afc615d6b98bdefbe318c34868c010cbd0dc938",index:0},depType:"code"}}],cobuild:!0},[gt.V1]:void 0,[gt.DID]:void 0}),m7=Object.freeze({[gt.DID]:{codeHash:"0x0b1f412fbae26853ff7d082d422c2bdd9e2ff94ee8aaec11240a5b34cc6e890f",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x306961e0eb04ed972c60cb89a0aed1b0ef065d96d2fc0000c62db5275e32dc6f",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x80f0d4bf6b3951911aa6b98cc609d477a8a10b903b35cfd528d098e95c36f680"}}]},[gt.V2]:{codeHash:"0x685a60219309029d01310311dba953d67029170ca4848a4ff638e57002130a0d",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x5e8d2a517d50fd4bb4d01737a7952a1f1d35c8afc77240695bb569cd7d9d5a1f",index:0},depType:"code"}}],cobuild:!0},[gt.V1]:{codeHash:"0xbbad126377d45f90a8ee120da988a2d7332c78ba8fd679aab478a19d6c133494",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xfd694382e621f175ddf81ce91ce2ecf8bfc027d53d7d31b8438f7d26fc37fd19",index:0},depType:"code"}}]}}),w7=Object.freeze({[gt.V2]:{codeHash:"0x0bbe768b519d8ea7b96d58f1182eb7e6ef96c541fbd9526975077ee09f049058",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xcebb174d6e300e26074aea2f5dbd7f694bb4fe3de52b6dfe205e54f90164510a",index:0},depType:"code"}}],cobuild:!0},[gt.V1]:{codeHash:"0x598d793defef36e2eeba54a9b45130e4ca92822e1d193671f490950c3b856080",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x49551a20dfe39231e7db49431d26c9c08ceec96a29024eef3acc936deeb2ca76",index:0},depType:"code"}}]},[gt.DID]:void 0});function As(r){return r.addressPrefix==="ckb"?g7:m7}function Es(r){return r.addressPrefix==="ckb"?y7:w7}function s2(r,e){const t=As(r)[e??Of];if(!t)throw new Error(`Spore script info not found of for version ${e} on ${r.addressPrefix}`);return Tr.from(t)}function o2(r,e){const t=Es(r)[e??Of];if(!t)throw new Error(`Cluster script info not found of for version ${e} on ${r.addressPrefix}`);return Tr.from(t)}function v7(r,e,t=Oi){if(!r.type)throw new Error("Spore cell must have a type script");const n=be.from(r.type),i=n.hash(),s=_s.encode({type:"CreateSpore",value:{sporeId:n.args,to:{type:"Script",value:r.lock},dataHash:Dt(e)}});return{scriptInfoHash:F(t),scriptHash:i,data:F(s)}}function x7(r,e,t=Oi){if(!r.type||!e.type)throw new Error("Spore cell must have a type script");const n=be.from(e.type),i=n.hash(),s=_s.encode({type:"TransferSpore",value:{sporeId:n.args,from:{type:"Script",value:r.lock},to:{type:"Script",value:e.lock}}});return{scriptInfoHash:F(t),scriptHash:i,data:F(s)}}function _7(r,e=Oi){if(!r.type)throw new Error("Spore cell must have a type script");const t=be.from(r.type),n=t.hash(),i=_s.encode({type:"MeltSpore",value:{sporeId:t.args,from:{type:"Script",value:r.lock}}});return{scriptInfoHash:F(e),scriptHash:n,data:F(i)}}function A7(r,e,t=Oi){if(!r.type)throw new Error("Cluster cell must have a type script");const n=be.from(r.type),i=n.hash(),s=_s.encode({type:"CreateCluster",value:{clusterId:n.args,to:{type:"Script",value:r.lock},dataHash:Dt(e)}});return{scriptInfoHash:F(t),scriptHash:i,data:F(s)}}function a2(r,e,t=Oi){if(!r.type||!e.type)throw new Error("Cluster cell must have a type script");const n=be.from(e.type),i=n.hash(),s=_s.encode({type:"TransferCluster",value:{clusterId:n.args,from:{type:"Script",value:r.lock},to:{type:"Script",value:e.lock}}});return{scriptInfoHash:F(t),scriptHash:i,data:F(s)}}async function Ss(r,e,t){let n=fe.from(e);if(t.length===0)return r.prepareTransaction(n);const i=S7(n);return n=await r.prepareTransaction(n),C7(n,[i,t].flat()),n}function E7(r){try{return n2.decode(Q(r))}catch{return}}function S7(r){if(r.witnesses.length===0)return[];const e=E7(r.witnesses[r.witnesses.length-1]);if(!e)return[];if(e.type!=="SighashAll")throw new Error("Invalid cobuild proof type: SighashAll");return r.witnesses.pop(),e.value.message.actions}function C7(r,e){r.setWitnessAt(Math.max(r.witnesses.length,r.inputs.length),n2.encode({type:"SighashAll",value:{seal:"0x",message:{actions:e}}}))}async function T7(r,e,t,n,i){if(!t.clusterId||n==="skip")return;if(!n)throw Error("clusterMode is undefined but the spore has a cluster");const{cell:s,scriptInfo:o}=await If(r.client,t.clusterId);switch(n){case"lockProxy":{const a=s.cellOutput.lock;let c=await e.findInputIndexByLock(a,r.client);if(c===void 0&&(await e.completeInputsAddOne(new Sf(r.client,a)),c=await e.findInputIndexByLock(a,r.client),c===void 0))throw new Error("Lock proxy input not found");e.outputs.some(f=>f.lock===a)||e.addOutput(await e.getInput(c).getCell(r.client)),e.addCellDeps({outPoint:s.outPoint,depType:"code"});return}case"clusterCell":return e.inputs.some(a=>a.previousOutput.eq(s.outPoint))?void 0:(e.addInput(s),e.addOutput(s.cellOutput,s.outputData),await e.addCellDepInfos(r.client,o.cellDeps),e.addCellDeps({outPoint:s.outPoint,depType:"code"}),o.cobuild?a2(s.cellOutput,s.cellOutput,i):void 0)}}async function c2(r,e,t){for(const n of t){if(!n)continue;const i=await r.findSingletonCellByType({...n,args:e},!0);if(i)return{cell:i,scriptInfo:Tr.from(n)}}}async function f2(r,e,t){const n=await c2(r,e,t??Object.values(Es(r)));if(n)return{cell:n.cell,cluster:n.cell,clusterData:Bf(n.cell.outputData),scriptInfo:n.scriptInfo}}async function If(r,e,t){const n=await f2(r,e,t);if(!n)throw new Error(`Cluster ${F(e)} not found`);return n}async function M7(r){const{signer:e,data:t,to:n,scriptInfoHash:i}=r,s=r.scriptInfo??o2(e.client),o=fe.from(r.tx??{});await o.completeInputsAtLeastOne(e);const a=Ro(o.inputs[0],o.outputs.length),c=z8(t);o.addOutput({lock:n??(await e.getRecommendedAddressObj()).script,type:{...s,args:a}},c),await o.addCellDepInfos(e.client,s.cellDeps);const f=s.cobuild?[A7(o.outputs[o.outputs.length-1],c,i)]:[];return{tx:await Ss(e,o,f),id:a}}async function B7(r){const{signer:e,id:t,to:n,scripts:i,scriptInfoHash:s}=r,o=fe.from(r.tx??{}),{cell:a,scriptInfo:c}=await If(e.client,t,i);o.addInput(a),o.addOutput({lock:n,type:a.cellOutput.type},a.outputData),await o.addCellDepInfos(e.client,c.cellDeps);const f=c.cobuild?[a2(a.cellOutput,o.outputs[o.outputs.length-1],s)]:[];return{tx:await Ss(e,o,f)}}async function*k7(r){const{signer:e,order:t,limit:n,scriptInfos:i}=r;for(const s of i??Object.values(Es(e.client)))if(s)for await(const o of e.findCells({script:{...s,args:""}},!0,t,n))yield{cell:o,cluster:o,clusterData:Bf(o.outputData),scriptInfo:Tr.from(s)}}async function*O7(r){const{client:e,lock:t,order:n,limit:i,scriptInfos:s}=r;for(const o of s??Object.values(Es(e)))if(o)for await(const a of e.findCells({script:{...o,args:""},scriptType:"type",scriptSearchMode:"prefix",withData:!0,filter:t?{script:t}:void 0},n,i))yield{cell:a,cluster:a,clusterData:Bf(a.outputData),scriptInfo:Tr.from(o)}}function d2(r,e){return function(){return r.apply(e,arguments)}}const{toString:I7}=Object.prototype,{getPrototypeOf:Rf}=Object,{iterator:Ko,toStringTag:u2}=Symbol,Zo=(r=>e=>{const t=I7.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),lr=r=>(r=r.toLowerCase(),e=>Zo(e)===r),Wo=r=>e=>typeof e===r,{isArray:Ii}=Array,Ei=Wo("undefined");function Cs(r){return r!==null&&!Ei(r)&&r.constructor!==null&&!Ei(r.constructor)&&It(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const l2=lr("ArrayBuffer");function R7(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&l2(r.buffer),e}const D7=Wo("string"),It=Wo("function"),h2=Wo("number"),Ts=r=>r!==null&&typeof r=="object",P7=r=>r===!0||r===!1,Js=r=>{if(Zo(r)!=="object")return!1;const e=Rf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(u2 in r)&&!(Ko in r)},N7=r=>{if(!Ts(r)||Cs(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},L7=lr("Date"),H7=lr("File"),U7=lr("Blob"),$7=lr("FileList"),F7=r=>Ts(r)&&It(r.pipe),q7=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||It(r.append)&&((e=Zo(r))==="formdata"||e==="object"&&It(r.toString)&&r.toString()==="[object FormData]"))},j7=lr("URLSearchParams"),[z7,V7,K7,Z7]=["ReadableStream","Request","Response","Headers"].map(lr),W7=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ms(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),Ii(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{if(Cs(r))return;const s=t?Object.getOwnPropertyNames(r):Object.keys(r),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,r[a],a,r)}}function p2(r,e){if(Cs(r))return null;e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const In=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,b2=r=>!Ei(r)&&r!==In;function Yc(){const{caseless:r,skipUndefined:e}=b2(this)&&this||{},t={},n=(i,s)=>{const o=r&&p2(t,s)||s;Js(t[o])&&Js(i)?t[o]=Yc(t[o],i):Js(i)?t[o]=Yc({},i):Ii(i)?t[o]=i.slice():(!e||!Ei(i))&&(t[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ms(arguments[i],n);return t}const G7=(r,e,t,{allOwnKeys:n}={})=>(Ms(e,(i,s)=>{t&&It(i)?r[s]=d2(i,t):r[s]=i},{allOwnKeys:n}),r),X7=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Y7=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},Q7=(r,e,t,n)=>{let i,s,o;const a={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),s=i.length;s-- >0;)o=i[s],(!n||n(o,r,e))&&!a[o]&&(e[o]=r[o],a[o]=!0);r=t!==!1&&Rf(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},J7=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},e9=r=>{if(!r)return null;if(Ii(r))return r;let e=r.length;if(!h2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},t9=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Rf(Uint8Array)),r9=(r,e)=>{const n=(r&&r[Ko]).call(r);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(r,s[0],s[1])}},n9=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},i9=lr("HTMLFormElement"),s9=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),Vd=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),o9=lr("RegExp"),g2=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Ms(t,(i,s)=>{let o;(o=e(i,s,r))!==!1&&(n[s]=o||i)}),Object.defineProperties(r,n)},a9=r=>{g2(r,(e,t)=>{if(It(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(It(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},c9=(r,e)=>{const t={},n=i=>{i.forEach(s=>{t[s]=!0})};return Ii(r)?n(r):n(String(r).split(e)),t},f9=()=>{},d9=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function u9(r){return!!(r&&It(r.append)&&r[u2]==="FormData"&&r[Ko])}const l9=r=>{const e=new Array(10),t=(n,i)=>{if(Ts(n)){if(e.indexOf(n)>=0)return;if(Cs(n))return n;if(!("toJSON"in n)){e[i]=n;const s=Ii(n)?[]:{};return Ms(n,(o,a)=>{const c=t(o,i+1);!Ei(c)&&(s[a]=c)}),e[i]=void 0,s}}return n};return t(r,0)},h9=lr("AsyncFunction"),p9=r=>r&&(Ts(r)||It(r))&&It(r.then)&&It(r.catch),y2=((r,e)=>r?setImmediate:e?((t,n)=>(In.addEventListener("message",({source:i,data:s})=>{i===In&&s===t&&n.length&&n.shift()()},!1),i=>{n.push(i),In.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",It(In.postMessage)),b9=typeof queueMicrotask<"u"?queueMicrotask.bind(In):typeof process<"u"&&process.nextTick||y2,g9=r=>r!=null&&It(r[Ko]),z={isArray:Ii,isArrayBuffer:l2,isBuffer:Cs,isFormData:q7,isArrayBufferView:R7,isString:D7,isNumber:h2,isBoolean:P7,isObject:Ts,isPlainObject:Js,isEmptyObject:N7,isReadableStream:z7,isRequest:V7,isResponse:K7,isHeaders:Z7,isUndefined:Ei,isDate:L7,isFile:H7,isBlob:U7,isRegExp:o9,isFunction:It,isStream:F7,isURLSearchParams:j7,isTypedArray:t9,isFileList:$7,forEach:Ms,merge:Yc,extend:G7,trim:W7,stripBOM:X7,inherits:Y7,toFlatObject:Q7,kindOf:Zo,kindOfTest:lr,endsWith:J7,toArray:e9,forEachEntry:r9,matchAll:n9,isHTMLForm:i9,hasOwnProperty:Vd,hasOwnProp:Vd,reduceDescriptors:g2,freezeMethods:a9,toObjectSet:c9,toCamelCase:s9,noop:f9,toFiniteNumber:d9,findKey:p2,global:In,isContextDefined:b2,isSpecCompliantForm:u9,toJSONObject:l9,isAsyncFn:h9,isThenable:p9,setImmediate:y2,asap:b9,isIterable:g9};function pe(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}z.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const m2=pe.prototype,w2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{w2[r]={value:r}});Object.defineProperties(pe,w2);Object.defineProperty(m2,"isAxiosError",{value:!0});pe.from=(r,e,t,n,i,s)=>{const o=Object.create(m2);z.toFlatObject(r,o,function(d){return d!==Error.prototype},f=>f!=="isAxiosError");const a=r&&r.message?r.message:"Error",c=e==null&&r?r.code:e;return pe.call(o,a,c,t,n,i),r&&o.cause==null&&Object.defineProperty(o,"cause",{value:r,configurable:!0}),o.name=r&&r.name||"Error",s&&Object.assign(o,s),o};const y9=null;function Qc(r){return z.isPlainObject(r)||z.isArray(r)}function v2(r){return z.endsWith(r,"[]")?r.slice(0,-2):r}function Kd(r,e,t){return r?r.concat(e).map(function(i,s){return i=v2(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function m9(r){return z.isArray(r)&&!r.some(Qc)}const w9=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function Go(r,e,t){if(!z.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,E){return!z.isUndefined(E[x])});const n=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function f(m){if(m===null)return"";if(z.isDate(m))return m.toISOString();if(z.isBoolean(m))return m.toString();if(!c&&z.isBlob(m))throw new pe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(m)||z.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,E){let B=m;if(m&&!E&&typeof m=="object"){if(z.endsWith(x,"{}"))x=n?x:x.slice(0,-2),m=JSON.stringify(m);else if(z.isArray(m)&&m9(m)||(z.isFileList(m)||z.endsWith(x,"[]"))&&(B=z.toArray(m)))return x=v2(x),B.forEach(function(D,H){!(z.isUndefined(D)||D===null)&&e.append(o===!0?Kd([x],H,s):o===null?x:x+"[]",f(D))}),!1}return Qc(m)?!0:(e.append(Kd(E,x,s),f(m)),!1)}const l=[],g=Object.assign(w9,{defaultVisitor:d,convertValue:f,isVisitable:Qc});function y(m,x){if(!z.isUndefined(m)){if(l.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));l.push(m),z.forEach(m,function(B,R){(!(z.isUndefined(B)||B===null)&&i.call(e,B,z.isString(R)?R.trim():R,x,g))===!0&&y(B,x?x.concat(R):[R])}),l.pop()}}if(!z.isObject(r))throw new TypeError("data must be an object");return y(r),e}function Zd(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Df(r,e){this._pairs=[],r&&Go(r,this,e)}const x2=Df.prototype;x2.append=function(e,t){this._pairs.push([e,t])};x2.toString=function(e){const t=e?function(n){return e.call(this,n,Zd)}:Zd;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function v9(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _2(r,e,t){if(!e)return r;const n=t&&t.encode||v9;z.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=z.isURLSearchParams(e)?e.toString():new Df(e,t).toString(n),s){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class Wd{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(n){n!==null&&e(n)})}}const A2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x9=typeof URLSearchParams<"u"?URLSearchParams:Df,_9=typeof FormData<"u"?FormData:null,A9=typeof Blob<"u"?Blob:null,E9={isBrowser:!0,classes:{URLSearchParams:x9,FormData:_9,Blob:A9},protocols:["http","https","file","blob","url","data"]},Pf=typeof window<"u"&&typeof document<"u",Jc=typeof navigator=="object"&&navigator||void 0,S9=Pf&&(!Jc||["ReactNative","NativeScript","NS"].indexOf(Jc.product)<0),C9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",T9=Pf&&window.location.href||"http://localhost",M9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pf,hasStandardBrowserEnv:S9,hasStandardBrowserWebWorkerEnv:C9,navigator:Jc,origin:T9},Symbol.toStringTag,{value:"Module"})),bt={...M9,...E9};function B9(r,e){return Go(r,new bt.classes.URLSearchParams,{visitor:function(t,n,i,s){return bt.isNode&&z.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function k9(r){return z.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function O9(r){const e={},t=Object.keys(r);let n;const i=t.length;let s;for(n=0;n<i;n++)s=t[n],e[s]=r[s];return e}function E2(r){function e(t,n,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=t.length;return o=!o&&z.isArray(i)?i.length:o,c?(z.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!z.isObject(i[o]))&&(i[o]=[]),e(t,n,i[o],s)&&z.isArray(i[o])&&(i[o]=O9(i[o])),!a)}if(z.isFormData(r)&&z.isFunction(r.entries)){const t={};return z.forEachEntry(r,(n,i)=>{e(k9(n),i,t,0)}),t}return null}function I9(r,e,t){if(z.isString(r))try{return(e||JSON.parse)(r),z.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Bs={transitional:A2,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=z.isObject(e);if(s&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return i?JSON.stringify(E2(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return B9(e,this.formSerializer).toString();if((a=z.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Go(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),I9(e)):e}],transformResponse:[function(e){const t=this.transitional||Bs.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(n&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?pe.from(a,pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],r=>{Bs.headers[r]={}});const R9=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),D9=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!t||e[t]&&R9[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Gd=Symbol("internals");function $i(r){return r&&String(r).trim().toLowerCase()}function eo(r){return r===!1||r==null?r:z.isArray(r)?r.map(eo):String(r)}function P9(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const N9=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function bc(r,e,t,n,i){if(z.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!z.isString(e)){if(z.isString(n))return e.indexOf(n)!==-1;if(z.isRegExp(n))return n.test(e)}}function L9(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function H9(r,e){const t=z.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}let Rt=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function s(a,c,f){const d=$i(c);if(!d)throw new Error("header name must be a non-empty string");const l=z.findKey(i,d);(!l||i[l]===void 0||f===!0||f===void 0&&i[l]!==!1)&&(i[l||c]=eo(a))}const o=(a,c)=>z.forEach(a,(f,d)=>s(f,d,c));if(z.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(z.isString(e)&&(e=e.trim())&&!N9(e))o(D9(e),t);else if(z.isObject(e)&&z.isIterable(e)){let a={},c,f;for(const d of e){if(!z.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[f=d[0]]=(c=a[f])?z.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,t)}else e!=null&&s(t,e,n);return this}get(e,t){if(e=$i(e),e){const n=z.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return P9(i);if(z.isFunction(t))return t.call(this,i,n);if(z.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=$i(e),e){const n=z.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||bc(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function s(o){if(o=$i(o),o){const a=z.findKey(n,o);a&&(!t||bc(n,n[a],a,t))&&(delete n[a],i=!0)}}return z.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const s=t[n];(!e||bc(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,n={};return z.forEach(this,(i,s)=>{const o=z.findKey(n,s);if(o){t[o]=eo(i),delete t[s];return}const a=e?L9(s):String(s).trim();a!==s&&delete t[s],t[a]=eo(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&z.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Gd]=this[Gd]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=$i(o);n[a]||(H9(i,o),n[a]=!0)}return z.isArray(e)?e.forEach(s):s(e),this}};Rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Rt.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});z.freezeMethods(Rt);function gc(r,e){const t=this||Bs,n=e||t,i=Rt.from(n.headers);let s=n.data;return z.forEach(r,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function S2(r){return!!(r&&r.__CANCEL__)}function Ri(r,e,t){pe.call(this,r??"canceled",pe.ERR_CANCELED,e,t),this.name="CanceledError"}z.inherits(Ri,pe,{__CANCEL__:!0});function C2(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new pe("Request failed with status code "+t.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function U9(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function $9(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),d=n[s];o||(o=f),t[i]=c,n[i]=f;let l=s,g=0;for(;l!==i;)g+=t[l++],l=l%r;if(i=(i+1)%r,i===s&&(s=(s+1)%r),f-o<e)return;const y=d&&f-d;return y?Math.round(g*1e3/y):void 0}}function F9(r,e){let t=0,n=1e3/e,i,s;const o=(f,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),r(...f)};return[(...f)=>{const d=Date.now(),l=d-t;l>=n?o(f,d):(i=f,s||(s=setTimeout(()=>{s=null,o(i)},n-l)))},()=>i&&o(i)]}const po=(r,e,t=3)=>{let n=0;const i=$9(50,250);return F9(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-n,f=i(c),d=o<=a;n=o;const l={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:f||void 0,estimated:f&&a&&d?(a-o)/f:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};r(l)},t)},Xd=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Yd=r=>(...e)=>z.asap(()=>r(...e)),q9=bt.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,bt.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(bt.origin),bt.navigator&&/(msie|trident)/i.test(bt.navigator.userAgent)):()=>!0,j9=bt.hasStandardBrowserEnv?{write(r,e,t,n,i,s,o){if(typeof document>"u")return;const a=[`${r}=${encodeURIComponent(e)}`];z.isNumber(t)&&a.push(`expires=${new Date(t).toUTCString()}`),z.isString(n)&&a.push(`path=${n}`),z.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),z.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(r){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function z9(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function V9(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function T2(r,e,t){let n=!z9(e);return r&&(n||t==!1)?V9(r,e):e}const Qd=r=>r instanceof Rt?{...r}:r;function qn(r,e){e=e||{};const t={};function n(f,d,l,g){return z.isPlainObject(f)&&z.isPlainObject(d)?z.merge.call({caseless:g},f,d):z.isPlainObject(d)?z.merge({},d):z.isArray(d)?d.slice():d}function i(f,d,l,g){if(z.isUndefined(d)){if(!z.isUndefined(f))return n(void 0,f,l,g)}else return n(f,d,l,g)}function s(f,d){if(!z.isUndefined(d))return n(void 0,d)}function o(f,d){if(z.isUndefined(d)){if(!z.isUndefined(f))return n(void 0,f)}else return n(void 0,d)}function a(f,d,l){if(l in e)return n(f,d);if(l in r)return n(void 0,f)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(f,d,l)=>i(Qd(f),Qd(d),l,!0)};return z.forEach(Object.keys({...r,...e}),function(d){const l=c[d]||i,g=l(r[d],e[d],d);z.isUndefined(g)&&l!==a||(t[d]=g)}),t}const M2=r=>{const e=qn({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=Rt.from(o),e.url=_2(T2(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),z.isFormData(t)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(z.isFunction(t.getHeaders)){const c=t.getHeaders(),f=["content-type","content-length"];Object.entries(c).forEach(([d,l])=>{f.includes(d.toLowerCase())&&o.set(d,l)})}}if(bt.hasStandardBrowserEnv&&(n&&z.isFunction(n)&&(n=n(e)),n||n!==!1&&q9(e.url))){const c=i&&s&&j9.read(s);c&&o.set(i,c)}return e},K9=typeof XMLHttpRequest<"u",Z9=K9&&function(r){return new Promise(function(t,n){const i=M2(r);let s=i.data;const o=Rt.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:f}=i,d,l,g,y,m;function x(){y&&y(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function B(){if(!E)return;const D=Rt.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),N={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:D,config:r,request:E};C2(function(W){t(W),x()},function(W){n(W),x()},N),E=null}"onloadend"in E?E.onloadend=B:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(B)},E.onabort=function(){E&&(n(new pe("Request aborted",pe.ECONNABORTED,r,E)),E=null)},E.onerror=function(H){const N=H&&H.message?H.message:"Network Error",U=new pe(N,pe.ERR_NETWORK,r,E);U.event=H||null,n(U),E=null},E.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||A2;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),n(new pe(H,N.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,r,E)),E=null},s===void 0&&o.setContentType(null),"setRequestHeader"in E&&z.forEach(o.toJSON(),function(H,N){E.setRequestHeader(N,H)}),z.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),a&&a!=="json"&&(E.responseType=i.responseType),f&&([g,m]=po(f,!0),E.addEventListener("progress",g)),c&&E.upload&&([l,y]=po(c),E.upload.addEventListener("progress",l),E.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(d=D=>{E&&(n(!D||D.type?new Ri(null,r,E):D),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const R=U9(i.url);if(R&&bt.protocols.indexOf(R)===-1){n(new pe("Unsupported protocol "+R+":",pe.ERR_BAD_REQUEST,r));return}E.send(s||null)})},W9=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const s=function(f){if(!i){i=!0,a();const d=f instanceof Error?f:this.reason;n.abort(d instanceof pe?d:new Ri(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new pe(`timeout ${e} of ms exceeded`,pe.ETIMEDOUT))},e);const a=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),r=null)};r.forEach(f=>f.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>z.asap(a),c}},G9=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},X9=async function*(r,e){for await(const t of Y9(r))yield*G9(t,e)},Y9=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Jd=(r,e,t,n)=>{const i=X9(r,e);let s=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:f,value:d}=await i.next();if(f){a(),c.close();return}let l=d.byteLength;if(t){let g=s+=l;t(g)}c.enqueue(new Uint8Array(d))}catch(f){throw a(f),f}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},eu=64*1024,{isFunction:Ks}=z,Q9=(({Request:r,Response:e})=>({Request:r,Response:e}))(z.global),{ReadableStream:tu,TextEncoder:ru}=z.global,nu=(r,...e)=>{try{return!!r(...e)}catch{return!1}},J9=r=>{r=z.merge.call({skipUndefined:!0},Q9,r);const{fetch:e,Request:t,Response:n}=r,i=e?Ks(e):typeof fetch=="function",s=Ks(t),o=Ks(n);if(!i)return!1;const a=i&&Ks(tu),c=i&&(typeof ru=="function"?(m=>x=>m.encode(x))(new ru):async m=>new Uint8Array(await new t(m).arrayBuffer())),f=s&&a&&nu(()=>{let m=!1;const x=new t(bt.origin,{body:new tu,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!x}),d=o&&a&&nu(()=>z.isReadableStream(new n("").body)),l={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!l[m]&&(l[m]=(x,E)=>{let B=x&&x[m];if(B)return B.call(x);throw new pe(`Response type '${m}' is not supported`,pe.ERR_NOT_SUPPORT,E)})});const g=async m=>{if(m==null)return 0;if(z.isBlob(m))return m.size;if(z.isSpecCompliantForm(m))return(await new t(bt.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(z.isArrayBufferView(m)||z.isArrayBuffer(m))return m.byteLength;if(z.isURLSearchParams(m)&&(m=m+""),z.isString(m))return(await c(m)).byteLength},y=async(m,x)=>{const E=z.toFiniteNumber(m.getContentLength());return E??g(x)};return async m=>{let{url:x,method:E,data:B,signal:R,cancelToken:D,timeout:H,onDownloadProgress:N,onUploadProgress:U,responseType:W,headers:Y,withCredentials:q="same-origin",fetchOptions:J}=M2(m),O=e||fetch;W=W?(W+"").toLowerCase():"text";let u=W9([R,D&&D.toAbortSignal()],H),p=null;const _=u&&u.unsubscribe&&(()=>{u.unsubscribe()});let h;try{if(U&&f&&E!=="get"&&E!=="head"&&(h=await y(Y,B))!==0){let T=new t(x,{method:"POST",body:B,duplex:"half"}),$;if(z.isFormData(B)&&($=T.headers.get("content-type"))&&Y.setContentType($),T.body){const[Z,G]=Xd(h,po(Yd(U)));B=Jd(T.body,eu,Z,G)}}z.isString(q)||(q=q?"include":"omit");const v=s&&"credentials"in t.prototype,S={...J,signal:u,method:E.toUpperCase(),headers:Y.normalize().toJSON(),body:B,duplex:"half",credentials:v?q:void 0};p=s&&new t(x,S);let k=await(s?O(p,J):O(x,S));const C=d&&(W==="stream"||W==="response");if(d&&(N||C&&_)){const T={};["status","statusText","headers"].forEach(X=>{T[X]=k[X]});const $=z.toFiniteNumber(k.headers.get("content-length")),[Z,G]=N&&Xd($,po(Yd(N),!0))||[];k=new n(Jd(k.body,eu,Z,()=>{G&&G(),_&&_()}),T)}W=W||"text";let b=await l[z.findKey(l,W)||"text"](k,m);return!C&&_&&_(),await new Promise((T,$)=>{C2(T,$,{data:b,headers:Rt.from(k.headers),status:k.status,statusText:k.statusText,config:m,request:p})})}catch(v){throw _&&_(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,m,p),{cause:v.cause||v}):pe.from(v,v&&v.code,m,p)}}},eb=new Map,B2=r=>{let e=r&&r.env||{};const{fetch:t,Request:n,Response:i}=e,s=[n,i,t];let o=s.length,a=o,c,f,d=eb;for(;a--;)c=s[a],f=d.get(c),f===void 0&&d.set(c,f=a?new Map:J9(e)),d=f;return f};B2();const Nf={http:y9,xhr:Z9,fetch:{get:B2}};z.forEach(Nf,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const iu=r=>`- ${r}`,tb=r=>z.isFunction(r)||r===null||r===!1;function rb(r,e){r=z.isArray(r)?r:[r];const{length:t}=r;let n,i;const s={};for(let o=0;o<t;o++){n=r[o];let a;if(i=n,!tb(n)&&(i=Nf[(a=String(n)).toLowerCase()],i===void 0))throw new pe(`Unknown adapter '${a}'`);if(i&&(z.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([c,f])=>`adapter ${c} `+(f===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(iu).join(`
`):" "+iu(o[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const k2={getAdapter:rb,adapters:Nf};function yc(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ri(null,r)}function su(r){return yc(r),r.headers=Rt.from(r.headers),r.data=gc.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),k2.getAdapter(r.adapter||Bs.adapter,r)(r).then(function(n){return yc(r),n.data=gc.call(r,r.transformResponse,n),n.headers=Rt.from(n.headers),n},function(n){return S2(n)||(yc(r),n&&n.response&&(n.response.data=gc.call(r,r.transformResponse,n.response),n.response.headers=Rt.from(n.response.headers))),Promise.reject(n)})}const O2="1.13.2",Xo={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Xo[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const ou={};Xo.transitional=function(e,t,n){function i(s,o){return"[Axios v"+O2+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new pe(i(o," has been removed"+(t?" in "+t:"")),pe.ERR_DEPRECATED);return t&&!ou[o]&&(ou[o]=!0),e?e(s,o,a):!0}};Xo.spelling=function(e){return(t,n)=>!0};function nb(r,e,t){if(typeof r!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=r[s],c=a===void 0||o(a,s,r);if(c!==!0)throw new pe("option "+s+" must be "+c,pe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new pe("Unknown option "+s,pe.ERR_BAD_OPTION)}}const to={assertOptions:nb,validators:Xo},yr=to.validators;let Hn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Wd,response:new Wd}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=qn(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:s}=t;n!==void 0&&to.assertOptions(n,{silentJSONParsing:yr.transitional(yr.boolean),forcedJSONParsing:yr.transitional(yr.boolean),clarifyTimeoutError:yr.transitional(yr.boolean)},!1),i!=null&&(z.isFunction(i)?t.paramsSerializer={serialize:i}:to.assertOptions(i,{encode:yr.function,serialize:yr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),to.assertOptions(t,{baseUrl:yr.spelling("baseURL"),withXsrfToken:yr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&z.merge(s.common,s[t.method]);s&&z.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),t.headers=Rt.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const f=[];this.interceptors.response.forEach(function(x){f.push(x.fulfilled,x.rejected)});let d,l=0,g;if(!c){const m=[su.bind(this),void 0];for(m.unshift(...a),m.push(...f),g=m.length,d=Promise.resolve(t);l<g;)d=d.then(m[l++],m[l++]);return d}g=a.length;let y=t;for(;l<g;){const m=a[l++],x=a[l++];try{y=m(y)}catch(E){x.call(this,E);break}}try{d=su.call(this,y)}catch(m){return Promise.reject(m)}for(l=0,g=f.length;l<g;)d=d.then(f[l++],f[l++]);return d}getUri(e){e=qn(this.defaults,e);const t=T2(e.baseURL,e.url,e.allowAbsoluteUrls);return _2(t,e.params,e.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(e){Hn.prototype[e]=function(t,n){return this.request(qn(n||{},{method:e,url:t,data:(n||{}).data}))}});z.forEach(["post","put","patch"],function(e){function t(n){return function(s,o,a){return this.request(qn(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Hn.prototype[e]=t(),Hn.prototype[e+"Form"]=t(!0)});let ib=class I2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new Ri(s,o,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new I2(function(i){e=i}),cancel:e}}};function sb(r){return function(t){return r.apply(null,t)}}function ob(r){return z.isObject(r)&&r.isAxiosError===!0}const e0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(e0).forEach(([r,e])=>{e0[e]=r});function R2(r){const e=new Hn(r),t=d2(Hn.prototype.request,e);return z.extend(t,Hn.prototype,e,{allOwnKeys:!0}),z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return R2(qn(r,i))},t}const at=R2(Bs);at.Axios=Hn;at.CanceledError=Ri;at.CancelToken=ib;at.isCancel=S2;at.VERSION=O2;at.toFormData=Go;at.AxiosError=pe;at.Cancel=at.CanceledError;at.all=function(e){return Promise.all(e)};at.spread=sb;at.isAxiosError=ob;at.mergeConfig=qn;at.AxiosHeaders=Rt;at.formToJSON=r=>E2(z.isHTMLForm(r)?new FormData(r):r);at.getAdapter=k2.getAdapter;at.HttpStatusCode=e0;at.default=at;const{Axios:D2,AxiosError:hy,CanceledError:py,isCancel:by,CancelToken:gy,VERSION:yy,all:my,Cancel:wy,isAxiosError:vy,spread:xy,toFormData:_y,AxiosHeaders:Ay,HttpStatusCode:Ey,formToJSON:Sy,getAdapter:Cy,mergeConfig:Ty}=at,au={1001:"DnaLengthNotMatch",1002:"SporeIdLengthInvalid",1003:"NativeDecoderNotFound",1004:"SporeIdNotFound",1005:"SporeDataUncompatible",1006:"SporeDataContentTypeUncompatible",1007:"DOBVersionUnexpected",1008:"ClusterIdNotSet",1009:"ClusterIdNotFound",1010:"ClusterDataUncompatible",1011:"DecoderIdNotFound",1012:"DecoderOutputInvalid",1013:"HexedDNAParseError",1014:"HexedSporeIdParseError",1015:"DecoderBinaryPathInvalid",1016:"DecoderExecutionError",1017:"DecoderExecutionInternalError",1018:"FetchLiveCellsError",1019:"FetchTransactionError",1020:"NoOutputCellInTransaction",1021:"DOBContentUnexpected",1022:"DOBMetadataUnexpected",1023:"DOBRenderCacheNotFound",1024:"DOBRenderCacheModified",1025:"DecoderBinaryHashInvalid",1026:"DecoderBinaryNotFoundInCell",1027:"JsonRpcRequestError",1028:"SystemTimeError",1029:"DecoderHashNotFound",1030:"DecoderScriptNotFound",1031:"DecoderChainIsEmpty"};function P2(r){const e=Object.keys(au).indexOf(r.toString());if(e<0)throw new Error(`Error code ${r} not found`);return Object.values(au)[e]}function Lf(r){const e=JSON.parse(r);if("error"in e){const i=P2(e.error.code);throw new Error(`Decode DOB failed: ${i}`)}const t=JSON.parse(e.result);return JSON.parse(t.render_output)}async function N2(r,e){const n=await new D2({baseURL:e,method:"POST",headers:{"Content-Type":"application/json"}}).post("/",JSON.stringify({id:0,jsonrpc:"2.0",method:"dob_decode",params:[F(r).replace(/^0x/,"")]}));return Lf(n.data)}async function L2(r,e){var n;const t=(n=r.type)==null?void 0:n.args;if(t===void 0)throw new Error("Invalid spore cell: missing spore id");return N2(F(t),e)}async function ab(r,e,t){const n=await r.getCell(e);if(!n)throw new Error("Invalid spore outpoint: missing spore cell");return L2(n.cellOutput,t)}async function cb(r,e,t){const i=await new D2({baseURL:t,method:"POST",headers:{"Content-Type":"application/json"}}).post("/",JSON.stringify({id:0,jsonrpc:"2.0",method:"dob_raw_decode",params:[F(r),F(e)]}));return Lf(i.data)}function Hf(r){if((r.type==="code_hash"||r.type==="type_id")&&r.hash===void 0)throw new Error("Invalid decoder: 'hash' is required for 'code_hash' and 'type_id'");if(r.type==="type_script"&&r.script===void 0)throw new Error("Invalid decoder: 'script' is required for 'type_script'")}function Uf(r){switch(r.patternType){case"options":{if(r.traitArgs===void 0)throw new Error("Invalid pattern: 'traitArgs' is required for 'options'");if(r.traitArgs.length===0)throw new Error("Invalid pattern: 'traitArgs' should not be empty for 'options'");break}case"range":{if(r.traitArgs===void 0)throw new Error("Invalid pattern: 'traitArgs' is required for 'range'");if(r.traitArgs.length!==2||r.traitArgs.filter(e=>typeof e=="number").length!==2)throw new Error("Invalid pattern: 'traitArgs' should contain exactly 2 numbers for 'range'");break}}if(r.dnaLength===0)throw new Error("Invalid pattern: 'dnaLength' should be greater than 0")}function H2(r){switch(r.patternType){case"options":{if(!Array.isArray(r.traitArgs))throw new Error("Invalid pattern: 'traitArgs' should be an array for 'options'");for(const e of r.traitArgs){if(e.length!==2)throw new Error("Invalid pattern: 'traitArgs' should contain exactly 2 elements for 'options'");if(typeof e[0]!="string"){if(!Array.isArray(e[0]))throw new Error("Invalid pattern: 'traitArgs[0]' should be a string or an array that contains only 2 numbers or the '*' for 'options'");if(e[0].length===1&&e[0][0]!=="*")throw new Error("Invalid pattern: 'traitArgs[0]' should be a string or an array that contains only 2 numbers or the '*' for 'options'");if(e[0].length===2&&(typeof e[0][0]!="number"||typeof e[0][1]!="number"))throw new Error("Invalid pattern: 'traitArgs[0]' should be a string or an array that contains only 2 numbers or the '*' for 'options'");if(e[0].length===0||e[0].length>2)throw new Error("Invalid pattern: 'traitArgs[0]' should be a string or an array that contains only 2 numbers or the '*' for 'options'")}if(typeof e[1]!="string")throw new Error("Invalid pattern: 'traitArgs[1]' should be a string for 'options'")}break}case"raw":{if(r.traitName!==""||typeof r.traitArgs!="string")throw new Error("Invalid pattern: 'traitName' should be empty and 'traitArgs' should be a string for 'raw'");break}}}function fb(r){const e=Q(JSON.stringify(r),"utf8"),t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(e),t}function db(r){return Hf(r.dob.decoder),r.dob.pattern.forEach(e=>{Uf(e),e.toJSON=function(){return e.traitArgs?[e.traitName,e.dobType,e.dnaOffset,e.dnaLength,e.patternType,e.traitArgs]:[e.traitName,e.dobType,e.dnaOffset,e.dnaLength,e.patternType]}}),JSON.stringify(r)}function ub(r){return r.dob.decoders.forEach(e=>{Hf(e.decoder),e.pattern.forEach(t=>{"dnaOffset"in t?(Uf(t),t.toJSON=function(){return t.traitArgs?[t.traitName,t.dobType,t.dnaOffset,t.dnaLength,t.patternType,t.traitArgs]:[t.traitName,t.dobType,t.dnaOffset,t.dnaLength,t.patternType]}):(H2(t),t.toJSON=()=>[t.imageName,t.svgFields,t.traitName,t.patternType,t.traitArgs])})}),JSON.stringify(r)}const U2=Object.freeze({dob0:{type:"code_hash",hash:"0x13cac78ad8482202f18f9df4ea707611c35f994375fa03ae79121312dda9925c"},dob1:{type:"code_hash",hash:"0xda3525549b72970b4c95f5b5749357f20d1293d335710b674f09c32f7d54b6dc"}}),$2=Object.freeze({dob0:{type:"code_hash",hash:"0x13cac78ad8482202f18f9df4ea707611c35f994375fa03ae79121312dda9925c"},dob1:{type:"code_hash",hash:"0xda3525549b72970b4c95f5b5749357f20d1293d335710b674f09c32f7d54b6dc"}});function lb(r,e,t){return t?t[e]:r.addressPrefix==="ckb"?$2[e]:U2[e]}const hb=Object.freeze(Object.defineProperty({__proto__:null,DOB_MAINNET_DECODERS:$2,DOB_TESTNET_DECODERS:U2,checkDecoder:Hf,checkPatternDob0:Uf,checkPatternDob1:H2,decodeDobByRawData:cb,decodeDobBySporeCell:L2,decodeDobBySporeId:N2,decodeDobBySporeOutpoint:ab,encodeClusterDescriptionForDob0:db,encodeClusterDescriptionForDob1:ub,encodeDna:fb,extractDobFromDecoderResult:Lf,getDecoder:lb,getErrorByCode:P2},Symbol.toStringTag,{value:"Module"}));async function F2(r,e,t){const n=await c2(r,e,t??Object.values(As(r)));if(n)return{cell:n.cell,spore:n.cell,sporeData:kf(n.cell.outputData),scriptInfo:n.scriptInfo}}async function $f(r,e,t){const n=await F2(r,e,t);if(!n)throw new Error(`Spore ${F(e)} not found`);return n}async function pb(r){const{signer:e,data:t,to:n,clusterMode:i,scriptInfoHash:s}=r,o=r.scriptInfo??s2(e.client),a=[],c=fe.from(r.tx??{});await c.completeInputsAtLeastOne(e);const{script:f}=await e.getRecommendedAddressObj(),d=Ro(c.inputs[0],c.outputs.length),l=b7(t);if(c.addOutput({lock:n??f,type:{...o,args:d}},l),o.cobuild){const y=c.outputs[c.outputs.length-1],m=v7(y,l,s);a.push(m)}await c.addCellDepInfos(e.client,o.cellDeps);const g=await T7(e,c,t,i);return g&&a.push(g),{tx:await Ss(e,c,a),id:d}}async function bb(r){const{signer:e,id:t,to:n,scripts:i,scriptInfoHash:s}=r,o=fe.from(r.tx??{}),{cell:a,scriptInfo:c}=await $f(e.client,t,i);await o.addCellDepInfos(e.client,c.cellDeps),o.addInput(a),o.addOutput({lock:n,type:a.cellOutput.type},a.outputData);const f=c.cobuild?[x7(a.cellOutput,o.outputs[o.outputs.length-1],s)]:[];return{tx:await Ss(e,o,f)}}async function gb(r){const{signer:e,id:t,scripts:n,scriptInfoHash:i}=r,s=fe.from(r.tx??{}),{cell:o,scriptInfo:a}=await $f(e.client,t,n);await s.addCellDepInfos(e.client,a.cellDeps),s.addInput(o);const c=a.cobuild?[_7(o.cellOutput,i)]:[];return{tx:await Ss(e,s,c)}}async function*yb(r){const{signer:e,clusterId:t,scriptInfos:n,limit:i,order:s}=r;for(const o of n??Object.values(As(e.client)))if(o)for await(const a of e.findCells({script:{...o,args:[]}},!0,s,i)){const c=kf(a.outputData);(!t||t===""&&!c.clusterId||c.clusterId===F(t))&&(yield{cell:a,spore:a,sporeData:c,scriptInfo:Tr.from(o)})}}async function*mb(r){const{client:e,lock:t,clusterId:n,scriptInfos:i,limit:s,order:o}=r;for(const a of i??Object.values(As(e)))if(a)for await(const c of e.findCells({script:{...a,args:[]},scriptType:"type",scriptSearchMode:"prefix",withData:!0,filter:t?{script:t}:void 0},o,s)){const f=kf(c.outputData);(!n||n===""&&!f.clusterId||f.clusterId===F(n))&&(yield{cell:c,spore:c,sporeData:f,scriptInfo:Tr.from(a)})}}const q2=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_COBUILD_INFO_HASH:Oi,SPORE_VERSION_DEFAULT:Of,SporeScriptInfo:Tr,get SporeVersion(){return gt},assertCluster:If,assertSpore:$f,createSpore:pb,createSporeCluster:M7,dob:hb,findCluster:f2,findSpore:F2,findSporeClusters:O7,findSporeClustersBySigner:k7,findSpores:mb,findSporesBySigner:yb,getClusterScriptInfo:o2,getClusterScriptInfos:Es,getSporeScriptInfo:s2,getSporeScriptInfos:As,meltSpore:gb,transferSpore:bb,transferSporeCluster:B7},Symbol.toStringTag,{value:"Module"}));function Ff(r){return Dt(Q(r,"utf8")).slice(0,18)}class ro extends Error{constructor(e){super(e)}}class rs extends Error{constructor(e){super(e)}}class qf extends Error{constructor(e){super(e)}}class Zt{constructor(e,t){this.res=e,this.cellDeps=t}static new(e,t){return new Zt(e,(t==null?void 0:t.map(Le.from))??[])}map(e){try{return new Zt(e(this.res),this.cellDeps)}catch(t){throw new qf(JSON.stringify(t))}}}class j2{async runScriptTry(e,t,n,i){try{return await this.runScript(e,t,n,i)}catch(s){if(s instanceof rs)return;throw s}}}class wb extends j2{constructor(e,t){super(),this.requestor=(t==null?void 0:t.requestor)??new Ao(e,t,n=>{throw typeof n!="object"||n===null||!("code"in n)||typeof n.code!="number"?new ro(JSON.stringify(n)):n.code===1003||n.code===1004?"message"in n&&typeof n.message=="string"?new rs(n.message):new rs:"message"in n&&typeof n.message=="string"?new ro(n.message):new ro})}get url(){return this.requestor.url}async runScript(e,t,n,i){const s=Le.from(e),[o,a]=(()=>{if(i!=null&&i.tx){const d=fe.from(i.tx);return["run_script_level_transaction",[{inner:ae.transactionFrom(d),hash:d.hash()}]]}if(i!=null&&i.cell){const d=Gt.from(i.cell);return["run_script_level_cell",[{cell_output:ae.cellOutputFrom(d.cellOutput,d.outputData),hex_data:F(d.outputData)}]]}return i!=null&&i.script?["run_script_level_script",[ae.scriptFrom(i.script)]]:["run_script_level_code",[]]})(),{content:c,cell_deps:f}=await this.requestor.request(o,[s.txHash,Number(s.index),[Ff(t),...n.map(F)],...a]);return Zt.new(c,f.map(ae.outPointTo))}}class Yo{constructor(e,t){this.code=Le.from(e),this.executor=t??void 0}static async tryRun(e){try{return await e}catch(t){if(t instanceof rs||t instanceof qf)return Zt.new(void 0);throw t}}async tryRun(e){return Yo.tryRun(e)}assertExecutor(){if(!this.executor)throw new Error("SSRI executor is not set");return this.executor}async getMethods(e=0,t=0){return(await this.assertExecutor().runScript(this.code,"SSRI.get_methods",[Pe(e??0,8),Pe(t??0,8)])).map(i=>Oc.decode(i))}async hasMethods(e,t){const n=Oc.encode(e.map(Ff).concat((t==null?void 0:t.map(F))??[]));return(await this.assertExecutor().runScript(this.code,"SSRI.has_methods",[n])).map(s=>I0.decode(s))}async version(){return(await this.assertExecutor().runScript(this.code,"SSRI.version",[])).map(t=>{if(t.length!==4)throw new Error("Invalid U8");return K(t)})}}const z2=Object.freeze(Object.defineProperty({__proto__:null,Executor:j2,ExecutorErrorDecode:qf,ExecutorErrorExecutionFailed:rs,ExecutorErrorUnknown:ro,ExecutorJsonRpc:wb,ExecutorResponse:Zt,Trait:Yo,getMethodPath:Ff},Symbol.toStringTag,{value:"Module"}));class V2 extends Yo{constructor(e,t,n){super(e,n==null?void 0:n.executor),this.script=be.from(t)}async name(e){if(this.executor){const t=await this.executor.runScriptTry(this.code,"UDT.name",[],{script:this.script,...e});if(t)return t.map(n=>sn(n,"utf8"))}return Zt.new(void 0)}async symbol(e){if(this.executor){const t=await this.executor.runScriptTry(this.code,"UDT.symbol",[],{script:this.script,...e});if(t)return t.map(n=>sn(n,"utf8"))}return Zt.new(void 0)}async decimals(e){if(this.executor){const t=await this.executor.runScriptTry(this.code,"UDT.decimals",[],{script:this.script,...e});if(t)return t.map(n=>Wn(n))}return Zt.new(void 0)}async icon(e){if(this.executor){const t=await this.executor.runScriptTry(this.code,"UDT.icon",[],{script:this.script,...e});if(t)return t.map(n=>sn(n,"utf8"))}return Zt.new(void 0)}async transfer(e,t,n){let i;if(this.executor){const s=fe.from(n??{});await s.completeInputsAtLeastOne(e);const o=await this.executor.runScriptTry(this.code,"UDT.transfer",[s.toBytes(),io.encode(t.map(({to:a})=>a)),kc.encode(t.map(({amount:a})=>a))],{script:this.script});o&&(i=o.map(a=>fe.fromBytes(a)))}if(!i){const s=fe.from(n??{});for(const{to:o,amount:a}of t)s.addOutput({lock:o,type:this.script},sr(a,16));i=Zt.new(s)}return i.res.addCellDeps({outPoint:this.code,depType:"code"}),i}async mint(e,t,n){let i;if(this.executor){const s=fe.from(n??{});await s.completeInputsAtLeastOne(e);const o=await this.executor.runScriptTry(this.code,"UDT.mint",[s.toBytes(),io.encode(t.map(({to:a})=>a)),kc.encode(t.map(({amount:a})=>a))],{script:this.script});o&&(i=o.map(a=>fe.fromBytes(a)))}if(!i){const s=fe.from(n??{});for(const{to:o,amount:a}of t)s.addOutput({lock:o,type:this.script},sr(a,16));i=Zt.new(s)}return i.res.addCellDeps({outPoint:this.code,depType:"code"}),i}async completeChangeToLock(e,t,n){const i=fe.from(e);await i.completeInputsByUdt(t,this.script);const s=await i.getInputsUdtBalance(t.client,this.script)-i.getOutputsUdtBalance(this.script);return s>Ue&&i.addOutput({lock:n,type:this.script},sr(s,16)),i}async completeBy(e,t){const{script:n}=await t.getRecommendedAddressObj();return this.completeChangeToLock(e,t,n)}}class vb extends V2{constructor(e,t,n){super(e,t,n)}async pause(e,t,n,i){const s=fe.from(n??{});await s.completeInputsAtLeastOne(e);const a=(await this.assertExecutor().runScript(this.code,"UDTPausable.pause",[s.toBytes(),ii.encode(t.map(c=>be.from(c).hash()).concat((i==null?void 0:i.map(F))??[]))],{script:this.script})).map(c=>fe.fromBytes(c));return a.res.addCellDeps({outPoint:this.code,depType:"code"}),a}async unpause(e,t,n,i){const s=fe.from(n??{});await s.completeInputsAtLeastOne(e);const a=(await this.assertExecutor().runScript(this.code,"UDTPausable.unpause",[s.toBytes(),ii.encode(t.map(c=>be.from(c).hash()).concat((i==null?void 0:i.map(F))??[]))],{script:this.script})).map(c=>fe.fromBytes(c));return a.res.addCellDeps({outPoint:this.code,depType:"code"}),a}async isPaused(e,t){return(await this.assertExecutor().runScript(this.code,"UDTPausable.is_paused",[ii.encode(e.map(i=>be.from(i).hash()).concat((t==null?void 0:t.map(F))??[]))],{script:this.script})).map(i=>I0.decode(i))}async enumeratePaused(e,t){return(await this.assertExecutor().runScript(this.code,"UDTPausable.enumerate_paused",[Pe(e??0,8),Pe(t??0,8)],{script:this.script})).map(i=>ii.decode(i))}}const K2=Object.freeze(Object.defineProperty({__proto__:null,Udt:V2,UdtPausable:vb},Symbol.toStringTag,{value:"Module"}));let Z2=class extends ln{constructor(e,t,n=[{addressPrefix:"ckb",signerType:le.BTC,network:"btc"},{addressPrefix:"ckt",signerType:le.BTC,network:"btcTestnet"}]){super(e),this.provider=t,this.preferredNetworks=n}async _getNetworkToChange(){const e=await(async()=>this.provider.getChain?{BITCOIN_MAINNET:"btc",BITCOIN_TESTNET:"btcTestnet",FRACTAL_BITCOIN_MAINNET:"fractalBtc"}[(await this.provider.getChain()).enum]??"":await this.provider.getNetwork()==="livenet"?"btc":"btcTestnet")(),{network:t}=this.matchNetworkPreference(this.preferredNetworks,e)??{network:e};if(t!==e)return t}async ensureNetwork(){const e=await this._getNetworkToChange();if(e){if(this.provider.switchChain){const t={btc:"BITCOIN_MAINNET",btcTestnet:"BITCOIN_TESTNET",fractalBtc:"FRACTAL_BITCOIN_MAINNET"}[e];if(t){await this.provider.switchChain(t);return}}else if(e==="btc"||e==="btcTestnet"){await this.provider.switchNetwork(e==="btc"?"livenet":"testnet");return}throw new Error(`UniSat wallet doesn't support the requested chain ${e}`)}}async getBtcAccount(){return(await this.provider.getAccounts())[0]}async getBtcPublicKey(){return F(await this.provider.getPublicKey())}async connect(){await this.provider.requestAccounts(),await this.ensureNetwork()}onReplaced(e){const t=[],n=async()=>{var i;e(),(i=t[0])==null||i.call(t)};return t.push(()=>{this.provider.removeListener("accountsChanged",n),this.provider.removeListener("networkChanged",n)}),this.provider.on("accountsChanged",n),this.provider.on("networkChanged",n),t[0]}async isConnected(){return await this._getNetworkToChange()?!1:(await this.provider.getAccounts()).length!==0}async signMessageRaw(e){const t=typeof e=="string"?e:F(e).slice(2);return this.provider.signMessage(t,"ecdsa")}};function W2(r,e){const t=window;return typeof t.unisat>"u"?[]:[{signer:new Z2(r,t.unisat,e),name:"BTC"}]}const G2=Object.freeze(Object.defineProperty({__proto__:null,Signer:Z2,getUniSatSigners:W2},Symbol.toStringTag,{value:"Module"}));class X2 extends ln{constructor(e,t,n=[{addressPrefix:"ckb",signerType:le.BTC,network:"btc"},{addressPrefix:"ckt",signerType:le.BTC,network:"btcTestnet"}]){super(e),this.provider=t,this.preferredNetworks=n}async getBtcAccount(){const e=await this.provider.getAccount();return this.accountCache=e[0],this.accountCache}async getBtcPublicKey(){const e=await this.provider.getPublicKey(),t=await this.getBtcAccount(),n=e.find(i=>i.address===t);if(!n)throw new Error("pubKey not found");return F(n.publicKey)}async ensureNetwork(){const e=await this._getNetworkToChange();if(!e)return;const t={btc:"btc",btcTestnet:"btc_testnet",btcTestnet4:"btc_testnet_4",btcSignet:"btc_signet"}[e];if(t){await this.provider.switchNetwork(t);return}throw new Error(`UTXO Global wallet doesn't support the requested chain ${e}`)}async _getNetworkToChange(){const e={btc:"btc",btc_testnet:"btcTestnet",btc_testnet_4:"btcTestnet4",btc_signet:"btcSignet"}[await this.provider.getNetwork()],{network:t}=this.matchNetworkPreference(this.preferredNetworks,e)??{network:e};if(t!==e)return t}onReplaced(e){const t=[],n=async()=>{var i;e(),(i=t[0])==null||i.call(t)};return t.push(()=>{this.provider.removeListener("accountsChanged",n),this.provider.removeListener("networkChanged",n)}),this.provider.on("accountsChanged",n),this.provider.on("networkChanged",n),t[0]}async connect(){await this.provider.connect(),await this.ensureNetwork()}async isConnected(){return await this._getNetworkToChange()!==void 0?!1:await this.provider.isConnected()}async signMessageRaw(e){const t=typeof e=="string"?e:F(e).slice(2);return this.provider.signMessage(t,this.accountCache??await this.getBtcAccount())}}class Y2 extends tr{get type(){return le.CKB}get signType(){return Ne.CkbSecp256k1}constructor(e,t){super(e),this.provider=t}getInternalAddress(){return this.getAccount()}async getIdentity(){return this.getPublicKey()}async getAddressObj(){const e=await this.getInternalAddress();return Ot.fromString(e,this.client)}async getAddressObjs(){return[await this.getAddressObj()]}async getAccount(){const e=await this.provider.getAccount();return this.accountCache=e[0],this.accountCache}async getPublicKey(){const e=await this.provider.getPublicKey(),t=await this.getAccount(),n=e.find(i=>i.address===t);if(!n)throw new Error("pubKey not found");return F(n.publicKey)}get ckbNetwork(){return this.client.addressPrefix==="ckb"?"nervos":"nervos_testnet"}async connect(){await this.provider.connect(),this.ckbNetwork!==await this.provider.getNetwork()&&await this.provider.switchNetwork(this.ckbNetwork)}onReplaced(e){const t=[],n=async()=>{var i;e(),(i=t[0])==null||i.call(t)};return t.push(()=>{this.provider.removeListener("accountsChanged",n),this.provider.removeListener("networkChanged",n)}),this.provider.on("accountsChanged",n),this.provider.on("networkChanged",n),t[0]}async isConnected(){return await this.provider.getNetwork()!==this.ckbNetwork?!1:await this.provider.isConnected()}async signMessageRaw(e){const t=typeof e=="string"?e:F(e).slice(2);return this.provider.signMessage(t,this.accountCache??await this.getAccount())}async signOnlyTransaction(e){const t=await this.provider.signTransaction(e);return fe.from(t)}async prepareTransaction(e){const t=fe.from(e),{script:n}=await this.getAddressObj();return await t.addCellDepsOfKnownScripts(this.client,te.Secp256k1Blake160),await t.prepareSighashAllWitness(n,65,this.client),t}}class xb extends ws{constructor(e,t,n=[{addressPrefix:"ckb",signerType:le.Doge,network:"doge"},{addressPrefix:"ckt",signerType:le.Doge,network:"dogeTestnet"}]){super(e),this.provider=t,this.preferredNetworks=n}async getDogeAddress(){const e=await this.provider.getAccount();return this.accountCache=e[0],this.accountCache}async ensureNetwork(){const e=await this._getNetworkToChange();if(!e)return;const t={doge:"dogecoin",dogeTestnet:"dogecoin_testnet"}[e];if(t){await this.provider.switchNetwork(t);return}throw new Error(`UTXO Global Doge wallet doesn't support the requested chain ${e}`)}async _getNetworkToChange(){const e={dogecoin:"doge",dogecoin_testnet:"dogeTestnet"}[await this.provider.getNetwork()],{network:t}=this.matchNetworkPreference(this.preferredNetworks,e)??{network:e};if(t!==e)return t}onReplaced(e){const t=[],n=async()=>{var i;e(),(i=t[0])==null||i.call(t)};return t.push(()=>{this.provider.removeListener("accountsChanged",n),this.provider.removeListener("networkChanged",n)}),this.provider.on("accountsChanged",n),this.provider.on("networkChanged",n),t[0]}async connect(){await this.provider.connect(),await this.ensureNetwork()}async isConnected(){return await this._getNetworkToChange()!==void 0?!1:await this.provider.isConnected()}async signMessageRaw(e){const t=typeof e=="string"?e:F(e).slice(2);return this.provider.signMessage(t,this.accountCache??await this.getDogeAddress())}}function Q2(r,e){const t=window;return typeof t.utxoGlobal>"u"?[]:[{name:"CKB",signer:new Y2(r,t.utxoGlobal.ckbSigner)},{name:"BTC",signer:new X2(r,t.utxoGlobal.bitcoinSigner,e)},{name:"DOGE",signer:new xb(r,t.utxoGlobal.dogeSigner,e)}]}const J2=Object.freeze(Object.defineProperty({__proto__:null,SignerBtc:X2,SignerCkb:Y2,getUtxoGlobalSigners:Q2},Symbol.toStringTag,{value:"Module"}));let kr;function _b(r){return{lang:(r==null?void 0:r.lang)??(kr==null?void 0:kr.lang),message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??(kr==null?void 0:kr.abortEarly),abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??(kr==null?void 0:kr.abortPipeEarly)}}let mc;function Ab(r){return mc==null?void 0:mc.get(r)}let wc;function Eb(r){return wc==null?void 0:wc.get(r)}let vc;function Sb(r,e){var t;return(t=vc==null?void 0:vc.get(r))==null?void 0:t.get(e)}function Qo(r){var t,n;const e=typeof r;return e==="string"?`"${r}"`:e==="number"||e==="bigint"||e==="boolean"?`${r}`:e==="object"||e==="function"?(r&&((n=(t=Object.getPrototypeOf(r))==null?void 0:t.constructor)==null?void 0:n.name))??"null":e}function Et(r,e,t,n,i){const s=i&&"input"in i?i.input:t.value,o=(i==null?void 0:i.expected)??r.expects??null,a=(i==null?void 0:i.received)??Qo(s),c={kind:r.kind,type:r.type,input:s,expected:o,received:a,message:`Invalid ${e}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:r.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},f=r.kind==="schema",d=(i==null?void 0:i.message)??r.message??Sb(r.reference,c.lang)??(f?Eb(c.lang):null)??n.message??Ab(c.lang);d!==void 0&&(c.message=typeof d=="function"?d(c):d),f&&(t.typed=!1),t.issues?t.issues.push(c):t.issues=[c]}function Ct(r){return{version:1,vendor:"valibot",validate(e){return r["~run"]({value:e},_b())}}}function Cb(r,e){return Object.hasOwn(r,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}function jf(r,e){const t=[...new Set(r)];return t.length>1?`(${t.join(` ${e} `)})`:t[0]??"never"}function e3(r,e,t){return typeof r.fallback=="function"?r.fallback(e,t):r.fallback}function Jo(r,e,t){return typeof r.default=="function"?r.default(e,t):r.default}function cu(r,e){return!r["~run"]({value:e},{abortEarly:!0}).issues}function ks(r,e){return{kind:"schema",type:"array",reference:ks,expects:"Array",async:!1,item:r,message:e,get"~standard"(){return Ct(this)},"~run"(t,n){var s;const i=t.value;if(Array.isArray(i)){t.typed=!0,t.value=[];for(let o=0;o<i.length;o++){const a=i[o],c=this.item["~run"]({value:a},n);if(c.issues){const f={type:"array",origin:"value",input:i,key:o,value:a};for(const d of c.issues)d.path?d.path.unshift(f):d.path=[f],(s=t.issues)==null||s.push(d);if(t.issues||(t.issues=c.issues),n.abortEarly){t.typed=!1;break}}c.typed||(t.typed=!1),t.value.push(c.value)}}else Et(this,"type",t,n);return t}}}function Si(r,e){const t=[];for(const n in r)(`${+n}`!==n||typeof r[n]!="string"||!Object.is(r[r[n]],+n))&&t.push(r[n]);return{kind:"schema",type:"enum",reference:Si,expects:jf(t.map(Qo),"|"),async:!1,enum:r,options:t,message:e,get"~standard"(){return Ct(this)},"~run"(n,i){return this.options.includes(n.value)?n.typed=!0:Et(this,"type",n,i),n}}}function rr(r,e){return{kind:"schema",type:"literal",reference:rr,expects:Qo(r),async:!1,literal:r,message:e,get"~standard"(){return Ct(this)},"~run"(t,n){return t.value===this.literal?t.typed=!0:Et(this,"type",t,n),t}}}function t3(r,e){return{kind:"schema",type:"loose_object",reference:t3,expects:"Object",async:!1,entries:r,message:e,get"~standard"(){return Ct(this)},"~run"(t,n){var s;const i=t.value;if(i&&typeof i=="object"){t.typed=!0,t.value={};for(const o in this.entries){const a=this.entries[o];if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const c=o in i?i[o]:Jo(a),f=a["~run"]({value:c},n);if(f.issues){const d={type:"object",origin:"value",input:i,key:o,value:c};for(const l of f.issues)l.path?l.path.unshift(d):l.path=[d],(s=t.issues)==null||s.push(l);if(t.issues||(t.issues=f.issues),n.abortEarly){t.typed=!1;break}}f.typed||(t.typed=!1),t.value[o]=f.value}else if(a.fallback!==void 0)t.value[o]=e3(a);else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(Et(this,"key",t,n,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:i[o]}]}),n.abortEarly))break}if(!t.issues||!n.abortEarly)for(const o in i)Cb(i,o)&&!(o in this.entries)&&(t.value[o]=i[o])}else Et(this,"type",t,n);return t}}}function zf(r,e){return{kind:"schema",type:"non_optional",reference:zf,expects:"!undefined",async:!1,wrapped:r,message:e,get"~standard"(){return Ct(this)},"~run"(t,n){return t.value!==void 0&&(t=this.wrapped["~run"](t,n)),t.value===void 0&&Et(this,"type",t,n),t}}}function ea(r){return{kind:"schema",type:"null",reference:ea,expects:"null",async:!1,message:r,get"~standard"(){return Ct(this)},"~run"(e,t){return e.value===null?e.typed=!0:Et(this,"type",e,t),e}}}function r3(r,e){return{kind:"schema",type:"nullish",reference:r3,expects:`(${r.expects} | null | undefined)`,async:!1,wrapped:r,default:e,get"~standard"(){return Ct(this)},"~run"(t,n){return(t.value===null||t.value===void 0)&&(this.default!==void 0&&(t.value=Jo(this,t,n)),t.value===null||t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,n)}}}function n3(r){return{kind:"schema",type:"number",reference:n3,expects:"number",async:!1,message:r,get"~standard"(){return Ct(this)},"~run"(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:Et(this,"type",e,t),e}}}function Be(r,e){return{kind:"schema",type:"object",reference:Be,expects:"Object",async:!1,entries:r,message:e,get"~standard"(){return Ct(this)},"~run"(t,n){var s;const i=t.value;if(i&&typeof i=="object"){t.typed=!0,t.value={};for(const o in this.entries){const a=this.entries[o];if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const c=o in i?i[o]:Jo(a),f=a["~run"]({value:c},n);if(f.issues){const d={type:"object",origin:"value",input:i,key:o,value:c};for(const l of f.issues)l.path?l.path.unshift(d):l.path=[d],(s=t.issues)==null||s.push(l);if(t.issues||(t.issues=f.issues),n.abortEarly){t.typed=!1;break}}f.typed||(t.typed=!1),t.value[o]=f.value}else if(a.fallback!==void 0)t.value[o]=e3(a);else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(Et(this,"key",t,n,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:i[o]}]}),n.abortEarly))break}}else Et(this,"type",t,n);return t}}}function Di(r,e){return{kind:"schema",type:"optional",reference:Di,expects:`(${r.expects} | undefined)`,async:!1,wrapped:r,default:e,get"~standard"(){return Ct(this)},"~run"(t,n){return t.value===void 0&&(this.default!==void 0&&(t.value=Jo(this,t,n)),t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,n)}}}function i3(r,e){return{kind:"schema",type:"picklist",reference:i3,expects:jf(r.map(Qo),"|"),async:!1,options:r,message:e,get"~standard"(){return Ct(this)},"~run"(t,n){return this.options.includes(t.value)?t.typed=!0:Et(this,"type",t,n),t}}}function ht(r){return{kind:"schema",type:"string",reference:ht,expects:"string",async:!1,message:r,get"~standard"(){return Ct(this)},"~run"(e,t){return typeof e.value=="string"?e.typed=!0:Et(this,"type",e,t),e}}}function Vf(r){return{kind:"schema",type:"undefined",reference:Vf,expects:"undefined",async:!1,message:r,get"~standard"(){return Ct(this)},"~run"(e,t){return e.value===void 0?e.typed=!0:Et(this,"type",e,t),e}}}function fu(r){let e;if(r)for(const t of r)e?e.push(...t.issues):e=t.issues;return e}function Kf(r,e){return{kind:"schema",type:"union",reference:Kf,expects:jf(r.map(t=>t.expects),"|"),async:!1,options:r,message:e,get"~standard"(){return Ct(this)},"~run"(t,n){let i,s,o;for(const a of this.options){const c=a["~run"]({value:t.value},n);if(c.typed)if(c.issues)s?s.push(c):s=[c];else{i=c;break}else o?o.push(c):o=[c]}if(i)return i;if(s){if(s.length===1)return s[0];Et(this,"type",t,n,{issues:fu(s)}),t.typed=!0}else{if((o==null?void 0:o.length)===1)return o[0];Et(this,"type",t,n,{issues:fu(o)})}return t}}}function ta(){return{kind:"schema",type:"unknown",reference:ta,expects:"unknown",async:!1,get"~standard"(){return Ct(this)},"~run"(r){return r.typed=!0,r}}}var du;(function(r){r.Mainnet="Mainnet",r.Testnet="Testnet",r.Signet="Signet"})(du||(du={}));const Zf=Di(Kf([ht(),n3(),ea()])),hn=Be({jsonrpc:rr("2.0"),method:ht(),params:Di(Kf([ks(ta()),t3({}),ea()])),id:Zf});var t0;(function(r){r[r.PARSE_ERROR=-32700]="PARSE_ERROR",r[r.INVALID_REQUEST=-32600]="INVALID_REQUEST",r[r.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",r[r.INVALID_PARAMS=-32602]="INVALID_PARAMS",r[r.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",r[r.USER_REJECTION=-32e3]="USER_REJECTION",r[r.METHOD_NOT_SUPPORTED=-32001]="METHOD_NOT_SUPPORTED",r[r.ACCESS_DENIED=-32002]="ACCESS_DENIED"})(t0||(t0={}));const Tb=Be({jsonrpc:rr("2.0"),result:zf(ta()),id:Zf}),Mb=Be({jsonrpc:rr("2.0"),error:zf(ta()),id:Zf}),Bb=["software","ledger"],kb=i3(Bb),Ob="wallet_requestPermissions",Ib=Vf();({...hn.entries,...Be({method:rr(Ob),params:Ib,id:ht()}).entries});const Rb="wallet_renouncePermissions",Db=Vf();({...hn.entries,...Be({method:rr(Rb),params:Db,id:ht()}).entries});const Pb="wallet_getWalletType";({...hn.entries,...Be({method:rr(Pb),id:ht()}).entries});var Ci;(function(r){r.Ordinals="ordinals",r.Payment="payment",r.Stacks="stacks"})(Ci||(Ci={}));var r0;(function(r){r.p2pkh="p2pkh",r.p2sh="p2sh",r.p2wpkh="p2wpkh",r.p2wsh="p2wsh",r.p2tr="p2tr",r.stacks="stacks"})(r0||(r0={}));const Nb=Be({address:ht(),publicKey:ht(),purpose:Si(Ci),addressType:Si(r0)}),Lb="getInfo",Hb=r3(ea());({...hn.entries,...Be({method:rr(Lb),params:Hb,id:ht()}).entries});const Ub="getAddresses",$b=Be({purposes:ks(Si(Ci)),message:Di(ht())});({...hn.entries,...Be({method:rr(Ub),params:$b,id:ht()}).entries});const Fb="signMessage";var bo;(function(r){r.ECDSA="ECDSA",r.BIP322="BIP322"})(bo||(bo={}));const qb=Be({address:ht(),message:ht(),protocol:Di(Si(bo))});({...hn.entries,...Be({method:rr(Fb),params:qb,id:ht()}).entries});const jb="getAccounts",zb=Be({purposes:ks(Si(Ci)),message:Di(ht())});({...Nb.entries,...Be({walletType:kb}).entries});({...hn.entries,...Be({method:rr(jb),params:zb,id:ht()}).entries});const Vb="getBalance";({...hn.entries,...Be({method:rr(Vb),id:ht()}).entries});async function Zs(r){const e=await r;if(cu(Mb,e))throw e.error;if(cu(Tb,e))return e.result;throw{code:t0.INTERNAL_ERROR,message:"Received unknown response from provider.",data:e}}class s3 extends ln{constructor(e,t,n=[{addressPrefix:"ckb",signerType:le.BTC,network:"btc"},{addressPrefix:"ckt",signerType:le.BTC,network:"btcTestnet"}]){super(e),this.provider=t,this.preferredNetworks=n}async assertAddress(){this.addressCache=this.addressCache??(async()=>{if(await this.isConnected())return(await Zs(this.provider.request("getAddresses",{purposes:[Ci.Payment]}))).addresses[0]})();const e=await this.addressCache;if(e)return e;throw Error("Not connected")}async getBtcAccount(){return(await this.assertAddress()).address}async getBtcPublicKey(){return F((await this.assertAddress()).publicKey)}async connect(){await this.isConnected()||await Zs(this.provider.request("wallet_requestPermissions",void 0))}async disconnect(){this.addressCache=void 0}onReplaced(e){const t=[],n=()=>{var i;e(),(i=t[0])==null||i.call(t)};return t.push(this.provider.addListener("accountChange",n),this.provider.addListener("networkChange",n)),t[0]}async isConnected(){try{return await Zs(this.provider.request("getBalance",void 0)),!0}catch{return!1}}async signMessageRaw(e){const t=typeof e=="string"?e:F(e).slice(2);return(await Zs(this.provider.request("signMessage",{message:t,address:(await this.assertAddress()).address,protocol:bo.ECDSA}))).signature}}function Kb(r){return r==null?void 0:r.split(".").reduce((e,t)=>e==null?void 0:e[t],window)}function o3(r,e){const t=window;return t.btc_providers?t.btc_providers.map(i=>({wallet:{name:i.name,icon:i.icon},signerInfo:{name:"BTC",signer:new s3(r,Kb(i.id),e)}})):[]}const a3=Object.freeze(Object.defineProperty({__proto__:null,Signer:s3,getXverseSigners:o3},Symbol.toStringTag,{value:"Module"}));function pn(r){return`data:image/svg+xml,${encodeURIComponent(r)}`}const Zb=pn('<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_46_558)"><circle cx="16" cy="16" r="16" fill="#627EEA"/><path d="M15.9957 20.4203L9.14282 16.3876L15.9957 5.14258V20.4203Z" fill="white"/><path d="M15.9957 26.8573L9.30029 17.396L15.9957 21.3511V26.8573Z" fill="white"/><path d="M16.2319 20.4203L23.0849 16.3876L16.2319 5.14258V20.4203Z" fill="#C1CCF7"/><path d="M16.3107 26.8573L23.0848 17.396L16.3107 21.3511V26.8573Z" fill="#C1CCF7"/></g><defs><clipPath id="clip0_46_558"><rect width="32" height="32" fill="white"/></clipPath></defs></svg>'),Wb=pn('<svg xmlns="http://www.w3.org/2000/svg" width="420" height="420" viewBox="0 0 420 420" fill="none"><circle cx="210" cy="210" r="210" fill="#333333"/><path d="M271.127 204.419C279.096 204.419 285.555 197.959 285.555 189.991C285.555 182.022 279.096 175.562 271.127 175.562C263.159 175.562 256.699 182.022 256.699 189.991C256.699 197.959 263.159 204.419 271.127 204.419Z" fill="#8CDD00"/><path d="M173.995 175.562C166.773 175.562 160.91 181.425 160.91 188.648C160.91 195.87 166.773 201.733 173.995 201.733C181.218 201.733 187.081 195.87 187.081 188.648C187.064 181.425 181.218 175.562 173.995 175.562Z" fill="#8CDD00"/><path d="M213.43 164.836L198.969 233.586C197.626 240.006 191.878 244.657 185.327 244.657C181.086 244.657 177.139 242.757 174.47 239.465C172.39 236.894 171.342 233.734 171.391 230.491L145.27 237.238C146.383 244.084 149.2 250.618 153.687 256.203C161.434 265.816 172.963 271.335 185.311 271.335C204.407 271.335 221.111 257.775 225.041 239.089L240.665 164.852H213.43V164.836Z" fill="#C1C1C1"/><path d="M335.83 115.983C327.068 105.19 314.065 99 300.161 99H267.981L262.363 125.662H300.161C305.991 125.662 311.445 128.249 315.113 132.786C318.782 137.306 320.207 143.185 319.011 148.884L313.394 175.562H340.645L345.116 154.387C347.965 140.778 344.592 126.775 335.83 115.983Z" fill="#8CDD00"/><path d="M295.216 261.999C291.285 280.669 274.597 294.212 255.518 294.212H226.875L221.258 320.874H255.518C287.126 320.874 314.803 298.421 321.304 267.485L326.021 245.049H298.77L295.216 261.999Z" fill="#8CDD00"/><path d="M98.8061 152.39L93.9258 175.58H121.177L124.894 157.892C128.825 139.223 145.513 125.679 164.592 125.679H192.04L197.657 99.0176H164.592C132.985 99.0012 105.308 121.454 98.8061 152.39Z" fill="#8CDD00"/><path d="M104.998 287.072C101.33 282.552 99.9049 276.673 101.1 270.974L106.079 247.342L77.2555 254.777L74.9956 265.487C72.1296 279.097 75.5196 293.099 84.2813 303.891C93.0429 314.684 106.046 320.874 119.95 320.874H150.935L156.553 294.212H119.95C114.12 294.196 108.666 291.608 104.998 287.072Z" fill="#8CDD00"/></svg>'),Gb=pn('<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" id="Layer_1" x="0" y="0" version="1.1" viewBox="0 0 318.6 318.6"><style>.st1,.st6{fill:#e4761b;stroke:#e4761b;stroke-linecap:round;stroke-linejoin:round}.st6{fill:#f6851b;stroke:#f6851b}</style><path fill="#e2761b" stroke="#e2761b" stroke-linecap="round" stroke-linejoin="round" d="m274.1 35.5-99.5 73.9L193 65.8z"/><path d="m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z" class="st1"/><path d="m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z" class="st1"/><path fill="#d7c1b3" stroke="#d7c1b3" stroke-linecap="round" stroke-linejoin="round" d="m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"/><path fill="#233447" stroke="#233447" stroke-linecap="round" stroke-linejoin="round" d="m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"/><path fill="#cd6116" stroke="#cd6116" stroke-linecap="round" stroke-linejoin="round" d="m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"/><path fill="#e4751f" stroke="#e4751f" stroke-linecap="round" stroke-linejoin="round" d="m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"/><path d="m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z" class="st6"/><path fill="#c0ad9e" stroke="#c0ad9e" stroke-linecap="round" stroke-linejoin="round" d="m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"/><path fill="#161616" stroke="#161616" stroke-linecap="round" stroke-linejoin="round" d="m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"/><path fill="#763d16" stroke="#763d16" stroke-linecap="round" stroke-linejoin="round" d="m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"/><path d="m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z" class="st6"/><script xmlns=""/></svg>'),Xb=pn('<svg version="1.1" id="_8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 256 256" style="enable-background:new 0 0 256 256;" xml:space="preserve"><style type="text/css">.st0{fill:none;} .st1{fill:#FFFFFF;} .st2{fill:#662482;}</style><g><path class="st0" d="M0,0v256h256V0H0z M231.2,159.2c0,20.7,0,31.1-3.5,42.2c-4.4,12.2-14,21.8-26.2,26.2 c-11.1,3.5-21.5,3.5-42.2,3.5H96.8c-20.7,0-31.1,0-42.2-3.5c-12.2-4.4-21.8-14-26.2-26.2c-3.5-11.1-3.5-21.5-3.5-42.2V96.8 c0-20.7,0-31.1,3.5-42.2c4.4-12.2,14-21.8,26.2-26.2c11.2-3.5,21.5-3.5,42.2-3.5h62.5c20.7,0,31.1,0,42.2,3.5 c12.2,4.4,21.8,14,26.2,26.2c3.5,11.1,3.5,21.5,3.5,42.2V159.2z"/> <circle class="st1" cx="137.9" cy="99" r="12.1"/><path class="st1" d="M210.8,115.9c0-47.3-27.7-68.7-64.4-68.7c-16.4,0-31,4.4-42.4,12.5c-3.8,2.7-9,0.1-9-4.5 c0-3.1-2.5-5.7-5.7-5.7H57.7c-3.1,0-5.7,2.5-5.7,5.7v144c0,3.1,2.5,5.7,5.7,5.7h33.7c3.1,0,5.6-2.5,5.6-5.6v-8.4 c0-62.8-33.2-109.8-0.4-116c30-5.7,64.1-3,64.5,20.1c0,2,0.3,8,8.6,11.2c5,2,12.6,2.6,22.6,2.4c0,0,9.1-0.7,9.1,8.5 c0,11.5-20.4,10.7-20.4,10.7c-6.7,0.3-22.6-1.5-31.7,1.2c-4.8,1.5-9,4.2-11.5,9.1c-4.2,8.3-6.2,26.5-6.5,45.5v15.5 c0,3.1,2.5,5.7,5.7,5.7h68c3.1,0,5.7-2.5,5.7-5.7l0,0V115.9z"/><path class="st2" d="M227.6,54.6c-4.4-12.2-14-21.8-26.2-26.2c-11.1-3.5-21.5-3.5-42.2-3.5H96.8c-20.7,0-31.1,0-42.2,3.5 c-12.2,4.4-21.8,14-26.2,26.2c-3.5,11.2-3.5,21.5-3.5,42.2v62.5c0,20.7,0,31.1,3.5,42.2c4.4,12.2,14,21.8,26.2,26.2 c11.2,3.5,21.5,3.5,42.2,3.5h62.5c20.7,0,31.1,0,42.2-3.5c12.2-4.4,21.8-14,26.2-26.2c3.5-11.1,3.5-21.5,3.5-42.2V96.8 C231.2,76.1,231.2,65.7,227.6,54.6z M205.1,204.8h-68c-3.1,0-5.7-2.5-5.7-5.7v-15.5c0.3-19,2.3-37.2,6.5-45.5 c2.5-5,6.7-7.7,11.5-9.1c9-2.7,24.9-0.9,31.7-1.2c0,0,20.4,0.8,20.4-10.7c0-9.3-9.1-8.5-9.1-8.5c-10,0.3-17.7-0.4-22.6-2.4 c-8.3-3.3-8.6-9.2-8.6-11.2c-0.4-23.1-34.5-25.9-64.5-20.1c-32.8,6.2,0.4,53.3,0.4,116v8.4c-0.1,3.1-2.5,5.6-5.6,5.6H57.7 c-3.1,0-5.7-2.5-5.7-5.7v-144c0-3.1,2.5-5.7,5.7-5.7h31.7c3.1,0,5.7,2.5,5.7,5.7c0,4.7,5.2,7.2,9,4.5c11.4-8.2,26-12.5,42.4-12.5 c36.7,0,64.4,21.4,64.4,68.7v83.2l0,0C210.8,202.3,208.3,204.8,205.1,204.8z M125.7,99c0-6.7,5.4-12.1,12.1-12.1S150,92.3,150,99 s-5.4,12.1-12.1,12.1S125.7,105.8,125.7,99z"/></g></svg>'),uu=pn('<svg width="1000" height="1000" viewBox="0 0 1000 1000" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="1000" height="1000" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M393.949 218.518H231.049C224.129 218.518 218.519 224.128 218.519 231.048V393.948C218.519 400.869 224.129 406.479 231.049 406.479H393.949C400.87 406.479 406.48 400.869 406.48 393.948V231.048C406.48 224.128 400.87 218.518 393.949 218.518ZM581.992 406.479H419.092C412.172 406.479 406.561 412.09 406.561 419.01V581.91C406.561 588.831 412.172 594.441 419.092 594.441H581.992C588.913 594.441 594.523 588.831 594.523 581.91V419.01C594.523 412.09 588.913 406.479 581.992 406.479ZM606.974 218.518H769.874C776.794 218.518 782.405 224.128 782.405 231.048V393.948C782.405 400.869 776.794 406.479 769.874 406.479H606.974C600.053 406.479 594.443 400.869 594.443 393.948V231.048C594.443 224.128 600.053 218.518 606.974 218.518ZM393.95 594.442H231.049C224.129 594.442 218.519 600.052 218.519 606.973V769.873C218.519 776.793 224.129 782.404 231.049 782.404H393.95C400.87 782.404 406.48 776.793 406.48 769.873V606.973C406.48 600.052 400.87 594.442 393.95 594.442ZM606.974 594.442H769.874C776.794 594.442 782.405 600.052 782.405 606.973V769.873C782.405 776.793 776.794 782.404 769.874 782.404H606.974C600.053 782.404 594.443 776.793 594.443 769.873V606.973C594.443 600.052 600.053 594.442 606.974 594.442Z" fill="white"/></svg>'),Yb=pn('<svg id="layer2" data-name="layer2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 88.24 70.95"><defs><style>.cls-1{fill:url(#linear_9)}.cls-2{fill:rgba(155,84,168,0)}</style><linearGradient id="linear_9" data-name="linear 9" x1="216.98" y1="-423.81" x2="170.95" y2="319.28" gradientTransform="translate(18.94 29.12) scale(.09 -.09)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#01f395"/><stop offset="1" stop-color="#01b56a"/></linearGradient></defs><g id="layer1" data-name="layer1"><g><rect class="cls-2" width="88.24" height="70.95"/><g><path class="cls-1" d="m19.08,0H4.9l49.8,70.95h14.19L19.08,0Z"/><path d="m69.08,44.08c9.93-2.84,16.92-9.85,16.92-21.5v-.2c0-6.18-2.12-11.44-5.87-15.29-4.56-4.45-11.54-7.08-20.46-7.08H24.09l7.97,11.37h26.59c9.22,0,14.7,4.12,14.7,11.72v.2c0,7.19-5.68,11.86-14.6,11.86h-9.98l25.11,35.79h14.37l-19.16-26.87Z"/><path d="m0,20.16l35.64,50.78h14.19L14.19,20.16H0Z"/></g></g></g></svg>'),lu=pn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 115.77 147.7" xmlns:v="https://vecta.io/nano"><defs><linearGradient id="A" x1="106.985" y1="30.78" x2="13.053" y2="72.524" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#201c1b"/><stop offset=".36" stop-color="#77390d"/><stop offset=".67" stop-color="#ea8101"/><stop offset="1" stop-color="#f4b852"/></linearGradient><linearGradient id="B" x1="11.381" y1="118.167" x2="120.232" y2="85.771" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1f1d1c"/><stop offset=".37" stop-color="#77390d"/><stop offset=".67" stop-color="#ea8101"/><stop offset="1" stop-color="#f4fb52"/></linearGradient><radialGradient id="C" cx="53.01" cy="45.84" fx="53.01" fy="45.84" r="11.13" gradientTransform="translate(0 0)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#f4b852"/><stop offset=".33" stop-color="#ea8101"/><stop offset=".64" stop-color="#77390d"/><stop offset="1" stop-color="#211c1d"/></radialGradient></defs><path d="M81.66 13.29l30.31 30.02c2.58 2.55 3.85 5.13 3.81 7.73s-1.15 4.97-3.32 7.12c-2.27 2.25-4.72 3.39-7.34 3.44-2.62.04-5.22-1.22-7.8-3.77l-31-30.7c-3.52-3.49-6.92-5.96-10.19-7.41s-6.71-1.68-10.31-.68c-3.61.99-7.48 3.54-11.63 7.64-5.72 5.67-8.45 10.99-8.17 15.96s3.12 10.13 8.51 15.46l31.25 30.96c2.61 2.58 3.89 5.16 3.85 7.72-.04 2.57-1.16 4.94-3.37 7.13-2.2 2.18-4.63 3.32-7.27 3.41s-5.27-1.16-7.87-3.74L20.81 73.56c-4.93-4.88-8.49-9.5-10.68-13.86s-3.01-9.29-2.44-14.79c.51-4.71 2.02-9.27 4.54-13.69 2.51-4.42 6.11-8.94 10.78-13.57 5.56-5.51 10.87-9.73 15.93-12.67C43.99 2.04 48.88.41 53.6.07c4.73-.34 9.39.6 14 2.82s9.29 5.68 14.05 10.4z" fill="url(#A)"/><path d="M34.11 134.42L3.81 104.4C1.23 101.84-.04 99.27 0 96.67s1.15-4.97 3.32-7.12c2.27-2.25 4.72-3.39 7.34-3.44 2.62-.04 5.22 1.21 7.8 3.77l30.99 30.7c3.53 3.49 6.92 5.96 10.19 7.41s6.71 1.67 10.32.68 7.48-3.54 11.63-7.65c5.72-5.67 8.45-10.99 8.17-15.96s-3.12-10.13-8.51-15.47L64.6 73.24c-2.61-2.58-3.89-5.16-3.85-7.72.04-2.57 1.16-4.94 3.37-7.13 2.2-2.18 4.63-3.32 7.27-3.41s5.27 1.16 7.87 3.74l15.7 15.41c4.93 4.88 8.49 9.5 10.68 13.86s3.01 9.29 2.44 14.79c-.51 4.71-2.02 9.27-4.54 13.69-2.51 4.42-6.11 8.94-10.78 13.57-5.56 5.51-10.87 9.73-15.93 12.67s-9.95 4.58-14.68 4.92-9.39-.6-14-2.82-9.29-5.68-14.05-10.4z" fill="url(#B)"/><circle cx="53.01" cy="45.83" r="11.13" fill="url(#C)"/></svg>'),hu=pn(`
<svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect width="512" height="512" rx="256" fill="black"/>
    <g clip-path="url(#clip0_3306_46207)">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M303.998 281.91C303.998 290.558 311.018 297.568 319.677 297.568H379.781C381.224 297.568 382.394 298.736 382.394 300.178V359.734V360.2H382.401C382.648 368.632 389.57 375.392 398.074 375.392C406.577 375.392 413.499 368.632 413.746 360.2H413.753V359.734V297.568V276.691C413.753 270.926 409.073 266.252 403.3 266.252H382.394H319.677C311.018 266.252 303.998 273.262 303.998 281.91Z" fill="white"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M382.394 391.05C382.394 382.402 375.375 375.392 366.715 375.392H306.612C305.168 375.392 303.998 374.223 303.998 372.782V313.226V312.76H303.992C303.745 304.328 296.822 297.568 288.319 297.568C279.816 297.568 272.894 304.328 272.647 312.76H272.64V313.226V375.392V396.269C272.64 402.034 277.32 406.708 283.093 406.708H303.998H366.715C375.375 406.708 382.394 399.697 382.394 391.05Z" fill="white"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M102.456 401.977C108.579 408.092 118.507 408.092 124.63 401.977L167.13 359.535C168.15 358.516 169.805 358.516 170.825 359.535L212.995 401.647L213.325 401.977L213.33 401.972C219.475 407.76 229.156 407.652 235.168 401.647C241.181 395.643 241.289 385.975 235.494 379.838L235.499 379.833L235.168 379.503L191.151 335.546L176.369 320.783C172.287 316.707 165.668 316.707 161.586 320.783L146.804 335.546L102.456 379.833C96.333 385.948 96.333 395.862 102.456 401.977Z" fill="#FF7201"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M102.291 269.894C108.414 263.779 118.342 263.779 124.465 269.894L166.965 312.336C167.985 313.355 169.64 313.355 170.66 312.336L212.83 270.224L213.16 269.894L213.165 269.899C219.31 264.111 228.991 264.219 235.003 270.224C241.016 276.228 241.125 285.896 235.329 292.033L235.334 292.038L235.003 292.367L190.986 336.325L176.204 351.088C172.122 355.164 165.503 355.164 161.421 351.088L146.639 336.325L102.291 292.038C96.1681 285.923 96.1681 276.009 102.291 269.894Z" fill="#FF7201"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M273.839 120.74C273.839 129.388 280.859 136.398 289.518 136.398H327.223C328.666 136.398 329.836 137.567 329.836 139.008L329.829 230.412V230.878H329.836C330.083 239.31 337.005 246.07 345.508 246.07C354.011 246.07 360.934 239.31 361.181 230.878H361.188V230.412L361.194 136.398V115.521C361.194 109.756 356.514 105.082 350.742 105.082H329.836H289.518C280.859 105.082 273.839 112.093 273.839 120.74Z" fill="#FF7201"/>
    <path d="M395.035 105.082C403.694 105.082 410.714 112.093 410.714 120.74C410.714 129.388 403.694 136.398 395.035 136.398C386.376 136.398 379.356 129.388 379.356 120.74C379.356 112.093 386.376 105.082 395.035 105.082Z" fill="#FF7201"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M239.114 120.646L239.114 120.658L239.114 120.67L239.112 199.095V199.562H239.106C238.859 207.994 231.936 214.754 223.433 214.754C214.93 214.754 208.008 207.994 207.761 199.562H207.754V199.101L207.754 199.096L207.754 199.091L207.756 120.658L207.756 120.184H207.763C208.014 111.756 214.934 105 223.435 105C231.935 105 238.856 111.756 239.107 120.184H239.114V120.646Z" fill="white"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M207.755 230.412C207.755 221.764 200.735 214.754 192.075 214.754H131.972C130.528 214.754 129.358 213.586 129.358 212.144V121.272V120.806H129.352C129.105 112.374 122.182 105.614 113.679 105.614C105.176 105.614 98.2539 112.374 98.0069 120.806H98.0001V121.272V214.754V235.632C98.0001 241.397 102.68 246.07 108.453 246.07H129.358H192.075C200.735 246.07 207.755 239.06 207.755 230.412Z" fill="white"/>
    </g>
    <defs>
    <clipPath id="clip0_3306_46207">
    <rect width="316" height="302" fill="white" transform="translate(98 105)"/>
    </clipPath>
    </defs>
</svg>
`);let ra=class{constructor(){this.resetListeners=[]}getConfig(e){var s,o;const t=(e==null?void 0:e.name)??((s=document.querySelector("head title"))==null?void 0:s.text)??"Unknown",n=(e==null?void 0:e.icon)??((o=document.querySelector('link[rel="icon"]'))==null?void 0:o.href)??"https://fav.farm/%E2%9D%93",i=[...(e==null?void 0:e.preferredNetworks)??[],{addressPrefix:"ckb",signerType:le.BTC,network:"btc"},{addressPrefix:"ckt",signerType:le.BTC,network:"btcTestnet"},{addressPrefix:"ckb",signerType:le.Doge,network:"doge"},{addressPrefix:"ckt",signerType:le.Doge,network:"dogeTestnet"}];return{appName:t,appIcon:n,preferredNetworks:i}}disconnect(){this.resetListeners.forEach(e=>e()),this.resetListeners=[]}async refresh(e,t,n){this.disconnect();const{appName:i,appIcon:s,preferredNetworks:o}=this.getConfig(n),a={client:e,appName:i,appIcon:s,preferredNetworks:o,onUpdate:t,wallets:[]};await this.addRealSigners(a),await this.addDummySigners(a)}async addRealSigners(e){const{appName:t,appIcon:n,client:i,preferredNetworks:s}=e;await this.addSigners("UTXO Global Wallet",hu,Q2(i,s),e),await this.addSigners("Rei Wallet",Yb,Qh(i),e),await this.addSigners("JoyID Passkey",Wb,jh(i,t,n,s),e),await this.addSigners("UniSat",lu,W2(i,s),e),await this.addSigners("OKX Wallet",uu,Gh(i,s),e),await Promise.all(o3(i,s).map(({wallet:a,signerInfo:c})=>this.addSigner(a.name,a.icon,c,e)));const o=Kh(i);o&&await this.addSigner("Nostr",Xb,{name:"Nostr",signer:o},e),this.resetListeners.push(new Hh(i).subscribeSigners((a,c)=>this.addSigner((c==null?void 0:c.info.name)??"EVM",(c==null?void 0:c.info.icon)??Zb,{name:"EVM",signer:a},e)))}async addDummySigners(e){await this.addLinkSigners("MetaMask",Gb,[le.EVM],`https://metamask.app.link/dapp/${window.location.href}`,e),await this.addLinkSigners("OKX Wallet",uu,[le.EVM,le.BTC],"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+encodeURIComponent(window.location.href)),e),await this.addLinkSigners("UniSat",lu,[le.BTC],"https://unisat.io/download",e),await this.addLinkSigners("UTXO Global Wallet",hu,[le.CKB,le.BTC],"https://chromewebstore.google.com/detail/lnamkkidoonpeknminiadpgjiofpdmle",e)}async addLinkSigners(e,t,n,i,s){return this.addSigners(e,t,n.map(o=>({name:o,signer:new Tf(s.client,o,i)})),s)}async addSigners(e,t,n,i){return Promise.all(n.map(s=>this.addSigner(e,t,s,i)))}async addSigner(e,t,n,{wallets:i,onUpdate:s}){const o=i.find(a=>a.name===e);if(!o)i.push({name:e,icon:t,signers:[n]});else{const a=[...o.signers,n].filter(({signer:c})=>!(c instanceof vs));o.signers=a.length!==0?a:[n]}s(i)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ji=globalThis,go=Ji.trustedTypes,pu=go?go.createPolicy("lit-html",{createHTML:r=>r}):void 0,c3="$lit$",rn=`lit$${Math.random().toFixed(9).slice(2)}$`,f3="?"+rn,Qb=`<${f3}>`,jn=document,ns=()=>jn.createComment(""),is=r=>r===null||typeof r!="object"&&typeof r!="function",Wf=Array.isArray,Jb=r=>Wf(r)||typeof(r==null?void 0:r[Symbol.iterator])=="function",xc=`[ 	
\f\r]`,Fi=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,bu=/-->/g,gu=/>/g,wn=RegExp(`>|${xc}(?:([^\\s"'>=/]+)(${xc}*=${xc}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),yu=/'/g,mu=/"/g,d3=/^(?:script|style|textarea|title)$/i,eg=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),Re=eg(1),zn=Symbol.for("lit-noChange"),st=Symbol.for("lit-nothing"),wu=new WeakMap,Rn=jn.createTreeWalker(jn,129);function u3(r,e){if(!Wf(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return pu!==void 0?pu.createHTML(e):e}const tg=(r,e)=>{const t=r.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Fi;for(let a=0;a<t;a++){const c=r[a];let f,d,l=-1,g=0;for(;g<c.length&&(o.lastIndex=g,d=o.exec(c),d!==null);)g=o.lastIndex,o===Fi?d[1]==="!--"?o=bu:d[1]!==void 0?o=gu:d[2]!==void 0?(d3.test(d[2])&&(i=RegExp("</"+d[2],"g")),o=wn):d[3]!==void 0&&(o=wn):o===wn?d[0]===">"?(o=i??Fi,l=-1):d[1]===void 0?l=-2:(l=o.lastIndex-d[2].length,f=d[1],o=d[3]===void 0?wn:d[3]==='"'?mu:yu):o===mu||o===yu?o=wn:o===bu||o===gu?o=Fi:(o=wn,i=void 0);const y=o===wn&&r[a+1].startsWith("/>")?" ":"";s+=o===Fi?c+Qb:l>=0?(n.push(f),c.slice(0,l)+c3+c.slice(l)+rn+y):c+rn+(l===-2?a:y)}return[u3(r,s+(r[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class ss{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[f,d]=tg(e,t);if(this.el=ss.createElement(f,n),Rn.currentNode=this.el.content,t===2||t===3){const l=this.el.content.firstChild;l.replaceWith(...l.childNodes)}for(;(i=Rn.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const l of i.getAttributeNames())if(l.endsWith(c3)){const g=d[o++],y=i.getAttribute(l).split(rn),m=/([.?@])?(.*)/.exec(g);c.push({type:1,index:s,name:m[2],strings:y,ctor:m[1]==="."?ng:m[1]==="?"?ig:m[1]==="@"?sg:na}),i.removeAttribute(l)}else l.startsWith(rn)&&(c.push({type:6,index:s}),i.removeAttribute(l));if(d3.test(i.tagName)){const l=i.textContent.split(rn),g=l.length-1;if(g>0){i.textContent=go?go.emptyScript:"";for(let y=0;y<g;y++)i.append(l[y],ns()),Rn.nextNode(),c.push({type:2,index:++s});i.append(l[g],ns())}}}else if(i.nodeType===8)if(i.data===f3)c.push({type:2,index:s});else{let l=-1;for(;(l=i.data.indexOf(rn,l+1))!==-1;)c.push({type:7,index:s}),l+=rn.length-1}s++}}static createElement(e,t){const n=jn.createElement("template");return n.innerHTML=e,n}}function Ti(r,e,t=r,n){var o,a;if(e===zn)return e;let i=n!==void 0?(o=t._$Co)==null?void 0:o[n]:t._$Cl;const s=is(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(r),i._$AT(r,t,n)),n!==void 0?(t._$Co??(t._$Co=[]))[n]=i:t._$Cl=i),i!==void 0&&(e=Ti(r,i._$AS(r,e.values),i,n)),e}let rg=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??jn).importNode(t,!0);Rn.currentNode=i;let s=Rn.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let f;c.type===2?f=new Pi(s,s.nextSibling,this,e):c.type===1?f=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(f=new og(s,this,e)),this._$AV.push(f),c=n[++a]}o!==(c==null?void 0:c.index)&&(s=Rn.nextNode(),o++)}return Rn.currentNode=jn,i}p(e){let t=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}};class Pi{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,t,n,i){this.type=2,this._$AH=st,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Ti(this,e,t),is(e)?e===st||e==null||e===""?(this._$AH!==st&&this._$AR(),this._$AH=st):e!==this._$AH&&e!==zn&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Jb(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==st&&is(this._$AH)?this._$AA.nextSibling.data=e:this.T(jn.createTextNode(e)),this._$AH=e}$(e){var s;const{values:t,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=ss.createElement(u3(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(t);else{const o=new rg(i,this),a=o.u(this.options);o.p(t),this.T(a),this._$AH=o}}_$AC(e){let t=wu.get(e.strings);return t===void 0&&wu.set(e.strings,t=new ss(e)),t}k(e){Wf(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const s of e)i===t.length?t.push(n=new Pi(this.O(ns()),this.O(ns()),this,this.options)):n=t[i],n._$AI(s),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,t);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}}class na{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,i,s){this.type=1,this._$AH=st,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=st}_$AI(e,t=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=Ti(this,e,t,0),o=!is(e)||e!==this._$AH&&e!==zn,o&&(this._$AH=e);else{const a=e;let c,f;for(e=s[0],c=0;c<s.length-1;c++)f=Ti(this,a[n+c],t,c),f===zn&&(f=this._$AH[c]),o||(o=!is(f)||f!==this._$AH[c]),f===st?e=st:e!==st&&(e+=(f??"")+s[c+1]),this._$AH[c]=f}o&&!i&&this.j(e)}j(e){e===st?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class ng extends na{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===st?void 0:e}}class ig extends na{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==st)}}class sg extends na{constructor(e,t,n,i,s){super(e,t,n,i,s),this.type=5}_$AI(e,t=this){if((e=Ti(this,e,t,0)??st)===zn)return;const n=this._$AH,i=e===st&&n!==st||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==st&&(n===st||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,e):this._$AH.handleEvent(e)}}class og{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Ti(this,e)}}const ag={I:Pi},_c=Ji.litHtmlPolyfillSupport;_c==null||_c(ss,Pi),(Ji.litHtmlVersions??(Ji.litHtmlVersions=[])).push("3.3.1");const cg=(r,e,t)=>{const n=(t==null?void 0:t.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const s=(t==null?void 0:t.renderBefore)??null;n._$litPart$=i=new Pi(e.insertBefore(ns(),s),s,void 0,t??{})}return i._$AI(r),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Un=globalThis;let cr=class extends v3{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const e=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=e.firstChild),e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=cg(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return zn}};var Eu;cr._$litElement$=!0,cr.finalized=!0,(Eu=Un.litElementHydrateSupport)==null||Eu.call(Un,{LitElement:cr});const Ac=Un.litElementPolyfillSupport;Ac==null||Ac({LitElement:cr});(Un.litElementVersions??(Un.litElementVersions=[])).push("4.2.1");/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:fg}=ag,dg=r=>r.strings===void 0,vu=()=>document.createComment(""),qi=(r,e,t)=>{var s;const n=r._$AA.parentNode,i=e===void 0?r._$AB:e._$AA;if(t===void 0){const o=n.insertBefore(vu(),i),a=n.insertBefore(vu(),i);t=new fg(o,a,r,r.options)}else{const o=t._$AB.nextSibling,a=t._$AM,c=a!==r;if(c){let f;(s=t._$AQ)==null||s.call(t,r),t._$AM=r,t._$AP!==void 0&&(f=r._$AU)!==a._$AU&&t._$AP(f)}if(o!==i||c){let f=t._$AA;for(;f!==o;){const d=f.nextSibling;n.insertBefore(f,i),f=d}}}return t},vn=(r,e,t=r)=>(r._$AI(e,t),r),ug={},lg=(r,e=ug)=>r._$AH=e,hg=r=>r._$AH,Ec=r=>{r._$AR(),r._$AA.remove()};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const l3={CHILD:2},h3=r=>(...e)=>({_$litDirective$:r,values:e});class p3{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const es=(r,e)=>{var n;const t=r._$AN;if(t===void 0)return!1;for(const i of t)(n=i._$AO)==null||n.call(i,e,!1),es(i,e);return!0},yo=r=>{let e,t;do{if((e=r._$AM)===void 0)break;t=e._$AN,t.delete(r),r=e}while((t==null?void 0:t.size)===0)},b3=r=>{for(let e;e=r._$AM;r=e){let t=e._$AN;if(t===void 0)e._$AN=t=new Set;else if(t.has(r))break;t.add(r),gg(e)}};function pg(r){this._$AN!==void 0?(yo(this),this._$AM=r,b3(this)):this._$AM=r}function bg(r,e=!1,t=0){const n=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(n))for(let s=t;s<n.length;s++)es(n[s],!1),yo(n[s]);else n!=null&&(es(n,!1),yo(n));else es(this,r)}const gg=r=>{r.type==l3.CHILD&&(r._$AP??(r._$AP=bg),r._$AQ??(r._$AQ=pg))};class yg extends p3{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,n){super._$AT(e,t,n),b3(this),this.isConnected=e._$AU}_$AO(e,t=!0){var n,i;e!==this.isConnected&&(this.isConnected=e,e?(n=this.reconnected)==null||n.call(this):(i=this.disconnected)==null||i.call(this)),t&&(es(this,e),yo(this))}setValue(e){if(dg(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const xu=()=>new mg;class mg{}const Sc=new WeakMap,Cc=h3(class extends yg{render(r){return st}update(r,[e]){var n;const t=e!==this.G;return t&&this.G!==void 0&&this.rt(void 0),(t||this.lt!==this.ct)&&(this.G=e,this.ht=(n=r.options)==null?void 0:n.host,this.rt(this.ct=r.element)),st}rt(r){if(this.isConnected||(r=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let t=Sc.get(e);t===void 0&&(t=new WeakMap,Sc.set(e,t)),t.get(this.G)!==void 0&&this.G.call(this.ht,void 0),t.set(this.G,r),r!==void 0&&this.G.call(this.ht,r)}else this.G.value=r}get lt(){var r,e;return typeof this.G=="function"?(r=Sc.get(this.ht??globalThis))==null?void 0:r.get(this.G):(e=this.G)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});class wg extends Event{constructor(e){super("select-client"),this.client=e}}class vg extends Event{constructor(e,t){super("connected"),this.walletName=e,this.signerName=t}}class Gf extends Event{constructor(e){super("close",{bubbles:!0,composed:!0}),this.callback=e}}class xg{get controller(){return this.host.signersController??this.defaultController}constructor(e){this.host=e,this.wallets=[],this.defaultController=new ra,e.addController(this)}refresh(){return this.controller.refresh(this.host.client,e=>{this.wallets=[...e],this.update()},this.host)}update(){this.host.refreshSigner(),this.host.requestUpdate()}hostConnected(){this.refresh(),setTimeout(()=>this.refresh(),500)}hostDisconnected(){this.controller.disconnect()}}var $t=function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};let ut=class extends cr{constructor(){super(...arguments),this.client=new So,this.signersControllerInner=new xg(this),this.mainRef=xu(),this.bodyRef=xu()}setClient(e){this.client=e}disconnect(){this.onClose(()=>{var e;this.walletName=void 0,this.signerName=void 0,this.saveConnection(),(e=this.signer)==null||e.signer.disconnect()})}loadConnection(){const{signerName:e,walletName:t}=JSON.parse(window.localStorage.getItem("ccc-connection-info")??"{}");this.signerName=e,this.walletName=t}saveConnection(){window.localStorage.setItem("ccc-connection-info",JSON.stringify({signerName:this.signerName,walletName:this.walletName}))}connectedCallback(){super.connectedCallback(),this.loadConnection()}willUpdate(e){(e.has("name")||e.has("icon")||e.has("client")||e.has("signerFilter")||e.has("preferredNetworks"))&&this.signersControllerInner.refresh(),(e.has("walletName")||e.has("signerName"))&&this.refreshSigner(),this.dispatchEvent(new Event("willUpdate"))}refreshSigner(){const e=this.signersControllerInner.wallets.find(({name:n})=>n===this.walletName),t=e==null?void 0:e.signers.find(({name:n})=>n===this.signerName);this.updateSigner(e,t)}async updateSigner(e,t){var n,i,s;(t==null?void 0:t.signer)!==((n=this.signer)==null?void 0:n.signer)&&((i=this.unregisterSignerReplacer)==null||i.call(this),this.unregisterSignerReplacer=void 0,t&&await t.signer.isConnected()?(this.wallet=e,this.signer=t,(s=this.unregisterSignerReplacer)==null||s.call(this),this.unregisterSignerReplacer=t.signer.onReplaced(()=>{this.signersControllerInner.refresh()})):(this.wallet=void 0,this.signer=void 0))}render(){return Re`<div
      class="background"
      @click=${e=>{e.target===e.currentTarget&&this.onClose()}}
      @close=${e=>{e.stopPropagation(),this.onClose(e.callback)}}
      @updated=${()=>this.updated()}
    >
      <div class="main" ${Cc(this.mainRef)}>
        ${this.wallet&&this.signer?Re`
              <ccc-connected-scene
                ?hideMark=${this.hideMark}
                .wallet=${this.wallet}
                .signer=${this.signer.signer}
                .clientOptions=${this.clientOptions}
                @disconnect=${()=>this.disconnect()}
                @select-client=${e=>this.setClient(e.client)}
                ${Cc(this.bodyRef)}
              ></ccc-connected-scene>
            `:Re`
              <ccc-selecting-scene
                .wallets=${this.signersControllerInner.wallets}
                @connected=${({walletName:e,signerName:t})=>{this.walletName=e,this.signerName=t,this.refreshSigner(),this.saveConnection()}}
                ${Cc(this.bodyRef)}
              ></ccc-selecting-scene>
            `}
      </div>
    </div>`}onClose(e){this.mainRef.value&&(this.mainRef.value.style.height="0"),setTimeout(()=>{var t,n;this.dispatchEvent(new Gf),(n=(t=this.bodyRef.value)==null?void 0:t.onClose)==null||n.call(t),e==null||e()},150)}updated(){var e;this.mainRef.value&&(this.mainRef.value.style.height=`${((e=this.bodyRef.value)==null?void 0:e.clientHeight)??0}px`)}};ut.styles=Kn`
    :host {
      width: 100vw;
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
    }

    .background {
      width: 100%;
      height: 100%;
      background: rgba(18, 19, 24, 0.7);
    }

    .main {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background: var(--background);
      border-radius: 1.2rem;
      overflow: hidden;
      transition: height 0.15s ease-out;
    }
  `;$t([Ut()],ut.prototype,"hideMark",void 0);$t([Ut()],ut.prototype,"name",void 0);$t([Ut()],ut.prototype,"icon",void 0);$t([Ut()],ut.prototype,"preferredNetworks",void 0);$t([Ut()],ut.prototype,"signersController",void 0);$t([St()],ut.prototype,"clientOptions",void 0);$t([St()],ut.prototype,"client",void 0);$t([St()],ut.prototype,"walletName",void 0);$t([St()],ut.prototype,"signerName",void 0);$t([St()],ut.prototype,"wallet",void 0);$t([St()],ut.prototype,"signer",void 0);$t([St()],ut.prototype,"unregisterSignerReplacer",void 0);ut=$t([Zn("ccc-connector")],ut);var _g=function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};let n0=class extends cr{updated(){this.dispatchEvent(new Event("updated",{bubbles:!0,composed:!0}))}render(){return Re`<button><slot></slot></button>`}};n0.styles=Kn`
    button {
      background: none;
      color: inherit;
      border: none;
      padding: 0;
      font: inherit;
      cursor: pointer;
      outline: inherit;

      width: 100%;
      display: flex;
      align-items: center;
      padding: 0.25rem 1rem;
      background: var(--btn-secondary);
      border-radius: 9999px;
      transition: background 0.15s ease-in-out;
    }
    button:hover {
      background: var(--btn-secondary-hover);
    }
    button:disabled {
      cursor: not-allowed;
    }
    button:disabled:hover {
      background: var(--btn-secondary);
    }

    button ::slotted(img),
    button ::slotted(svg) {
      width: 0.8rem;
      height: 0.8rem;
      margin-right: 0.5rem;
    }
  `;n0=_g([Zn("ccc-button-pill")],n0);var Ag=function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};let i0=class extends cr{updated(){this.dispatchEvent(new Event("updated",{bubbles:!0,composed:!0}))}render(){return Re`<button><slot></slot></button>`}};i0.styles=Kn`
    :host {
      width: 100%;
    }

    button {
      background: none;
      color: inherit;
      border: none;
      padding: 0;
      font: inherit;
      cursor: pointer;
      outline: inherit;

      width: 100%;
      display: flex;
      align-items: center;
      justify-content: start;
      padding: 0.75rem 1rem;
      background: var(--btn-primary);
      border-radius: 0.4rem;
      transition: background 0.15s ease-in-out;
    }
    button:hover {
      background: var(--btn-primary-hover);
    }
    button:disabled {
      cursor: not-allowed;
    }
    button:disabled:hover {
      background: var(--btn-primary);
    }

    button ::slotted(img),
    button ::slotted(svg) {
      width: 2rem;
      height: 2rem;
      margin-right: 1rem;
      border-radius: 0.4rem;
    }
  `;i0=Ag([Zn("ccc-button")],i0);var Xf=function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};let os=class extends cr{constructor(){super(...arguments),this.isCopied=!1,this.onclick=()=>{if(this.value)return this.isCopied=!0,setTimeout(()=>this.isCopied=!1,3e3),window.navigator.clipboard.writeText(this.value)}}updated(){this.dispatchEvent(new Event("updated",{bubbles:!0,composed:!0}))}render(){return Re`
      <slot></slot>
      ${this.isCopied?Re`
            <svg class="check" viewBox="0 0 17.837 17.837" alt="copied">
              <path
                d="M16.145,2.571c-0.272-0.273-0.718-0.273-0.99,0L6.92,10.804l-4.241-4.27c-0.272-0.274-0.715-0.274-0.989,0L0.204,8.019c-0.272,0.271-0.272,0.717,0,0.99l6.217,6.258c0.272,0.271,0.715,0.271,0.99,0L17.63,5.047c0.276-0.273,0.276-0.72,0-0.994L16.145,2.571z"
              />
            </svg>
          `:Re`
            <svg class="copy" viewBox="0 0 24 24" alt="copy">
              <path
                d="M19 13.5657V6.10526C19 5.49737 18.5091 5 17.9091 5H10.5454C9.94543 5 9.45452 5.49737 9.45452 6.10526V13.5657C9.45452 14.1736 9.94543 14.671 10.5454 14.671H17.9091C18.5091 14.671 19 14.1736 19 13.5657Z"
              />
              <path
                d="M14.5455 15.8684H9.18183C8.58183 15.8684 8.09092 15.3711 8.09092 14.7632V9.329H6.09091C5.49091 9.329 5 9.82637 5 10.4343V17.8947C5 18.5026 5.49091 19 6.09091 19H13.4546C14.0546 19 14.5455 18.5026 14.5455 17.8947V15.8684Z"
              />
            </svg>
          `}
    `}};os.styles=Kn`
    :host {
      display: flex;
      align-items: center;
      cursor: pointer;
    }
    .copy {
      width: 1em;
      height: 1em;
      fill: currentColor;
    }
    .check {
      width: 0.7em;
      height: 0.7em;
      margin-left: 0.15em;
      fill: currentColor;
    }
  `;Xf([Ut()],os.prototype,"value",void 0);Xf([St()],os.prototype,"isCopied",void 0);os=Xf([Zn("ccc-copy-button")],os);const Eg=Re`
  <svg
    width="12"
    height="12"
    viewBox="0 0 12 12"
    xmlns="http://www.w3.org/2000/svg"
    class="primary-icon"
  >
    <path
      d="M10.8989 1.0512C10.5085 0.660741 9.87543 0.660703 9.48493 1.05111L5.94897 4.58624L2.41397 1.05124C2.0235 0.660772 1.39043 0.660773 0.999968 1.05124C0.609503 1.4417 0.609503 2.07477 0.999969 2.46524L4.53497 6.00024L0.999968 9.53524C0.609503 9.9257 0.609503 10.5588 0.999968 10.9492C1.39043 11.3397 2.0235 11.3397 2.41397 10.9492L5.94897 7.41424L9.48493 10.9494C9.87543 11.3398 10.5085 11.3397 10.8989 10.9493C11.2894 10.5588 11.2894 9.92568 10.8989 9.5352L7.36397 6.00024L10.8989 2.46528C11.2894 2.07479 11.2894 1.44168 10.8989 1.0512Z"
      fill="currentColor"
    />
  </svg>
`,Sg=Re`
  <svg
    width="8"
    height="14"
    viewBox="0 0 8 14"
    xmlns="http://www.w3.org/2000/svg"
    class="primary-icon"
  >
    <path
      d="M6.74554 13.5C6.54646 13.5 6.35454 13.4177 6.21275 13.2695L0.720203 7.55253C0.426599 7.24573 0.426599 6.75035 0.720203 6.44355L6.21275 0.725059C6.50779 0.422747 6.98185 0.42574 7.27402 0.729549C7.5662 1.03485 7.56763 1.52723 7.27832 1.83404L2.31999 6.99729L7.27975 12.162C7.49459 12.3865 7.55904 12.7233 7.44303 13.0166C7.32415 13.3084 7.0506 13.5 6.74554 13.5Z"
      fill="currentColor"
      stroke="currentColor"
    />
  </svg>
`;var Yf=function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};let as=class extends cr{render(){return Re`
      <div
        class="header text-bold fs-lg ${this.header?"header-divider":""}"
      >
        <div
          class="back ${this.canBack!=null?"active":""}"
          @click=${()=>{this.dispatchEvent(new Event("back"))}}
        >
          ${Sg}
        </div>
        ${this.header}
        <span
          class="close active"
          @click=${()=>{this.dispatchEvent(new Gf)}}
        >
          ${Eg}
        </span>
      </div>
      <div class="body">
        <slot></slot>
      </div>
    `}};as.styles=Kn`
    .primary-icon {
      color: var(--icon-primary);
    }
    .text-bold {
      font-weight: bold;
    }

    .fs-lg {
      font-size: 1.2rem;
    }

    .main {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      background: var(--background);
      border-radius: 1.2rem;
      overflow: hidden;
      transition: height 0.15s ease-out;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.3rem 0.5rem;
    }

    .header-divider {
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--divider);
    }
    .close,
    .back {
      padding: 0.2rem 0.4rem;
      cursor: pointer;
    }
    .close svg,
    .back svg {
      width: 0.8rem;
      height: 0.8rem;
      opacity: 0;
      transition: opacity 0.15s ease-in-out;
    }

    .close.active svg,
    .back.active svg {
      opacity: 1;
    }

    .body {
      padding: 0.3rem 1.3rem 1rem;
      min-width: 20rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      max-height: 80vh;
      overflow-y: auto;
    }
  `;Yf([Ut()],as.prototype,"canBack",void 0);Yf([Ut()],as.prototype,"header",void 0);as=Yf([Zn("ccc-dialog")],as);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _u=(r,e,t)=>{const n=new Map;for(let i=e;i<=t;i++)n.set(r[i],i);return n},Qf=h3(class extends p3{constructor(r){if(super(r),r.type!==l3.CHILD)throw Error("repeat() can only be used in text expressions")}dt(r,e,t){let n;t===void 0?t=e:e!==void 0&&(n=e);const i=[],s=[];let o=0;for(const a of r)i[o]=n?n(a,o):o,s[o]=t(a,o),o++;return{values:s,keys:i}}render(r,e,t){return this.dt(r,e,t).values}update(r,[e,t,n]){const i=hg(r),{values:s,keys:o}=this.dt(e,t,n);if(!Array.isArray(i))return this.ut=o,s;const a=this.ut??(this.ut=[]),c=[];let f,d,l=0,g=i.length-1,y=0,m=s.length-1;for(;l<=g&&y<=m;)if(i[l]===null)l++;else if(i[g]===null)g--;else if(a[l]===o[y])c[y]=vn(i[l],s[y]),l++,y++;else if(a[g]===o[m])c[m]=vn(i[g],s[m]),g--,m--;else if(a[l]===o[m])c[m]=vn(i[l],s[m]),qi(r,c[m+1],i[l]),l++,m--;else if(a[g]===o[y])c[y]=vn(i[g],s[y]),qi(r,i[l],i[g]),g--,y++;else if(f===void 0&&(f=_u(o,y,m),d=_u(a,l,g)),f.has(a[l]))if(f.has(a[g])){const x=d.get(o[y]),E=x!==void 0?i[x]:null;if(E===null){const B=qi(r,i[l]);vn(B,s[y]),c[y]=B}else c[y]=vn(E,s[y]),qi(r,i[l],E),i[x]=null;y++}else Ec(i[g]),g--;else Ec(i[l]),l++;for(;y<=m;){const x=qi(r,c[m+1]);vn(x,s[y]),c[y++]=x}for(;l<=g;){const x=i[l++];x!==null&&Ec(x)}return this.ut=o,lg(r,c),zn}});function Os(r){return`data:image/svg+xml,${encodeURIComponent(r)}`}const Cg=Os('<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" height="64" width="64" version="1.1"><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-custom-link"/><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-general-link"/><style xmlns="" lang="en" type="text/css" id="dark-mode-custom-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-sheet"/><script xmlns=""/><g transform="translate(0.00630876,-0.00301984)"><path fill="#f7931a" d="m63.033,39.744c-4.274,17.143-21.637,27.576-38.782,23.301-17.138-4.274-27.571-21.638-23.295-38.78,4.272-17.145,21.635-27.579,38.775-23.305,17.144,4.274,27.576,21.64,23.302,38.784z"/><path fill="#FFF" d="m46.103,27.444c0.637-4.258-2.605-6.547-7.038-8.074l1.438-5.768-3.511-0.875-1.4,5.616c-0.923-0.23-1.871-0.447-2.813-0.662l1.41-5.653-3.509-0.875-1.439,5.766c-0.764-0.174-1.514-0.346-2.242-0.527l0.004-0.018-4.842-1.209-0.934,3.75s2.605,0.597,2.55,0.634c1.422,0.355,1.679,1.296,1.636,2.042l-1.638,6.571c0.098,0.025,0.225,0.061,0.365,0.117-0.117-0.029-0.242-0.061-0.371-0.092l-2.296,9.205c-0.174,0.432-0.615,1.08-1.609,0.834,0.035,0.051-2.552-0.637-2.552-0.637l-1.743,4.019,4.569,1.139c0.85,0.213,1.683,0.436,2.503,0.646l-1.453,5.834,3.507,0.875,1.439-5.772c0.958,0.26,1.888,0.5,2.798,0.726l-1.434,5.745,3.511,0.875,1.453-5.823c5.987,1.133,10.489,0.676,12.384-4.739,1.527-4.36-0.076-6.875-3.226-8.515,2.294-0.529,4.022-2.038,4.483-5.155zm-8.022,11.249c-1.085,4.36-8.426,2.003-10.806,1.412l1.928-7.729c2.38,0.594,10.012,1.77,8.878,6.317zm1.086-11.312c-0.99,3.966-7.1,1.951-9.082,1.457l1.748-7.01c1.982,0.494,8.365,1.416,7.334,5.553z"/></g><script xmlns=""/></svg>'),s0=Os('<svg width="668" height="666.66669" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><polygon points="170.265,206.318 223.416,206.318 223.416,93.897 264.161,93.897 170.265,0 " transform="matrix(1.8256046,0,0,1.8256046,-166.4037,144.47964)" /><polygon points="324.79,112.422 284.046,112.422 377.941,206.318 377.941,0 324.79,0 " transform="matrix(1.8256046,0,0,1.8256046,-166.4037,144.47964)" /></svg>'),Tg=Os('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1875 1875"><title>Dogecoin (DOGE)</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><g id="Layer_1-3" data-name="Layer_1"><circle cx="937.5" cy="937.5" r="937.5" style="fill:#988430"/><circle cx="937.5" cy="937.5" r="907.47" style="fill:#7a6a2a"/><circle cx="937.5" cy="937.5" r="888.35" style="fill:#ba9f33"/><path d="M409.89,837.38c-5.31-4.85-10.92-9.71-16.08-14.56s-10.46-9.71-15.77-14.56l-15.78-15c-2.58-2.58-5.31-4.85-7.89-7.44-2.58-2.27-5.61-4.85-8.19-7.13-20.94-19.87-42-39.74-62.65-59.62,21.39,19.57,42.33,39,63.72,58.86l7.43,7.44c2.58,2.57,5.31,4.85,7.89,7.43l15.77,14.56c5.31,4.85,10.47,9.71,15.78,15s10.47,10.16,15.78,15Zm-277.91-3s76.15,7.88,113.32,13.19c34.43,4.86,142.14,21.39,142.14,21.39Zm0,0c21.39,1.82,42.78,4.09,64.17,6.37,10.92,1.06,21.39,2.27,31.86,3.33l16.07,1.83c5.31.75,10.47,1.51,15.78,2.27l63.72,10.16,31.85,5.31c10.47,1.82,20.94,3.8,31.86,5.62-10.47-1.06-21.39-2.58-31.86-4.1l-31.85-4.55-63.72-9.4c-5.31-.76-10.47-1.83-15.78-2.58L228,846.79c-10.47-1.06-21.39-2.58-31.86-3.8-21.39-2.57-42.78-5.31-64.17-8.64ZM379.86,888.8s-81.31,20.64-108.77,28.53c-27,7.43-108.77,32.31-108.77,32.31l217.53-60.83Z" style="fill:#cfb66c;fill-rule:evenodd"/><path d="M379.85,888.8c-18.05,5.31-36,10.47-54.31,15.33l-54.31,14.56c-18.05,5.31-36,10.47-54,15.78l-27,7.43c-8.95,2.58-18.05,4.85-27.3,7.44,8.94-3,18.05-6.07,27-8.65l27-8.64c18.05-5.62,36-10.93,54-16.54,18.35-4.55,36.41-9.41,54.76-13.81,17.44-4.4,35.8-8.79,54.16-12.89h0ZM173.7,999.7c8.94-3.34,112.1-51.42,136.07-62.65,12-5.62,46.88-18,46.88-18L173.7,999.7Z" style="fill:#cfb66c;fill-rule:evenodd"/><path d="M173.7,999.7c7.88-3,15.32-6.67,22.9-10.16l22.45-10.47,45.06-21.69c15-7.13,29.58-15,45.05-21.7,7.89-3.33,15.78-6.06,23.66-8.64l12-3.79c4.09-1.06,7.89-2.28,12-3.34-15,7.13-30.79,13.2-45.81,20.17-15,7.44-30.34,13.51-45.82,20.18l-45.81,20.17C204,986.66,189,993.33,173.69,999.7h0Zm10,42s93.44-54.76,125.6-72.36c16.84-9.4,71.3-36.41,71.3-36.41Z" style="fill:#cfb66c;fill-rule:evenodd"/><path d="M183.71,1041.72c15.77-9.71,31.85-19.57,47.93-29.58l24-14.57c8.19-4.85,16.08-9.4,24.43-14.25,8.19-4.86,16.08-9.71,24.42-14.26a87.54,87.54,0,0,1,12.44-6.37l12.74-6.37c16.84-8.19,33.68-16.54,51.43-23.67-16.08,10.17-32.62,18.82-49.15,27.76-8.19,4.55-16.54,8.65-24.73,13.2s-16.08,9.41-24.43,13.81c-8.19,4.85-16.08,9.4-24.42,13.8l-24.73,13.5-49.91,27h0Zm196.14-96.79s-58.1,44.6-76.91,58.86-74.18,54.31-74.18,54.31L379.85,944.93Z" style="fill:#cfb66c;fill-rule:evenodd"/><polygon points="713.29 1304.61 683.56 1248.33 700.85 1177.94 824.18 1130.31 771.69 1022.61 797.63 913.84 846.33 816.44 996.82 792.78 1107.4 687.35 1346.18 705.4 1393.05 960.71 1302.79 1282.16 1251.37 1448.58 1042.93 1456.47 946.15 1389.42 832.83 1342.08 713.29 1304.61" style="fill:#e2cc85;fill-rule:evenodd"/><path d="M1078.89,1302.79s-28.83,13.2-78,10.16C986.66,1293.84,887,1284.89,887,1284.89s-12.44-3.79-34.44,5.31c-22.14,9-43.08,7.89-62.65,12.74s-39-20.63-54-25.94c-15-5.61-34.89-19.11-34.89-19.11l-42-4.1-84.34-35.65L440.69,1084.65l-36.41,57-11.23,70.54,40.51,83.59,109.07,99.36,212.68,54L881.37,1412l157.92-66.75,39.6-42.47Z" style="fill:#f1d789;fill-rule:evenodd"/><polygon points="323.27 831.01 350.27 749.25 382.44 696.45 486.04 687.8 454.94 778.52 368.33 932.65 404.28 1070.24 340.57 1102.09 320.99 1072.06 305.22 1003.19 304.16 925.82 323.27 831.01" style="fill:#f4ecb4;fill-rule:evenodd"/><path d="M439.47,1297.18l-19.87-27.76s-5.31-13.2-2.27-24.73c3-11.68,2.57-12.44,1.06-16.84s-14.26-19.57-13.5-32.62c.75-13.2-1.06-17.6,8.64-28.06,10.16-10.16,7.13-27.76,7.13-27.76l13.2,8.19,3-4.55s4.85,3.79,4.85,9.71c1.06-8.19-3.34-46.12,6.67-54.76s27.76,40.5,27.76,40.5l-10.92-71.3-28.07-73.11-49.91-66.75-3-73.58v-6.37s-22.91,35.2-29.28,63c-4.55,19.11,6.37,42.32,4.1,69.78-1.83,27.31-4.1,25.18,2.57,36s22.91,33.07,16.54,49.15c-5.61,13.81-24.73,4.1-24.73,4.1s-3.79,11.22-8.95,15.32c-1.82-6.67-3.79-10.92-7.43-15-.31,2.58-1.06,6.07-1.06,6.07s-3.34-10.47-6.68-23.67c-4.54-17.59-9.4-40.8-13.8-53.24-1.82,7.13-6.37,28.82-6.37,28.82l2.58,33.38,12.44,45.81,12,30,11.68,36.71L358,1198.28l8.19,18.81,7.13,42.33,34.43,36.4,18.36,8.2,13.34-6.83h0Z" style="fill:#f3e19d;fill-rule:evenodd"/><path d="M341.32,764.26s-24.73,42-31.85,84.34-13.5,87.08-9,144.72c4.55,58.11,13.2,93.75,20.18,119.24,12,42.33,43.08,101.19,43.08,101.19l1.06-2.28a159.88,159.88,0,0,1-12.44-31.1c-4.1-16.08-5.62-35.19-9.41-43.84-3.34-8.64-8.95-16.08-11.68-26.7-2.58-10.16-3-26.24-10.92-38.22-3.34-4.86-7.44-17.6-8.65-30.34-1.52-19.12.76-40.51-1.06-58.1-3.34-29.28-5.61-49.15-2.58-64.48s18.82-58.85,28.53-93.44c6.37-22.15,2.57-40.81,14.25-60.08,11.68-19.11,18.82-35.95,21.39-47.63,3-10.62-30.94,46.72-30.94,46.72h0Z" style="fill:#f2e8b0;fill-rule:evenodd"/><path d="M458.59,747.42s-12.74,3.8-18.81,10.47c-6.07,6.37-8.65,11.68-16.84,22.45s-8.65,19.57-15.33,33.07c-6.67,13.2-21.39,33.07-23.21,40.2s-4.85,40.5-8.64,56.28c-3.34,15.78,3.79,35.2,3.79,35.2l8.64-1.83s0,11.23,8.65,18.82c8.64,7.43,10.16-25.19,10.16-25.19l32.31-109.07L488,794.75l5.31-26.7-34.74-20.63h0Z" style="fill:#f5eec0;fill-rule:evenodd"/><path d="M482.25,796.88s-22.91,1.51-34.13,9.71c-4.55,3.33-6.37,6.06-11.22,10.16-8.95,7.43-18.06,14.26-22.45,24-4.86,9.7-10.17,24.42-13.81,52.18-1.52,11.68-1.52,22.45-2.58,31.86-1.52,12.74-3.79,22.9-2.58,30,1.52,14.56,16.54,22.15,18,38.68l31.1-15.77,29.28-115.45,62.2-39-35.2-39.44-18.65,13h0Z" style="fill:#e6db9d;fill-rule:evenodd"/><path d="M318.18,1574.29c.13-1.14.26-2.28.39-3.45,4.54-39,5.31-68.56,8.64-87.07,4.85-26.24,8.19-36,7.43-45.82-1.06-15.77-2.27-27.3-.75-39.44,2.27-16.08,18.05-35.19,17.6-48.39-.31-10.47-5.62-17.29-10.17-23.66s-8.19-11.68-8.19-11.68,31.1-21.39,30.8-107.56a8.18,8.18,0,0,1,1.82.76l15.32,43.53,10.47,12.74,40.2,74.94,51.73,50.22,76.45,51.42L607.86,1493l4.85,139.11-62.65,81.31L539.8,1732a891.11,891.11,0,0,1-221.63-157.72Z" style="fill:#e5cb7a;fill-rule:evenodd"/><path d="M509.56,1707.37s1.06-17.29,15.32-28.52c2.28,3.79,3.79,7.44,3.34,10.16,2.58-4.54,20.63-33.67,61.44-41.26,40.81-7.43,50.67-37.16,50.67-37.16l86.61-78.73L826,1440.69l120.45-42.33,56.29-13.81s1.06,4.1-1.06,13.2c10.46-.75,33.67-6.06,57.79-14.56,9.71-3.79,18.82-5.31,23.67-.3,7.13,6.67,8.19,22.45,8.64,31.85,11.68-2.58,25.18-13.8,36-12.74,17.3,1.82,32.62,22.15,50.22,22.15,23.21,0,33.67-14.26,49.91-25.49,9.71-6.67,23.66-15,31.55-20.63,18.81-13.81,217.84-74.64,217.84-74.64l69.78,4.55,11.23,74.94-6,195.9c-.74.71-1.48,1.45-2.23,2.16l-317.28,165.71L793,1814.07a882.11,882.11,0,0,1-281.16-96.71l-2.25-10h0Z" style="fill:#d8c173;fill-rule:evenodd"/><path d="M344.85,1599.21c6.25-13.07,11.87-24,12.86-27.91.78,7.88,2.21,25.17,5.09,43.55q-9.07-7.71-17.95-15.65Z" style="fill:#f1d789;fill-rule:evenodd"/><path d="M666.12,1783.57,723,1767.75l4.85,1.52s2.58,1.52,2.58,6.67c7.13-4.09,13.2-3.34,17.6-6.06,2.27,4.85,4.54,20.93,14.56,22.9,10.46,2.28,21.69-4.55,33.07-13.19,11.22-8.95,24-20.18,33.67-24.73a180.8,180.8,0,0,1,9.41,20.17c12.74-10.16,34.89-51.42,66.44-50.67A119.72,119.72,0,0,1,949,1671.42c29.28-19.87,47.63-21.39,70.54-19.57a120.62,120.62,0,0,1,33.07-29.58c3.79,1.52,14.26,7.89,27.31,1.82,13.2-6.06,28.06-29.58,47.63-32.61a46,46,0,0,1,30.34,6.37s57-56.59,96.33-75.4c-1.52-4.55-4.55-21.69,41.56-59.62,2.58,2.28.76,8.65,2.58,9,.75,0,12-4.85,26.24-15.78,17.6-13.19,38.68-27,51.42-30.79,24-7.13,49.46,7.43,49.46,7.43a22.8,22.8,0,0,1,7.13-3.34c6.06-1.06,10.46-1.82,13.8-3-.3,7.89,4.1,21.39,0,33.07a73.75,73.75,0,0,0,15,6.37c-2.57,5.61-8.19,19.87-17.59,26.7,7.88,3.79,8.94,8.19,20.17,12-4.55,6.37-12,17.3-15.32,24-3.34,7.13-15.33,36.71-20.64,47.93-5.61,11.23-13.19,31.86-16.84,36s-16.84,21.69-27,30.33c9-3.34,45.82-14.56,61.44-18.81-4.65,6.82-28.22,41.79-50.88,75.42a890.14,890.14,0,0,1-728.7,84.36Z" style="fill:#e0cd81;fill-rule:evenodd"/><path d="M486,792.78s-13.19,0-15.77,1.82,13.2,5.62,18.05,7.44,15.32,10.16,18.05,16.84c2.58,6.37,94.81,43.53,94.81,43.53l65.23-3.34L688.86,828l-42.78-37.47,30-88.44-39.74,6.37-95.57,57-47.94,18.36L486,792.78h0Z" style="fill:#dfc57c;fill-rule:evenodd"/><path d="M629.25,822.06a10.23,10.23,0,0,0,9,4.85c13.5,0,25.93,3.34,31.09,10.16,8.65,10.93,32.62,45.82,32.62,45.82l57.34,20.63L763,836l-62.65-43.53-71.3,26.24v3.34h.16Z" style="fill:#e5cc7c;fill-rule:evenodd"/><path d="M618,847.09s10.46.76,23.66-4.1,34.89-15.32,44.3-11.22c13.19,5.61,10.46,23.21,24.73,39,8.64,9.71,24.42,9.41,33.37,19.88s39.74,5.61,39.74,5.61l11.68,63-46.87,60.08-15.33,74.63H669.9L612,1071l-28.52-69,14.26-69.78L618,847.09h0Z" style="fill:#d2c281;fill-rule:evenodd"/><path d="M740.6,850.12a17.16,17.16,0,0,0,4.85.76c-1.82,1.52-5.62,4.85-4.1,13.5s6.37,19.57,2.28,26.24a32.8,32.8,0,0,1,7.13,12.44c2.58,7.44,3.34,14.26,20.17,15.33a35.44,35.44,0,0,0-6.67,5.31s11.68,10.16,17.6,19.56C787.92,943,804,938,804,938l3.34,2.28,7.13-3s-6.67-2.58-1.82-18.81c4.55-14.26,8.65-13.5,9-14.56s3.34-16.08,3.34-22.15c2.27-7.88,4.09-31.85,4.09-31.85l-4.85-52.94-27.3-16.54L774.73,759l-20.94,39.44L740,812.19l-1.06,34.13,1.66,3.8h0Z" style="fill:#e2c270;fill-rule:evenodd"/><path d="M806.28,805.83s4.85,13.8,6.68,24.42a23.49,23.49,0,0,0,1.06-6.37s3.79,20.94,4.54,29.59c1.52-.31,3-.76,3.34.75s3.8,18.36,3,27.76a75.65,75.65,0,0,1,25.48-25.48c6.07-3.8,13.2-7.89,20.64-8.2,11.68-.3,20.17,7.44,34.13,7.44,33.67,0,64.17-24.73,86.62-32.31,16.53-5.62,30.79-9.71,40.8-18.82,4.86-4.09,13.51-13.19,21.39-26.7,10.47-18,21.39-33.67,32.32-35.64a67.78,67.78,0,0,1-15,1.06s3.34-3.34,9-7.89,12.44-10.16,22.14-10.16c17.3,0,25.94,2.57,35.65,2.57,9.71-.3,15.32-2.57,15.32-2.57s10.17,7.13,33.07,7.13c22.91.3,38.23,2.27,50.22,3.34s52.18-3.34,63.71-3a55.82,55.82,0,0,1,21.7,5.31l-37.17-108L1151.4,513.36l-79.49,56.28L949.63,691.91,831.31,735.75l-24.73,27.76v42.32Z" style="fill:#ccb360;fill-rule:evenodd"/><path d="M1071.76,743.93s3.34-3.33,8.94-7.88,12.45-10.17,22.15-10.17c17.29,0,25.94,2.58,35.65,2.58,9.71-.3,15.32-2.58,15.32-2.58S1164,733,1186.89,733c22.91.3,38.23,2.27,50.22,3.33s52.18-3.33,63.71-3a55.53,55.53,0,0,1,21.69,5.31l-16.84-48.7-19.56-37.16-55.83-61.14s-67-39.44-67.51-39.74c-.3-.3-23.21-6.37-23.21-6.37l-60.68,36.71-55.06,142.45-1.06,30,35.64,16.84c8.95-15,18.82-27,28.07-28.52-8.35.91-14.72.91-14.72.91h0Z" style="fill:#d5b457;fill-rule:evenodd"/><path d="M1071,754.1c-5.31.3-9.7-.76-10.92-4.55-4.55-12.74-8.19-14.56-12-14.56s-8.95,8.19-12,8.94-6.67-9.4-6.67-9.4l-3.34-1.52s-19.57,12.74-33.37,27.76-36.41,40.51-46.57,45.05-45.06,6.07-57,8.65-25.18,11.23-27,13.2,5.32,4.09,6.38,6.06c1.06,1.82-11.69,1.06-12.75,3-.75,1.52,3,10.16,4.86,14.56a24.73,24.73,0,0,1,10.46-2.58c11.68-.3,20.18,7.44,34.13,7.44,33.68,0,64.17-24.73,86.62-32.32,16.54-5.61,30.8-9.71,40.81-18.81,4.85-4.09,13.5-13.2,21.39-26.7,5.76-9.25,11.38-17.9,17-24.27h0Z" style="fill:#d2b257;fill-rule:evenodd"/><path d="M588,1504.86s-3-11.23-30.8-40.2c-7.89-8.19-12.74-15-18.05-19.87-13.2-12.45-20.94-15.78-30.34-22.91-20.63-15.32-43.08-15.32-60.37-34.13S411,1333,397,1296.27c-13.8-36.71-17.6-48.39-17.6-49.45s3.8-8.19,8.65-7.13,4.85,10.46,6.07,12.74a75.27,75.27,0,0,0,8.19,10.46c7.13,8.2,17.29,18,22.45,32.62-1.06-12.44-5.31-26.24-5.31-26.24s26.7,16.84,49.45,34.43c22.91,17.6,32.31,23.67,39,34.89s22.45,40.81,30,49.46,111,41.26,111,41.26L698.11,1466l24.43,53.55-19.12,30-36.71,7.89-59.62-26.7L588,1504.85h0Z" style="fill:#d2b159;fill-rule:evenodd"/><path d="M455.55,1320.39s12.44,19.87,42.78,38.68c27.31,16.54,70.54,31.56,109.08,40.51,22.14,5.31,44.29,9.4,64.16,9.71,53.55.75,90.41-14.56,136.08-19.57,24.73-2.58,55.07-4.55,86.62-12,40.5-9.71,64.47-20.64,97.09-36,23.66-10.92,45.36-19.11,62.95-29.58,24.73-14.56,42.78-30.79,63.72-35.64-2.58,7.13-5.31,19.87-25.94,33.07,10.92-.31,25.94-1.06,25.94-1.06s-14.56,8.64-40.2,28.06c-15.78,12-36.71,32.31-58.1,45.81-13.81,8.65-28.83,15-38.69,20.18-24,13.2-33.68,19.87-49.45,36,5.61-.3,6.07,0,6.07,0s-19.88,2.58-34.13,10.16c-3,0-8.2-1.06-17.3,1.52-7.13,2.27-16.54,7.44-26.24,10.16-13.81,4.1-18.35,2.28-18.35,2.28l2.27,4.55s-18-.31-24,.3c1.06.3.76.76.76.76a9.21,9.21,0,0,0-3,1.06,31.3,31.3,0,0,1-9.4,4.09c-1.82.3-3.34.3-5.62.76.76,1.82,6.68,12,9.41,18-2.27,1.52-36.41,27.31-36.41,27.31a26,26,0,0,1,2.58,5.31c1.06,3.33,1.52,8.19,2.58,10.46,2.57,4.55,4.09,5.31,4.09,5.31s-4.09.76-11.23,2.58c-6.06,1.52-13.5,4.09-24,5.61a95.13,95.13,0,0,1-9.71.76c1.52,3.34,8.19,16.08-4.1,30.79s-16.08,16.85-19.87,26.25a40.69,40.69,0,0,0-6.07-3.8c-4.09-1.82-9.71-4.54-11.68-8.19a97.33,97.33,0,0,1-4.55,14.26c-3.79,10.16-9.4,20.18-10.46,27.76-4.1-4.55-11.68-13.5-22.15-11.68s-18.81,16.08-20.63,20.18c0-2.58-1.82-4.55-2.27-1.52-.31,3.34-6.07,38.22-38.23,66.44-.3-7.13-.3-22.91-1.06-28.06-3,3-6.67,7.43-28.52,16.84-21.39,9.4-18,18.81-18,18.81s-1.82-15,9.71-30.8c11.68-15.77,18.81-23.21,18.81-24.42a6.75,6.75,0,0,0-1.52-3.34c-1.52-1.52-4.55-3.34-4.55-4.55,1.82-.75,19.87-9.4,18.81-27.31-1.06-16.07-7.88-24.42-12.74-30.33-.75-.76,7.14-6.37,6.07-8.19-.76-1.06-10.46-8.2-11.68-12a34.86,34.86,0,0,1,1.52-6.67c1.06-3.34,1.82-5.62,1.52-7.89-.76-3.79-4.86-14.26-6.07-15.32,1.06.3,8.64,0,8.64,0s-6.06-9.71-7.13-14.26-3.34-16.54-4.55-18.81c2.58.3,8.95.75,8.95,0,.31-2.28-5.61-6.07-3-9,1.82.3,5.31,1.82,8.64,6.07-1.82-4.86-4.85-14.26-11.23-18.05,3-1.06,13.2-3.8,22.15,1.51s12,12.74,12,12.74,5.31,4.1,13.51,10.17c9.4,7.43,21.38,18,40.5,25.48,4.1,2.28,14.56,2.28,22.15.76a34.06,34.06,0,0,0,9.4-3.79,17.43,17.43,0,0,1,3.34-1.52,72.71,72.71,0,0,0-5.61-9.41c2.58,0,5.61.31,5.61.31s1.82-4.1-6.37-12c1.82-1.82,4.1-3,4.1-6.07-2.58-.3-7.13-4.09-8.19-5.61,1.51-1.06,3.79-4.55,6.37-5.61-2.28-1.82-7.89-9.41-10.47-10.16a47.69,47.69,0,0,0,7.13-3.34s-12.74-3.34-16.84-6.07c-4.1-3-10.16-8.19-13.8-9.71-3.8-1.52-10.47-2.27-13.2-5.31,2.57.76,6.67,0,9.71,0,2.27,0,3.34.3,4.09.3-.3-1.06-.3-3.34,5.62-4.09a27.71,27.71,0,0,0,8.19-2.58s-5.62-.3-12-6.37-11.68-10.92-15.32-11.68c-3.79-.76-10.92,2.58-15.32,2.27-6.07-.75-8.65-3.79-8.65-3.79s-20.17,1.82-64.92-25.48c-38.69-23.67-55.53-44.6-55.53-44.6a66.52,66.52,0,0,1-10.46-4.86c-14.56-7.58-34.74-23.36-34.13-44h0Z" style="fill:#c2a44d;fill-rule:evenodd"/><path d="M1013.65,409.89a19.69,19.69,0,0,1,9,6.07c7.13,8.19,11.68,23.66-4.55,40.2,6.37,2.27,9,3,14.56,2.27-5.61,6.68-18.35,20.94-19.11,33.38-.76,10.16,5.61,13.2,5.61,13.2s-9.71,11.22-10.16,30a121.56,121.56,0,0,1,15-14.26c11.23-8.95,26.7-19.11,37.17-25.48a21.39,21.39,0,0,0,1.06,7.88s19.56-16.08,36-8.94c7.43,3.34,4.09,13.8,4.09,13.8s10.17-3.79,17.3,3.34S1136.83,536.87,1142,544c2.27,3.34,8.19,9.71,14.25,19.57a247.53,247.53,0,0,1,20.64,43.53c.3-7.89,2.27-20.17,24.73-12.44,22.45,7.89,47.93,24.43,69.32,57S1297.63,721,1308.4,735c10.92,13.5,22.15,35.95,22.91,45.36s-3.34,39.74,19.11,121.81c6.37-25.48,16.08-82.07,16.08-82.07l5.31-49.91,6.07-154.43L1216.62,481.79l-126.06-91.48-82.07,7.89,5.15,11.68h0Z" style="fill:#caa13e;fill-rule:evenodd"/><path d="M1313.26,639.71s-2.28-15-40.2-40.5c-37.93-25.18-67.51-25.18-94.81-46.57-20.94-16.84-42.78-55.53-57-68.27-13.81-12.59-16.08-49-16.08-49l46.57-39L1221,296.26l58.55-64.47,28.06,39,39,45.81,21.69,91.93,7.89,134.56-63,96.63Z" style="fill:#b59544;fill-rule:evenodd"/><path d="M1360.14,801a171,171,0,0,0-7.44-60.37c-10-31.1-31.85-86.32-42-107-4.1-22.91-1.06-24.73,3.34-27.31s20.94-12,30-45.05,37.17-34.13,37.17-34.13l17.29-12.74,26.25,65.68,22.9,59.32,7.13,45.36,5.31,38.68-12.44,81.77-61.43,55.52L1360.13,801h0Z" style="fill:#c89d3a;fill-rule:evenodd"/><path d="M502.89,1712.39v-1.68a12.9,12.9,0,0,0,3.33-3c1.06-1.52,1.83-3.34,2.58-3.79,1.52-.76,8.65-3,12.44-2.28s13.81,4.85,19.12,4.55c10.92-.3,23.66-8.65,43.84-4.85,30.34,5.61,37.47,26.24,55.07,37.92,12,8.2,24.42,4.55,26.24,4.55h4.09c.76,0,6.37-6.37,9.41-6.06,6.07.3,6.67,5.31,10.46,5.61,8.95,1.06,26.25-4.55,34.9-2.27A16.67,16.67,0,0,1,735.29,1752c1.82,5.61.3,12.74-4.1,16.84-9.4,8.64-18.35,16.84-20.17,24a85.25,85.25,0,0,1,6.66,5.64,883.15,883.15,0,0,1-214.79-86Z" style="fill:#ceb052;fill-rule:evenodd"/><path d="M1310.68,1409.29s23.66-31.55,31.86-47.18C1350.73,1346,1316.6,1142,1316.6,1142l68.57-224.66-1.83-73.12s3.34-67.51,11.23-96.79c9.41,16.84,38.69,37.17,45.06,47.94,3-20.64,13.19-64.17,11.68-110.59,5.61,8.64,19.11,95.57,19.11,95.57l13.5,58.55,17.6,62.2,19.57,65.69,11.68,45.36,6.67,10.92,5.62,19.11,5.31,20.64,15.32,48.39,9,39.74,7.13,72.06a109.86,109.86,0,0,1,3.34,16.84c.3,7.89-1.06,12.44-1.06,13.81s2.58,17.29,1.52,29.28c-1.52,12-1.52,21.39-10.93,30s-15.32,60.07-15.32,60.07l-16.84-11.22s3.34-15.33-4.55-29.28-23.21-16.84-31.86-14.56c-8.64,1.82-25.93,4.54-31.55,9.4-5.31,4.85-18.35,19.87-30.34,26.7-15,9-39.44,9.71-52.48,12.74-13.2,3-27.76,12-43.09,22.45a240.58,240.58,0,0,1-37.92,20h0Z" style="fill:#cca847;fill-rule:evenodd"/><path d="M1310.68,1740.75s1,.65,2.93,1.71a891,891,0,0,0,284-210.5c-.87-30.7-2-62.17-3.24-73.83-2.57-24.73-.75-49.91-1.51-64.47s-8.95-73.88-12.74-89.2c-4.1-15.32-12-22.91-13.2-22.91-1.06.31-7.44,28.83-7.44,36s-1.52,24.43-1.52,28.83c-1.06-.31-1.51-3-1.51-4.1-1.52,3.79-3.34,10.47-4.1,11.23s1.06-6.37,0-7.89-3-.76-2.58-4.55a43.41,43.41,0,0,1,1.06-6.67s-4.55,6.67-7.88,23.66c-3.34,16.84-3.34,17.3-4.55,18.81-1.06,1.83-7.13,7.89-7.44,10.17-.3,4.09,5.62,8.19,6.07,10.46.3,3.8-5.31,21.39-7.13,30s-1.06,25.48-3,34.13c-1.52,7.89-3,12.44-8.19,15.77,3.79.76,7.43,1.82,7.43,1.82s5.31,22.45-8.19,41.57c-4.85,6.67-6.06,9.71-11.22,15.78-10.17,11.22-18.06,24-18.82,32.31a54.28,54.28,0,0,1-1.06-7.44s-15.77,18.36-22.45,28.83c-8.64,13.5-20.63,12.74-24,16.08s-4.1,9.4-3,14.26c-3,.75-8.64,1.82-12.44,13.5-1.82,6.06-6.37,12-13.5,16.08s-15.78,5.31-20.18,6.37c3.79,1.06,5.31,1.06,7.13,2.27-2.27,3.79-12.74,9.71-24.42,17.3-11.68,7.13-17.3,17.59-20.18,24.42-3,6.37-7.43,10.47-14.56,11.23,3,1.82,7.44,6.06,9.71,7.43-3.34.76-9,.76-19.11,9.41-10.62,8.8-14.26,11.38-19.12,12.14h0Z" style="fill:#c39d3c;fill-rule:evenodd"/><path d="M1099.6,1811.05a85.79,85.79,0,0,1,18.73-9.93c23.66-9.4,48.69-11.22,58.55-14.25,9.41-3,16.84-7.14,28.52-9.41-.31,2.66-.57,5.16-.85,7.52a884.07,884.07,0,0,1-105,26.07Z" style="fill:#d2ba6b;fill-rule:evenodd"/><path d="M1536,1188.72s-4.85,26.24-13.5,42.78-18,39.44-18,39.44a72.15,72.15,0,0,1,1.82-15.33c-10.92,6.37-37.47,21.7-45,28.52-7.13,6.37-19.12,17.6-22.15,22.91,7.13-20.93,14.56-39.74,15.78-48.39-10.92,7.89-61.9,49.91-88.44,77.67l-82.68,66.9A286.14,286.14,0,0,1,1254.4,1417c-14.25,6.06-31.09,11.22-43.53,16.08,3.34-8.95,8.64-16.85,16.08-24.43,7.89-7.43,31.55-33.07,35.19-45,3.34-12.44,4.1-19.87-.3-30.34-4.1,1.06-13.5,1.52-19.87,3.34s-13.2,8.64-13.2,8.64,4.85-27.76,15.32-54c-7.89.3-21.39,2.57-21.39,2.57s18.81-31.55,51-53.54a165.88,165.88,0,0,0-28.82,8.94c-18.81,7.89-39.44,19.57-54.76,25.94,8.64-12,69.32-98.6,105.43-179.31,36-80.55,49.45-101.18,57.34-144.41,4.09-21.39,3-53,4.09-81.31,1.06-28.07,4.55-53.25,2.28-70.09,9.4,11.68,44.6,44.6,45.81,118.18,1.06,73.57-33.67,172.94-70.54,226.48,9,2.58,32.32,5.62,56.28-36s23.67-53.24,32.32-70.54c1.06,8.65.75,11.68.75,11.68s34.9-42.32,51.43-95.57c3.34,22.91,13.2,43.09-2.28,85.11-13.8,37.92-31.85,47.18-31.85,47.18s8.95-1.52,22.14-9.41c2.28,5.61,1.83,12,5.62,14.26s8.95,6.07,9.71,9.71c4.09-6.07,10.46-13.81,12.44-19.57-1.52,12-2.58,64.47,3,91.17,11.69-1.06,23.67-1.82,31.86-22.91-5.61,20.64-5.61,33.07-1.82,50.67,6.22-4.24,11.83-11.83,11.83-11.83h0Z" style="fill:#c0993a;fill-rule:evenodd"/><path d="M1141.84,352.55s-11.68,4.85-31.55,4.85c-17.29,0-12.44-6.67-39.44-6.67-41.56,0-186.74,24-212.23,23.66-16.54-.3,55.82,7.13,55.82,7.13l184.93,2.58,37.16-3L1150.34,353l-8.5-.45Z" style="fill:#a88f33;fill-rule:evenodd"/><path d="M662.32,714.05s-23.67,18.05-33.68,31.86-15.32,22.9-26.7,34.13a23.3,23.3,0,0,0,7.89-1.06s0,3-1.82,3.79a10.61,10.61,0,0,1,8.64,3c-3.34,1.82-12.44,10.93-5.31,21.7,5.31,8.19,16.54,8.94,16.54,8.94s-2.58,7.44,8.19,6.68c23.21-1.06,49.15-11.23,61.13-8.65,12,3,18.82,4.1,27.31,18.82,9,14.56,16.84,16.84,16.84,16.84s5.31-13.51,4.1-33.68a100.16,100.16,0,0,0,7.13-34.13l-7.89-58.1-34.43-43.54-44.6,24.73-3.34,8.64Z" style="fill:#e3c571;fill-rule:evenodd"/><path d="M704.64,705.4s3.34,7.89,17.3,8.64c-1.52,3.34-1.52,3.8-1.06,6.37.3,2.58.75,6.37.75,6.37a14.11,14.11,0,0,0,4.1-3c.76,3.34-.76,8.64,0,12.44a27.63,27.63,0,0,0,2.27,6.67,13.4,13.4,0,0,1,.76-1.51c.3-.76,3,8.19,10.47,15a6.22,6.22,0,0,1,.75-3,10.52,10.52,0,0,0,1.82,5.31,5.54,5.54,0,0,1-1.51-1.06s.75,24,4.85,36.41a17.05,17.05,0,0,0,1.82-2.58c0-.75-.3,6.68-1.06,12-1.06,5.31-.3,12.74-.3,12.74a39.81,39.81,0,0,1,8.94-5.31c4.55-1.83,12-7.44,16.54-19.88a132.83,132.83,0,0,0,6.07-21.69,30.28,30.28,0,0,1,3,9c.31,3.79,7.44,1.82,7.44,1.82l1.52-16.54,9-37.47,8.19-23.21,39.44-61.43L917,586.61l62.2,14.26,52.48-71.3-90.41-54.31-85.56,8.95L778.06,591.76l-62.19,97.55-11.23,16.08h0Z" style="fill:#d8b65b;fill-rule:evenodd"/><path d="M1152.76,549.76s-5.31,1.06-20.63,9-25.94,10.46-31.86,22.14-6.37,20.94-6.37,20.94,10.47-4.55,16.54-6.07c6.37-1.51,13.5-1.06,12.74,1.52a17.59,17.59,0,0,1-3,4.85s12-.3,11.68,5.62-2.27,12.44-4.54,15.32c-2.28,3-11.68,7.44-12.74,10.93-2.58,7.13,1.06,7.43-.31,13.19-1.06,5.62-6.06,16.54-22.45,35.65-16.84,19.12-24,32.62-24,32.62s-8.19-15.32-12.44-28.52c-3,1.51-19.11,10.46-19.11,10.46l-37.32-130,.75-8.65s3.34-4.09,4.1-11.68c-5.61-1.82-6.37-3.34-13.81-10.46s-13.5-15.78-25.93-21.7c-1.82-3.34-4.1-7.88-13.2-9.71s-14.56-3.33-14.56-3.33,4.85-1.83,7.13-5.62c-5.62.76-10.16,2.58-22.45,2.28-12.44-.31-13.81-.76-20.63.3s-15,4.1-18.05-6.37c-3.34-2.58-10.47-.3-16.54,8.64s-8.19,16.08-19.87,19.57a40.71,40.71,0,0,1-5.31,14.56c-3.34,5.62-8.65,11.23-15.78,19.57-11.23,13.2-9.41,34.89-27.31,51.43-18.05,16.53,3-45.82,3-45.82l28.82-69,82.07-80.25,127.43-8.64,12.44,66,62.2,21.39,39.29,59.92h0Z" style="fill:#d3ae4d;fill-rule:evenodd"/><path d="M1172.94,564.32l-53.55-77.21-37.47-28.83s-26.7-49.14-28.52-50.66c-1.52-1.06-26.7-3.79-42.78-4.85l3,7.43a19.69,19.69,0,0,1,9,6.07c7.13,8.19,11.68,23.66-4.55,40.2,6.37,2.27,9,3,14.56,2.27-5.61,6.68-18.35,20.94-19.11,33.38-.76,10.16,5.61,13.19,5.61,13.19s-9.71,11.23-10.16,30a121.56,121.56,0,0,1,15-14.26c11.23-9,26.7-19.12,37.17-25.49a21.42,21.42,0,0,0,1.06,7.89s19.56-16.08,36-8.95c7.43,3.34,4.09,13.81,4.09,13.81s10.17-3.79,17.3,3.34,17.29,25.48,22.45,32.62c2.27,3.34,8.19,9.71,14.25,19.56a247.31,247.31,0,0,1,20.64,43.54c.3-6.07,1.52-14.56,12-14.56l-15.93-28.52Z" style="fill:#caa13e;fill-rule:evenodd"/><path d="M370.15,783.68s-3.79-9.41,0-27.76,9.71-27,11.68-54,19.57-60.68,19.57-60.68l48.69-22.14,34.44,9.4,10.16,46.12-43.54,24s-2.27,10.16-14.56,18.35-29.28,14.56-33.37,22.91a66.79,66.79,0,0,0-5.31,16.08s-12.44-2.58-19.87,5.61c-7.89,8.35-7.59,15.78-7.89,22.15Z" style="fill:#f4efc8;fill-rule:evenodd"/><path d="M468.45,771.39s-4.1,2.58-7.13,9c-3-4.85-10.17-33.68-10.47-59.62S449,688.4,455,679.46,484.53,661.1,481.19,645c-3.34-15.32-17.3-21.69-34.44-17.29-12,3-20.93,28.52-33.37,41.26-9.41,9.71-20.63,8.19-23.66,13.5-4.1,7.13-.31,14.26-1.52,18.81-.31,1.52-4.1,9.71-10.93,19.57-13.8,19.87-37.16,47.94-40.2,73.12,1.06-14.26.31-14.56,4.1-30.34l-2.28-3.79,15-49.15,9.71-40.5,21.7-67.82,38.22-69.32,37.17-41.57,38.68,2.58,4.55,58.1,22.15,109.08,46.57,57.34L498,768.81l-29.58,2.58h0Z" style="fill:#ebcc73;fill-rule:evenodd"/><path d="M491.66,792s-6.37,1.52-8.65.31-4.54-2.58-3.79-4.1,4.85-4.09,4.85-5.31a4.25,4.25,0,0,0-3.79-4.55c-3.49-.45-4.55,1.82-4.55,1.82s-3.34-2.57-6.06-3a41.93,41.93,0,0,1,4.85-.31,47.29,47.29,0,0,0-13.2-3.79c3.79-2.27,11.23-8.95,16.08-8.95s7.89-.75,7.13-3.33-4.55-6.37-8.64-7.89c1.51-1.82,2.58-4.55-1.06-12-3.8-7.43-2.28-12.44-1.06-14.25,1.06-2.28,4.85-6.37,6.67-8.95s3.34-6.07,6.37-7.89c1.52-1.06,6.37-3,11.23-4.85,5.31-1.82,9.71-4.1,12.74-1.82,3.34,2.27,1.82,5.31,1.82,5.31s10.47-3.8,19.87,1.06c9.41,4.54,32.32,7.43,32.32,7.43L573,733.48l-54.31,46.57-22.45,11.23-4.55.75h0Z" style="fill:#e5c66b;fill-rule:evenodd"/><path d="M567.05,715.87s-16.84,11.23-20.63,15.32c2.27.31,6.06,1.83,4.54,4.1-1.82,2.27-12.74,10.16-18.81,17.6-6.37,7.43-12.44,16.84-14.56,21.39-2.27,4.09-19.57,16.08-25.48,17.59,12.44,0,37.47-15.32,46.87-15.32-.3,4.55,2.58,9.71,7.89,10.16s20.63,3.34,41.26-9.4c20.63-12.44,13.81-21.7,22.45-27.76,16.54-10.93,23.21-20.64,32.31-26.7s13.81-7.44,13.81-7.44.3-4.55,3-4.09a4.08,4.08,0,0,1,3.34,2.58s15.78-11.23,36-14.26a2.1,2.1,0,0,1-1.06-1.06s1.51-.76,1.82-1.52c0,0,1.06-1.52,1.82-.76s1.82,6.37,3.34,8.65c3.34-1.52,9.71-15.78,9.71-15.78L730,645.33V605.28l-12,2.28-90,38.22-54.62,56.59-6.37,13.5Z" style="fill:#e6bd62;fill-rule:evenodd"/><path d="M826.15,519.42A50.87,50.87,0,0,0,840,513.8c-1.82,4.86-1.82,10.17-9.71,21.7s-8.19,13.2-14.56,25.18c-6.37,12.44-7.13,30.34-13.2,38.22a27.74,27.74,0,0,1,8.64-2.57s-6.06,5.31-8.64,10.92-7.13,17.29-18.35,24.43-25.49,11.68-40.81,28.52c-15.33,16.53-31.1,37.47-39,45,4.1-7.13,9.71-21.39,11.23-30.79s-.31-20.64,2.27-33.07,2.58-21.39,15-43.09,33.68-97.09,33.68-97.09l45.81-14.56,13.81,32.77h0Z" style="fill:#b6933f;fill-rule:evenodd"/><path d="M793.08,491.66s-13.8,19.87-17.59,37.47-.31,16.08-2.58,24.73a32.25,32.25,0,0,0,0,16.08A57.09,57.09,0,0,1,792,551.12c13.05-7.88,23.67-13.5,30-20.17,6.37-7.13,11.68-18.81,25.48-27.76-5.61-.76-13.5-3.34-15-3,5.62-6.37,22.45-16.08,39.44-27.76,16.84-12,15.78-16.84,43.09-28.82-8.95,1.52-13.2-.76-20.64,0,3-6.37,13.5-9.41,24-19.87s-6.67-25.94-6.67-25.94l-80,48.39-38.68,45.51Z" style="fill:#c49937;fill-rule:evenodd"/><polygon points="576 455.55 577.82 440.99 600.73 404.28 624.7 339.81 624.7 251.67 622.88 200.7 626.67 167.32 629.55 156.71 632.59 152.61 652.15 162.77 679.16 199.48 681.74 270.33 655.49 382.13 580.55 463.9 576 455.55" style="fill:#dfc068;fill-rule:evenodd"/><path d="M635.62,148.51s-12,.31-14.56,50.22-3.8,76.15-5.62,100.88-6.06,39.74-8.19,54.31-3.34,34.43-10.16,46.57c-3,5.61-9.41,23.21-24.43,36.41-16.84,14.56-42,24.73-45.81,25.49-6.68,1.51-40.51,4.85-54.31,12.44-4.85,2.58-13.2,5.61-22.45,14.26-18.36,16.53-42.78,46.11-60.38,81.76-27,53.25-54,203.58-54,203.58l6.07-10.16s.76-13.5,14.26-37.17c13.2-23.66,9.41-50.21,27.76-95.57,7.13-17.29,16.08-39.74,27-58.86,17.3-31.1,38.23-57.8,59.32-72.36,34.43-23.66,72.36-28.82,72.36-28.82l40.81-27s7.13-13.8,16.54-29.58c13.19-22.14,30-46.87,33.67-82.82,5.62-53.25-7.89-88.14-7.13-119.69s1.06-54.76,7.44-60.38,1.82-3.49,1.82-3.49h0Z" style="fill:#a88f33;fill-rule:evenodd"/><path d="M635.62,386.68s18-44.3,26.24-83.59c1.52-7.89,4.55-15.77,5.31-22.14,3.79-37.17,4.85-52.49,0-72.82-3.79-15-18.35-28.52-25.94-39-7.43-10.93-10.92-15-9.4-17.3s7.43-6.06,13.19-5.61a45.17,45.17,0,0,1,32.32,15c11.68,13.5,20.93,59.32,20.93,59.32L708,281l24.73,76.15-97.09,29.59h0Z" style="fill:#c99e3d;fill-rule:evenodd"/><path d="M804.76,340.57s-3.34,1.51-9.4,0a13.53,13.53,0,0,1-6.07,12.74c-6.37-2.58-66,2.58-66,2.58s-27.76-4.86-36.41-41.57c-6.06-24.43,4.55-58.1,1.06-80.25-5.31-32.62-12.74-39-13.5-49.15s-1.52-12.74-1.52-19.11c-3.34-.76-5.31-1.82-8.64-1.82-.76-3,.75-5.62-2.58-10.93,1.82.76,14.26,2.28,28.82,16.08,12,11.23,12,15.32,13.81,17.6,2.27,2.27,20.63,18,28.52,33.68s23.21,65.68,26.7,73.87c1.06,3.34,3.34,6.68,9,14.26,8.8,10.93,21.69,29,36.25,32h0Z" style="fill:#b58634;fill-rule:evenodd"/><path d="M706.47,187.5a420.38,420.38,0,0,1,24.72,46.12c8.95,20.17,14.26,36.71,25.49,50.21-6.07-17.59-16.84-52.18-23.21-64.47-7.13-13-21.69-27-27-31.85h0Z" style="fill:#a88f33;fill-rule:evenodd"/><path d="M603.31,436.9s-15.32,3.79-43.84,18.81c-9.41,4.85-18.35,8.94-27,12.74C510,478.61,485.9,488,466.78,493.18c1.52,1.82,2.27,2.57,2.27,2.57s0,7.44,4.1,11.68c-2.27,2.28-32.62,22.91-23.66,91.93,6.06-2.27,13.19-5.31,14.25-5.31,1.83.31,2.28,5.31,4.55,5.31s9.71-3,17.6-13.2c-.3,4.1-4.85,45.36,19.57,73.12,4.55-5.31,16.08-22.91,16.08-22.91l.3-5.61s1.06-19.57,7.44-37.47,18.81-31.1,18.81-31.1L613,469.5l-9.71-32.61h0Z" style="fill:#e6c367;fill-rule:evenodd"/><path d="M542.63,573a35.86,35.86,0,0,1-9.71,4.85c-1.06-3.79-2.58-16.84,6.37-29.58,10.47-15.33,33.37-35.2,39.74-51,4.1-10.17,2.28-35.65,38.69-68.27s50.66-43.84,50.66-43.84l58.86-29.58L799.6,384.1,763.65,525l-27.91,66-111-20.93L542.62,573h0Z" style="fill:#dcba5a;fill-rule:evenodd"/><path d="M585,534.74l13.81-17.29V505.16s15.32-4.1,31.85-20.94,39.44-49.15,59.62-47.18c20.18,2.28,22.15,43.84,22.91,55.53s3.34,38.22,7.43,52.49c4.55,14.26-49.15,68.26-49.15,68.26L635,641.08,585,534.74h0Z" style="fill:#e9ce77;fill-rule:evenodd"/><path d="M627.73,678.7s11.23-17.6,3-21.39c4.85-10.92,13.8-22.45,13.8-22.45s6.37-15.77,27-35.19,33.38-32.32,36.72-45.36a119.5,119.5,0,0,0,3.34-25.94,49.24,49.24,0,0,0,7.13,4.85c3.34,1.52,19.11,14.56,16.84,40.81s-12,37.17-12,37.17-9.4,9.4-16.07,14.26c-7.14,4.85-9.71,10.46-21.7,10.92a14.35,14.35,0,0,1,4.1-2.28s-12.44-1.51-19.12,4.55S649.89,663.38,642.76,669c-7.13,4.55-15,9.71-15,9.71h0Z" style="fill:#cdae50;fill-rule:evenodd"/><path d="M1132.13,383.64a182.69,182.69,0,0,0-55.82-10.92c-31.86-1.06-78.43.76-124.09,1.06-49.15.3-93.75-16.84-155.64-19.87-10.16-6.07-36-32.62-116.66,23.66,4.85-.3,58.56-12.44,77.21,10.93,18.81,23.21,13.5,62.65,10.93,72.05-4.86,20.94-20.64,51.43-27,72.82S736.2,566,731.65,581s-14.56,22.45-8.65,39.74c7.89-4.85,12-4.85,25.18-34.43s10.47-50.67,32.32-75.7c21.39-25.18,57-59.62,70.54-68.27s121.05-64.47,233.62-11.22c27.15-2.88,47.48-47.49,47.48-47.49h0Z" style="fill:#d2a83e;fill-rule:evenodd"/><path d="M725.27,363a13.9,13.9,0,0,0-.75-3.34,24.35,24.35,0,0,0-4.1-6.07s-26.7-4.85-40.2-3.34c-23.67,2.58-45.06,31.86-55.07,46.88s-22.45,38.22-35.95,50.21a5,5,0,0,0-.76-3.34s.76,1.06-.75,2.58-1.52,2.27-.76,3l2.28,2.27c.75,0,21.69-9.41,50.21-36,30.34-27.76,53.55-42,65.69-46.88A92.4,92.4,0,0,1,725.28,363h0Z" style="fill:#c29637;fill-rule:evenodd"/><path d="M1243.18,248.94s-4.86,6.06-10.93,12.74c-13.5,14.26-31.1,30.33-46.12,46.87-14.25,15.78-30.33,28.07-48.39,48.7s-39,43.53-44.3,50.21c-4.85,6.68-8.64,17.6-8.64,23.21-2.58-1.82-5.61-3.79-5.61-3.79a38.11,38.11,0,0,0,4.55,6.68c3.79,5.31,9.7,12,12.74,16.08a49,49,0,0,1,7.88,17.29c1.82.3,13.5,2.58,28.07-21.39s33.67-50.21,33.67-50.21l30.34-45.06,19.12-38.22,24-42.78,3.65-20.33h0Z" style="fill:#ac8132;fill-rule:evenodd"/><path d="M1274.28,218.3s-18.36,15-25.49,24-24,32.62-24,32.62l6.07-.76,30.8-27.3,12-21.39.61-7.13Z" style="fill:#a88f33;fill-rule:evenodd"/><path d="M1268.66,1423.85s-.3-12.44,6.68-19.87c7.13-7.44,25.18-18.36,42.78-59.32s19.56-50.21,19.56-50.21-31.55,27-51,33.37c4.55-9.41,7.13-16.08,9.41-20.94-2.58-2.27-13.5-4.85-14.56-6.06,6.06-6.07,9.4-20.94,21.69-30.8,15.78-12,44.6-32.62,67-51s66.44-61.13,72.06-73.57c3.34,4.85,4.09,7.88,4.09,7.88s-22.14,28.83-33.67,47.18c-10.17,15.78-9.41,24.73-9.41,24.73l20.94-9s6.06,22.45-21.39,56.59c12-4.55,16.84-1.82,23.66-5.62-11.23,7.14-26.7,16.85-41.26,43.54-14.26,26.7-33.68,57.8-66.44,77.21-31.86,20.48-50.22,35.8-50.22,35.8h0Z" style="fill:#a67a2e;fill-rule:evenodd"/><path d="M1186.44,399.43s-12.44,25.93-14.26,46.11c-.3,4.86-1.52,8.65-1.52,14.26-.3,18.05,1.06,38.23-3,47.63-1.52-3.79-2.28-6.37-3.8-7.88-2.27,6.37-6.37,26.24-9.71,33.67-1.51-4.85-4.85-21.69-4.54-41.56s.75-23.67.75-27.76c-.75,6.06-4.85,14.26-6.37,19.11-2.27-4.09-4.85-9.4-7.89-13.8-1.82,3-4.09,7.43-6.06,9.71-.31-1.82-1.06-6.68-1.52-13.5-.3-7.89-.76-18.05-.3-20.18.75-4.09,7.13-20.17,20.63-34.89,16.08-17.6,32.62-51.42,37.47-61.89s25.48-54,25.48-54h15.78l-22.91,52.18s-13.8,28.52-20.93,39-22.15,40.51-28.83,52.19c4.85-6.37,8.95-9.71,13.81-15.78,4.7-4.25,17.74-22.6,17.74-22.6h0Z" style="fill:#8c6228;fill-rule:evenodd"/><path d="M1274.58,216.32a65.31,65.31,0,0,1-12,21.7c-9.41,11.23-29.59,26.24-39.44,38.22-9,11.68-27,43.54-18.82,81.31,3-8.19,8.65-24.42,23.67-42.78s31.1-39.44,39-55.82c7.88-16.54,8.94-29.58,8.94-29.58l3-3.79-1.82-8.65-2.58-.61Z" style="fill:#cba94c;fill-rule:evenodd"/><path d="M1581.77,1222.54s-6.07-16.53-7.89-31.55,3-18-2.58-35.19c-3.34-10.47-9.4-9-10.92-10.47s-2.58-17.29-2.28-25.94-.3-19.87-1.82-24.73c-2.27-1.82-3.79-3.34-7.13-14.56-3.79-11.23-5.61-16.84-7.43-20.17s-7.14-6.37-7.14-9.71c0-6.68,6.07-10.16,6.07-12-.3-3.79-4.85-.75-6.07-1.82-1.51-1.82,3.8-12.74,1.83-14.26-.76-.75-6.07,5.62-7.44,3.8-1.52-1.83-3.34-19.88-6.07-31.86-2.57-11.68-5.31-20.17-5.61-23.66-.3-3.34-20.94-62.2-25.94-76.46a361.49,361.49,0,0,1-10.16-36.71c-1.52-7.13-2.58-21.7-3.34-20.18s-.3,8.95-1.52,8.65c-1.06-.31-4.85-26.24-6.06-30.34-1.06-4.1-7.44-18-9-28.06-1.52-10.17-4.85-36.72-7.13-54.77s-3.34-25.48-3.34-30a186.94,186.94,0,0,0-1.82-33.07c-3-19.12-9-42.33-14.26-55.82-10.16-25.49-37.17-90.72-42-106.95,0-4.1,5.31-1.82,5.31-1.82s13.19,33.07,22.9,58.55c9.41,25.49,18.36,47.94,20.64,50.22,1.82,2.27,16.08,27.3,22.45,68.26s8.64,78.73,12.44,103.91c1.82,12,3.34,24.73,7.13,37.47,4.09,13.81,10.46,28.07,18.81,49.91,7.13,18.36,12.44,33.68,15.32,46.88,3.34,16.84,3.34,29.58,5.31,37.93,1.83,7.13,4.55,21.38,10.93,42s15.77,47.18,22.14,63.71c12.45,33.07,18,60.68,19.88,75.4,1.66,15.17,7.28,67.66,5.76,83.43h0Z" style="fill:#a88f33;fill-rule:evenodd"/><path d="M1275.34,214.5l-.76,1.82s2.27.76,1.82,3.8a90.7,90.7,0,0,1-.76,12.44c-.75,5.31-2.27,9.4-2.57,12.74,0,7.13,1.06,15.32-9,35.65-3,5.61-4.85,10.46-6.37,13.8-3.79,8.19-4.55,9.41-7.89,13.2,5.31-3,24.43-15,34.13-13.2-6.67,3.79-16.84,11.23-23.21,20.94,1.52.3,7.89,1.52,18,0,16.84-2.58,35.65-8.65,52.18-7.44,18.06,1.06,10.93-21.69,10.93-21.69L1321,240.75,1281.56,213l-6.22,1.51Z" style="fill:#be9c44;fill-rule:evenodd"/><path d="M1378.19,557.65s-17.6-17.6-24.73-78c-7.13-60.68-5.61-150-5.61-150l-14.26-34.89s-3-23.21-10.47-31.85-22.14-23.21-28.82-30.34-14.26-16.84-18.81-18.36c2.27-3.79,12.44-25.18,51.42-25.48s51,21.39,55.07,29.28,22.45,42,29.27,107c6.37,64.92,6.68,69.78,5.62,92.23-.76,12.44-4.86,41.26-12,72.05-6.52,26.1-13.65,55.23-26.7,68.42Z" style="fill:#a17c34;fill-rule:evenodd"/><path d="M1323,609.38a29.79,29.79,0,0,0,16.84-3.8c5.61-.3,25.94,2.28,41.56-17.59,1.06,4.54,3.8,16.84-3.34,27.76,3.8-3.8,9.41-5.31,10.17-6.37.3,5.61,5.61,22.9-16.84,64.92,6.06-6.67,13.19-6.37,19.56-7.13.31,7.89,4.55,34.43-6.67,48.7-7.43,9.71-19.57,6.67-19.57,6.67a38.15,38.15,0,0,0,0-6.37c-.3-4.1-1.82-8.19-.75-10.92a54.42,54.42,0,0,1-15.78-10.93c-13.2-12.44-30.34-33.67-31.55-49.45-1.52-17.6,14.26-21.39,14.26-21.39a16.87,16.87,0,0,1-3.34-4.1c-.76-2.57-1.52-6.67-4.55-10h0Z" style="fill:#8c6228;fill-rule:evenodd"/><path d="M1206,418.54s-.76-1.06-4.85,3.79c.76-4.85,1.52-9.41,1.82-13.81a47.6,47.6,0,0,1,7.44-11.22c-2.28,4.54-3.8,8.64-3.8,8.64s5.62-10.47,13.81-16.84c5.61-4.55,12.74-6.67,15.77-10.92,3.34-4.55,2.58-5.31,3.34-6.07,0,0,7.44-4.85,18.82-19.12,1.51-1.82,3.79-3.79,5.31-5.61,2.57-1.06,8.64-3.79,15.77-7.44,7.44-4.09,15.78-9.7,20.94-12,10.16-4.55,20.94-4.09,25.94-11.23,3.79-1.06,7.88-12.44,7.13-22.14,5.61,2.27,34.43,20.17,44.3,59.31,7.13,27.76-5.62,70.54-10.93,91.18s-6.06,35.95-13.5,45.35c-9.41,12.45-39.74,30-47.18,38.69-6.37,7.13-25.48,25.18-24.73,38.22.76,9.71,12.74,15,15.33,16.84s2.57,4.1,7.43,3,6.67-3.34,8.65-3.34c2.27.3,2.27.76,3.33.76a10.94,10.94,0,0,0,2.28-.31s-.76,13.81-33.07,18c-2.28.31-4.55,1.06-7.44,1.52,3.8-1.82,6.07-1.82,10.17-7.43-4.55-.76-17.6-1.52-20.94-2.58,1.06-1.82,4.55-6.68,7.43-8.95,2.58-2.27-.3-3-2.57-1.82a121.45,121.45,0,0,0-11.23,8.64c-3.79,3.34-7.13,7.89-13.2,12-1.82-6.07-1.52-17.6,5.62-25.94-1.83.3-5.32,5.61-8.65,4.55a48.31,48.31,0,0,1,1.06-16.54c1.82-6.83,11.68-18.81,11.68-18.81l47.63-85.11,10.16-64.47L1206,418.52h0Z" style="fill:#92723a;fill-rule:evenodd"/><path d="M1203.43,422.18s-2.58,1.82,2.58,5.31c-.76,1.06-2.58,4.85-4.86,7.43-2.57,3-5.31,4.86-6.37,7.44-2.27,5.31-4.09,8.95-4.09,11.23s-.76,16.84-7.13,26.24c-2.28,3.34-4.86,8.95-6.68,12.74-3.79,6.67-7.13,12-7.89,15-1.51,5.31-2.57,19.87-2.57,19.87s3.34-4.1,4.55-5.61c-1.83,3.79-3.8,7.88-6.68,10.92,1.82-1.52,7.13-5.31,16.08-13.2,12.44-10.46,31.86-28.06,55.53-42-7.14,2.58-13.2,2.58-18.05,3.34,3.79-3.79,37.92-43.84,55.82-47.63a7.14,7.14,0,0,0,1.52-4.86l-15.33-1.51-31.1,6.67-4.54-24-20.79,12.59Z" style="fill:#b18e3e;fill-rule:evenodd"/><path d="M1252.89,558.71s-4.1,4.09-7.89,14.26a47.8,47.8,0,0,1-7.44-10.17c-5.61-9.4-14.25-21.39-34.43-14.56-.3-6.37-.76-9.71,0-14.26,3.34-.75,13.5-8.94,23.66-20.93,7.14-8.19,13.81-17.6,18.36-29.58,3-2.28,8.19-6.07,15-10.47,9.71-6.67,21.39-15.78,23.21-25.94-4.55,1.82-14.26,6.37-28.83,5.62,5.62-2.58,14.26-5.31,13.2-16.54,2.28-1.52,4.1-2.58,4.1-2.58a15,15,0,0,0-5.31-.76c-.31-1.06-.76-2.57-3.34-1.82s-3,.76-3.34,1.82c-1.06.31-4.55,0-7.13,1.83s-9.71,7.88-12.44,8.94c1.06-1.82,2.57-4.54,2.57-4.54s-7.43.75-12.74,3c-9.71,3.34-20.93,9.41-32.31,15.32,1.06-1.82,1.52-3,2.27-3.34s2.58-.75,2.58-1.06-.75-3-.3-4.09a139.18,139.18,0,0,1,12-20.63c5.31-7.14,6.37-17.3,6.37-17.3l23.21-11.68,65.23-15,42.33,2.58-5.31,29.28-25,51.12-21.39,46.57-24.43,28.53-22.45,16.38h0Z" style="fill:#543e26;fill-rule:evenodd"/><path d="M1358.62,432s-25.49,31.55-32.62,36.41c4.55-9.71,32.62-67.51,42.78-83.59-2.27-1.82-5.31-1.82,1.82-30-6.06,14.25-8.19,21.69-13.19,25.48s-5.62,2.58-9,2.58a6.34,6.34,0,0,0,.75-3.79s-21.39-2.58-36-2.58-43.53,7.89-59.62,14.26c-12.74,5.31-19.87,5.31-24.42,8.64-4.55,3.79-7.13,7.89-9.41,8.95-1.82,1.06-10.46,3.79-12.44,6.67-1.82,3-4.85,6.37-4.85,7.13s-.76,1.83,1.52,1.06c.75-.3,6.37-3.34,12.74-7.13,8.64-4.85,19.11-10.46,26.7-13.8,21.69-8.65,28.52-7.13,38.22-8.95,10.16-1.82,24.73-6.07,34.43-6.07,9.71-.3,28.07,0,32.32.76-1.82,1.52-3.34,3.34-2.58,9.71,0,1.82-1.52,3.79-3,8.19-4.54,12.44-13.19,33.07-18,43.54-6.67,14.25-14.25,26.24-18,33.67s-12,27-20.17,37.47-12.44,16.84-15,19.12-20.94,15.77-19.57,20.63c3.34-1.06,24.43-9,39.74-26.24s18.36-27.76,30.34-37.17,21.39-25.18,27-38.22c4.7-12.14,3.64-15.93,9.55-26.7h0Z" style="fill:#806031;fill-rule:evenodd"/><path d="M809.32,667.48s-3.34,13.8-10.93,20.63c-7.43,6.68-20.63,12.44-22.14,23.67-1.82,11.22,13.2,16.84,13.2,16.84s-8.2,13.5-8.2,23.66c0,10.47-.3,12.44.76,22.45a10,10,0,0,0-3,3s.75,9.71,8.19,15.77,13.8,9.71,17.59,8.19a35.78,35.78,0,0,1,1.52,3.8s5.62-14.26,9.41-26.7c3.79-12.74,7.13-10.93,8.64-28.07s18-46.57,18-46.57L853.61,679l-18.35-14.26-25.94,2.73Z" style="fill:#b6903c;fill-rule:evenodd"/><path d="M843.45,692.2A110.44,110.44,0,0,0,833,704.64c-4.85,6.68-8.64,12.74-15.77,15.33s-11.68,2.57-11.23,9.71,7.13,10.16,10.92,13.8c4.1,3.79,7.44,10.16,5.62,17.3,2.27-1.06,6.37-2.28,10.16-10.47S863,692.21,863,692.21H843.45Z" style="fill:#685026;fill-rule:evenodd"/><path d="M948,577.06s2.27-6.06,0-10.46c-2.28-4.55-16.08-6.07-22.91-11.23-7.13-5.31-15.78-9-22.91-6.67,1.06-2.58,5.31-8.2,1.82-9.41-3.34-1.06-15.77,4.55-19.11,7.13s-10.93,5.61-12.44,7.44-4.1,5.31-5.62,3.79c-1.52-1.06-2.27-3.79-4.85-2.28s-15,11.68-17.29,17.6-7.44,19.12-22.91,34.13-22.15,24.73-17.6,30.34,6.68,1.52,7.44,6.37a40.91,40.91,0,0,1-.76,14.26c-1.82,7.89-4.85,15.32-.76,16.84,10.47,3.34,20.64-3,22.91-1.06,4.55,4.09-2.58,18.81,8.19,21.69,10.93,3,21.7-2.58,21.7-2.58l39.74-21.39,38.23-20.17,19.56-38.69L949.94,580.4l-2-3.34Z" style="fill:#d4b968;fill-rule:evenodd"/><path d="M910.5,669.45s-6.68-10.16,1.52-19.12,19.87-12.74,24.42-18.35a7,7,0,0,0-3.34-2.27,30.21,30.21,0,0,1,13.2-12.45c-2.27-2.27-5.31-4.09-8.64-4.09-7.44,0-12,4.55-18.82,4.55-6.67,0-7.43-3.34-7.43-3.34s11.23-1.06,10.16-6.07c-1.06-5.31-3-5.31-3-5.31s21.69-9,25.48-13.8,3.34-10.47,4.1-12.74c2.57,0,17.59-7.89,23.66-4.55s1.82,12.44,1.82,12.44S992,570.54,1001.36,557c8.19.76,12-5.61,18-5.61,7.44,0,19.12,10.16,21.39,31.85,1.52,12.44,3.79,19.57,1.52,41.57-1.06,12.44-.76,39,3,52.18,2.57,10.47,8.64,9.41,8.64,9.41a17,17,0,0,1-5.31,8.19c-4.1,3.79-4.55,13.81-4.1,17.6a75,75,0,0,0,2.28,8.19s-4.85,5.61-6.07,9.41c-1.06,3.79-6.06,6.37-9.71,6.37s-1.82-.31-6.67,0-6.37,1.06-9.41,0-5.31-2.28-4.09-12c1.06-9.71-37.47-32.31-37.47-32.31l-63-22.45h0Z" style="fill:#cca849;fill-rule:evenodd"/><path d="M838.14,765.32s13.8,18.36,70.54,18.36c27,0,36.41-2.58,42-4.1,6.07-1.52,28.82-10.46,51.73-37.47,20.63-24.42,16.08-34.43,16.08-34.43l-12-1.82-39,5.31L852.09,760.32l-14,5Z" style="fill:#585136;fill-rule:evenodd"/><path d="M880.46,769.87s-49.15,10.93-49.15-20.17c0-30.34,30.34-62.2,37.93-67.81,7.89-5.62,26.7-12,26.7-12H941.3l8.64,22.91-3.79,49.45-65.69,27.61Z" style="fill:#252211;fill-rule:evenodd"/><path d="M925.82,679.16s-9.4-8.65-30.79,3-38.69,36-39.75,58.11c-1.06,19.56,16.08,34.13,42.78,34.89,19.87.75,31.86-1.52,37.93-3-1.52-1.82-9.41-11.68-9.41-11.68l-.75-81.31h0Z" style="fill:#c3b378;fill-rule:evenodd"/><path d="M916.57,684s-2.27-1.82-9,1.82c-5.61,3-13.8,10.93-20.17,16.54-4.1,3.34-6.68,4.85-9,7.43-9.41,11.23-17.3,29.59-12.74,38.69s19.57,19.57,57.8,12.44l-7-76.91h0Z" style="fill:#e6d89c;fill-rule:evenodd"/><path d="M904.13,702.82s-6.07,9.41-6.07,24.43c0,15.32,8.65,39.74,40.51,41.56,24.42,1.52,40.8-35.19,58.55-49.45,13.5-10.92,21.69-11.23,21.69-11.23s-13.8-15-50.66-34.43c-36.41-19.57-77.22-22.15-99.37,7.89,10.47-.76,44.3-9.41,44.3-9.41l16.54,5.31-25.49,25.34h0Z" style="fill:#252211;fill-rule:evenodd"/><path d="M951.76,722.69c-1.06-2.27-1.82-5.31,2.58-6.06s6.37-.31,7.89,3,3,6.07.75,7.44c-2.27,1.21-8.19,0-11.23-4.4Zm-7.13-21.39s-1.52,1.06-.76-1.06c.3-2.57,2.28-7.13,7.13-6.06s3.8,6.37,3,7.89-4.85,4.09-7.89,3a2.53,2.53,0,0,1-1.52-3.79Z" style="fill:#6f674d;fill-rule:evenodd"/><path d="M534,711s12,9,25.94,8.65c13.8-.31,31.55-14.56,39.74-23.67,4.85-5.31,9-10.92,13.5-15.32,3.8-3.79,6.37-5.61,8.19-8.19,2.58-3,5.31-8.64,6.68-10.47-3.34,2.58-8.19,7.14-13.2,10.17-4.85,3-15.32,8.64-19.57,10.16-4.09,1.52-46.57,24-46.57,24L534,711h0Z" style="fill:#ac924c;fill-rule:evenodd"/><path d="M552.34,598.91s6.67-4.55,19.57-7.44c12.44-3,37.47-5.31,37.47-5.31l20.63,9,8.19,31.1-15,32.32-19.11,12-21.7-34.89-30-36.72h0Z" style="fill:#9f8e57;fill-rule:evenodd"/><path d="M525.34,626.67,518.2,632s1.83-3.34,3.34-13.5,9.41-34.89,20.94-49.15,11.23-13.5,11.23-13.5a7.59,7.59,0,0,0-6.07,1.51C549.16,554,558.87,542,568.58,536s13.5-7.89,23.66-3,12.74,7.43,20.18,7.13,13.8-8.19,13.8-8.19,1.52,4.85-4.09,16.08-27.76,34.13-27.76,34.13l-46.12,31.55-22.91,13h0Z" style="fill:#eac970;fill-rule:evenodd"/><path d="M559.46,595.12s33.38,4.55,43.54-4.85c.3,1.06,1.52,1.06,1.52,1.82a2.65,2.65,0,0,1-.76,1.51,24.44,24.44,0,0,1,3.34-.3,19.7,19.7,0,0,0,4.1.76,23.67,23.67,0,0,0,3.34-.31,5.67,5.67,0,0,1-2.28,3.8c1.52,0,3,.3,3,1.51s.3,4.86-1.52,5.62a6.88,6.88,0,0,1-4.55-.31,18.72,18.72,0,0,0,2.28,8.2c3,5.61,9.4,12,18,10.16,0,0,4.54,10.92-14.57,35.19-2.57,3.34-5.31,7.89-8.64,11.68a44.32,44.32,0,0,0-3,8.95s32.32-12.44,41.57-40.81c9.41-28.52,11.23-56.58,9.41-82.82-.31-7.44-1.52-12.74-3.34-16.54-4.55-9.41-17.3-7.89-22.45-2.58-7.44,7.44-19.88,25.94-37.17,38.68-17.6,12.74-18.35,15-31.86,20.64h0Z" style="fill:#d7bc6b;fill-rule:evenodd"/><path d="M519.42,636.08s-6.37,3.79-9.71,18c-3.34,14.56,3,32.31,6.67,37.92s12,20.94,29.28,21.7a32.1,32.1,0,0,0,12.44-2.58,78.7,78.7,0,0,0,16.84-10.47c7.44-5.61,13.5-10.46,12.74-10.92-1.82-.76-45.81-37.17-45.81-37.17L525.33,634.1l-5.92,2Z" style="fill:#585136;fill-rule:evenodd"/><path d="M561,696.45s8.95-.75,14.26-4.09-31.1-39.44-31.1-39.44l2.58,39L561,696.45Z" style="fill:#453a25;fill-rule:evenodd"/><path d="M522.3,633.34s-4.55,8.65-4.55,10.93c-.76,7.43,1.52,30.79,3.34,38.22,1.82,7.89,11.68,19.87,24.43,19.87,7.88,0,18.81-4.85,18.81-6.06,0-1.52-11.23-3-14.26-8.65-1.82-3-2.58-10.46-3-18-.3-4.85-.3-10.16,1.52-12,4.1-4.55,4.85-17.6,4.85-17.6L568,613H548.85l-22.91,14.26Z" style="fill:#84754b;fill-rule:evenodd"/><path d="M516.69,641.69s15-19.87,28.52-24.43,19.57-1.82,19.57-1.82l-7.89,20.18-11.23,12.44.76,6.37s-1.83,16.84,9.4,28.52,19.57,11.23,24.43,11.23,18.81-4.1,25.94-20.94c6.37-15.77,11.68-36-1.06-56.28C592.68,596.78,570.69,596,566.44,596s-37.62,1.67-49.75,45.66h0Z" style="fill:#252211;fill-rule:evenodd"/><path d="M901.85,709.19c-5.61-2.58-.3-18.35,5.31-23.21s12.74-10.46,25.19-11.23c4.54-.3,8.94,2.58,8.19,5.62-1.06,5.61-8.95,13.5-16.08,19.11-9.86,7.74-16.24,12.59-22.61,9.71Z" style="fill:#f7f7e7;fill-rule:evenodd"/><path d="M598.45,623.18c4.1-.3,9.41,3,10.47,7.44,1.06,4.85-2.58,14.56-10.47,14.56-6.37,0-9.71-7.89-9.71-10.16a11.6,11.6,0,0,1,1.52-5.31c.3-.46,1.06-5.77,8.19-6.53Z" style="fill:#f8f6de;fill-rule:evenodd"/><path d="M539.29,626.67s-10.47,4.85-15.32,15a39.8,39.8,0,0,0-3,24c.76,3.79,4.55,13.19,7.13,16.53s6.07,5.62,8.65,5.31,7.88-7.13,7.88-11.22.31-21.39,5.31-30.8c4.4-9.4-10.62-18.81-10.62-18.81h0Z" style="fill:#d4c38b;fill-rule:evenodd"/><path d="M540.81,625.91c-1.82,1.06-4.85,2.58-4.1,4.55.76,1.82,7.13,3,9.41,7.44,2.58,4.55,2.58,9.4,1.82,11.68a18.48,18.48,0,0,0,5.31-3.8c3.34-3.79,7.43-8.94,10.92-8.94,2.28,0,4.55,1.06,6.68,1.06,3.34,0,6.67-1.06,7.13-4.55.75-4.55-6.37-8.65-10.47-7.89.76-3,1.82-7.43-1.52-10.47s-13.8,2.28-16.08,3.8-9.1,7.13-9.1,7.13h0Z" style="fill:#e2d59d;fill-rule:evenodd"/><path d="M781.86,944.63,804.31,938l6.37,4.55s4.54,9.71,11.68,10.92c-2.28,4.85-8.2,9-7.89,12.44s3.34,6.07,3.34,6.07-20.18,33.37,19.57,67c-9.41,3.79-21.39,9-27.76,12,4.54,1.06,14.25,3,18.35,6.68s4.1,4.85,7.89,7.13,6.06,5.31,5.31,6.67c-2.58-1.52-11.23-6.06-12.74-1.82s-37.47,2.58-37.47,2.58l-60.68,11.68s2.27-6.07-4.1-11.68c-7.43-6.67-16.53.3-26.24-7.13-12.74-9.71-13.2-20.94-17.29-25.18,4.09-2.58,12.44-6.37,32.31-9-.76-1.52-3.34-6.07-1.82-10.16,1.82-5.31,9.4-8.65,7.13-15,3.34-.76,4.85-.76,13.2-11.23,7.89-10.47,12.74-12.74,18.81-13.5s9.71,0,20.94-10.47c7.88-7.43,5.31-13.8,5.31-13.8s5.15-1.67,3.34-12.14h0Z" style="fill:#cbac5a;fill-rule:evenodd"/><path d="M715.57,948c.3-1.52,1.52-2.28,9.71-1.52s60.07-4.85,74.18-5.61c14.26-1.06,64.47-.31,88.9,4.85s49.15,11.23,61.13,14.26c12,3.34,15.78,4.54,15.32,6.06-.3,1.52-3,3-4.55,2.58-1.51-.3-41.26-12.44-53.54-15s-54.77-9.41-78-9c-21.69.31-30.34-.3-48.69,1.82-18.36,2.28-48.7,5.31-57.8,4.1-9-1.06-7.14-1.06-6.68-2.58h0Z" style="fill:#d6bc6f;fill-rule:evenodd"/><path d="M837.68,1066.9s31.1,16.84,42.33,37.47c8.19,15.32-4.85,22.91-4.85,22.91s17.6,0,15.32,9.71c-1.06,6.06-30.34,22.44-49.91,31.09-19.87,8.65-19.11,8.2-28.82,9.71-9.41,1.52-35.2-3-40.51,4.55s-3,15.33-1.52,16.54c1.52,1.06,13.81,2.58,13.81,2.58s-2.58,7.13-28.06,7.89-31.86,2.57-33.38,5.31c-1.52,2.57,4.85,1.06,16.54,3,11.68,1.82,28.06,3,28.06,3s-5.31,4.55-19.11,8.19c-15.78,4.09-40.51,7.89-47.94,12.44,3.79,2.58,9.41,6.37,12,6.67-6.37,1.52-15.33,4.86-16.84,6.07,2.27,1.52,5.31,3.34,5.31,3.34s-12.75,15.32-20.18,19.12-50.21,23.66-64.93,19.87c-36.71-9.71-41.26-49.91-50.21-52.94-13.5-4.55-19.87,4.54-31.86-1.83,5.31-3.79,8.2-6.06,13.81-8.64-6.07-3-37.47-22.91-37.47-22.91a232.72,232.72,0,0,0-10.92-20.93c-6.07-10.47-15-24.43-21.7-36.72-14.56-27-15.32-39.44-28.52-54.76,2.28-3,10.16-2.58,10.16-2.58l110.6,36.41L765,1137.14l51-72.81,21.69,2.58Z" style="fill:#dfc677;fill-rule:evenodd"/><path d="M547.18,1177.94a17.21,17.21,0,0,0,4.09,3.34c3.8,2.58,9.41,5.62,13.2,10.16,1.52-2.27,5.31-6.37,12,0s15,1.83,20.17,3.34c5.31,1.83,5.61,2.58,5.61,2.58s3-2.58,9.71-5.31c4.1-1.52,8.95-2.58,14.26-4.09,4.85-1.06,10.16-2.58,13.81-2.58,3.34,2.27,15.32,15,63.41-3.79,45.36-17.6,55.82-19.57,63.41-16.85.76-1.82,1.52-5.31,13.2-4.85,0-4.85-9.71-21.39-9.71-21.39l-53.55-18.35H687.5l-87.83,16.08L551,1164l-3.79,14Z" style="fill:#c4a859;fill-rule:evenodd"/><path d="M517.9,1147.15s1.06,8.19,13.2,16.84c12,8.64,15.77,13.8,15.77,13.8s2.28-3,4.1-6.06c1.82-3.34,3.34-7.13,6.37-8.19,6.07-2.58,19.87,2.27,22.91,1.51,2.58-.75,1.82-6.06,4.55-6.06,6.37-.31,10.46,4.09,12.74,4.09s7.88-.3,8.64-1.51,1.06-13.81,9.71-19.88c9.41-6.67,20.94-3.79,24-2.27,0,2.27.3,7.89,6.37,8.19s6.67-.76,12,1.06,11.68-.3,14.56,8.64c2.58-.75,8.65-1.51,7.13-10.16,3-2.27,5.62-3.79,12-12.74,1.52-2.27,4.09-4.85,6.07-8.19,5.31,0,11.68-1.06,20.17,6.37-2.58,1.82-4.1,3-4.85,4.85a54.56,54.56,0,0,1,6.06,7.13c2.28,3,3.8,6.68,6.68,7.44,6.37,1.82,16.84-.76,28.52,0,11.23.76,20.63,4.85,24.73,7.43,1.52-.75,1.52-1.06,5.31-.3s6.67,1.06,2.58-3.79c2.27,1.06,4.85,3.34,7.13,1.06s4.09-5.61,10.46-6.37,8.65.3,11.23-6.37c3.34-8.19-8.19-8.19-8.19-8.19s5.31-4.86,11.23-11.23c7.13-6.67,15.32-15.32,17.29-25.94,3.34-19.57-15.77-22.14-15.77-22.14l-92.69,28.52-113.32-5.62-96.63,48.09h0Z" style="fill:#927d49;fill-rule:evenodd"/><path d="M434.62,879.4s-3,3.79-4.85,12.74-1.06,7.89-2.58,14.26S407,976.18,414,997.57s19.12,29.28,26.7,46.57c1.52,3.79,3,6.07,3.79,9.41,2.58,11.22.31,19.87,3.34,31.1,1.06,3.79,3.8,8.19,7.89,12.74,9,9.4,23.67,18.35,30,24.72,8.94,9.41,21.69,28.53,37.92,30.34,8.65,1.06,20.94-2.58,31.1-8.64,9-5.62,14.56-13.5,24-18,6.67-3.34,13.8-4.55,20.17-6.07,13.2-2.58,25.19-3,32.32-1.52,10.92,2.28,36.71,10.17,51,10.17a138.73,138.73,0,0,0,33.07-4.55c21.69-6.37,47.93-17.3,65.23-22.15,10.16-3,18.35-3.79,26.7-5.61,14.26-3.34,26.24-7.89,33.07-16.54-4.55-5.31-10.16-13.5-40.51-13.2-34.43.76-74.18,19.87-93.75,22.91s-28.06,5.61-49.91-2.28C634.71,1079,634,1073.73,634,1073.73S611.51,1058,602.1,1017.9s0-69.32,24.43-97.09c6.37-7.13,4.85-13.5,4.85-13.5s16.08-21.69,11.68-42c-4.85-20.18-35.95-16.08-35.95-16.08L434.63,879.4h0Z" style="fill:#6e6342;fill-rule:evenodd"/><path d="M460.56,946.91a15.72,15.72,0,0,0-1.82,8.19c.3,4.09,1.52,9.4,13.8,21.39,10.47,10.46,8.19,22.14,8.19,22.14S486,999.69,500.3,993c11.23-5.31,15,4.1,15,4.1a31.71,31.71,0,0,1,10.47-3.34,22.91,22.91,0,0,0,9.4-3s13.2,13.5,24.73,19.87c10.47,5.62,16.54,9.41,21.7,5.62,4.85-3.34,4.85-10.17,4.54-13.2a39.39,39.39,0,0,0-4.54-7.89c-3.34-4.85-8.65-10.47-9-15-.76-10.46,7.89-22.91,6.06-25.94s-8.64-3.79-25.48,2.28c-17.44,5.76-92.69-9.56-92.69-9.56h0Z" style="fill:#39331f;fill-rule:evenodd"/><path d="M500.3,1014.72s-8.64-8.19-5.61-47.94a49.38,49.38,0,0,1,10.92,1.06S510.32,998.64,500.3,1014.72Z" style="fill:#292311;fill-rule:evenodd"/><path d="M438.72,849.06a23.74,23.74,0,0,0,3.34-3c-3,5.61-16.85,28.06-5.62,63.41,11.23,35.19,39.44,61.43,74.18,62.65s53-15.78,73.88-41.26c8.19-10.16,17.6-22.91,25.94-31.55,12.44-13.51,22.15-17.3,22.15-30.34,0-26.7-27.31-38.69-67.51-50.67S488.62,807.8,469.81,816c-18.35,8.94-26.24,18.35-31.1,33.07h0Z" style="fill:#252211;fill-rule:evenodd"/><path d="M567.81,1026.7l3-1.52s.75-12,5.61-11.68c4.85.76,7.13,7.14,6.67,9.41-.3,2.27-1.51,6.07-6.37,5.61-6.37.15-8.94-1.82-8.94-1.82Z" style="fill:#3f3824;fill-rule:evenodd"/><path d="M554.31,975.73s3-1.06,6.67,2.58c3,0,16.08-1.52,20.18,1.06s5.31,4.85,5.31,4.85-15.32,3.34-23.67,0c-8.49-2.88-8.49-8.49-8.49-8.49Z" style="fill:#2d2815;fill-rule:evenodd"/><path d="M621.82,978c0-.76-8.19-6.37-16.84-8.2-1.52-.3-1.83.76-3,.76-.76-.3-1.06-2.58-1.06-2.58L596,970.57s-.76,1.06,1.82,3c2.27,1.82,6.07,3.34,7.13,6.37s1.06,4.09,1.52,4.55c.3.3,5.61,0,8.19-1.52s7.44-4,7.13-5h0Z" style="fill:#82764f;fill-rule:evenodd"/><path d="M545.21,1008.8s1.51-10.46,11.68-10.92c10.46-.76,12.44,9.4,12.44,9.4l-6.07,6.07c0-.15-4.55-6.52-18-4.55Z" style="fill:#2d2816;fill-rule:evenodd"/><path d="M611.2,963.74s-5.62,6.07-18.05,7.89c-1.06-1.52-3.34-4.55,0-9.4s7.13-6.37,10.92-4.86a8.88,8.88,0,0,1,7.13,6.37Z" style="fill:#574f35;fill-rule:evenodd"/><path d="M634.1,971.18c.31-1.52-.75-1.82,0-2.58s4.86-2.27,5.62-1.52c.3.31,0,1.52,0,3s0,3-.76,4.09c-1.06,1.52-4.09,2.28-5.61,1.83s-1.82-2.58-1.82-3c.75-.3,2.57-1.06,2.57-1.82ZM660,954.8c0-.76,2.58-2.28,4.1-2.28,2.27,0,2.27,1.82,2.58,2.28.75.3.75-.31,1.51,1.06s1.83,3.79,1.06,5.31-3.79,2.57-4.54,2.27c-1.06-.76-4.4-7.58-4.71-8.64Z" style="fill:#82764f;fill-rule:evenodd"/><path d="M607.86,974.67s3.34.75,7.89,4.55c-1.52,1.06-3.8,2.27-3.8,2.27s-.3-3.49-4.09-6.83Z" style="fill:#6e6342;fill-rule:evenodd"/><path d="M600.43,941.29c-.76-.75,2.27-2.57,4.09-2.27s2.58,1.52,4.55,1.82,2.28-.76,3-1.52,3.34-.3,3.79,0a8.45,8.45,0,0,1,.76,1.06,4.2,4.2,0,0,1,1.51-3,4.79,4.79,0,0,1,4.1-.76c.3,1.06,1.82,4.85,1.52,5.61s-4.85,1.83-5.62,1.06c.76,1.83,4.1,5.62,4.55,6.37s-3.34,2.58-4.85,2.28c-2.12-.15-15.17-7.74-17.44-10.62Zm19.87-25.18a3.52,3.52,0,0,0-1.52-1.82c-1.06-.3-4.55,0-4.55,1.82s3,12,6.37,17.3c3.8,5.31,6.37,9.7,8.95,10.92a3.52,3.52,0,0,0,4.55-1.52c.3-.76,1.06-6.37.76-19.57s-.76-25.94-1.52-26.7-3.79-.75-4.85.76-7.89,16.54-8.2,18.81h0Z" style="fill:#585136;fill-rule:evenodd"/><path d="M606.8,993.78s-5.31-3.34-10.47-1.06c-4.85,2.28-4.55,11.23-4.55,11.23a7.19,7.19,0,0,0,6.68-.76c3.34-2.27,7.58-6.06,8.34-9.4Z" style="fill:#574f35;fill-rule:evenodd"/><path d="M616.81,1005.77c-.3-3-3-3-3-4.55a3.41,3.41,0,0,1,3.33-2.58c1.52,0,3,1.82,4.86,3,1.82,1.06,4.55,3,4.85,5.31s-3,8.64-6.67,8.64-2.58-6.83-3.34-9.86Zm29.28-4.1s-6.07,1.82-5.62,0,1.83-2.27,3.8-2.27a6,6,0,0,1,3.79-1.83,3.29,3.29,0,0,1,2.27.76s4.1-1.82,5.31-.76.31,1.06,1.06,2.28a10.67,10.67,0,0,1,1.83,4.55c0,1.21-4.55,3.79-8.2,3.34-4.24-.91-3.49-5.31-4.24-6.07Zm35.34-6.83s1.82,1.06.31,2.28c-1.06,1.06-6.37,3-10.93,3.34-4.55,0-8.64.75-8.64-.76s3.79-4.55,6.06-5.31a4.84,4.84,0,0,1,3.8-1.82c1.82,0,8.94-.76,10.92-1.06,1.82-.31,3.34.75,2.27,2.27-.45,1.06-3.79,1.06-3.79,1.06ZM691.9,948s-2.28,4.85-4.85,4.85c-2.58-.3-2.58-1.06-2.58-1.82,0-1.06,2.58-3.79,2.27-4.55-.75,0-2.58,0-2.27-1.82,0-1.52,2.58-3.34,4.85-3a10,10,0,0,1,6.07-2.27c2.58,0,4.85.75,4.85,2.27s-3,4.85-4.1,5.62c-1.21,1.21-2.73,2-4.24.75Zm-34.59,89.65s-3,.31-3,1.82c0,.76.75.76,1.82.31a8.24,8.24,0,0,0,1.82-.31c.3.31.3,1.82,2.58,1.82a14.41,14.41,0,0,0,5.31-1.82c1.82-.75,3.34-1.52,3.34-3-.76-2.58-2.28-3.8-4.55-3.8a6.05,6.05,0,0,0-3.34.76s-.76-1.52-3.34,0-2.28,1.52-1.52,2.28c1.36,1.21.91,2,.91,2Zm-17.14,15.78c0-.76,3.79-2.28,4.85-1.82,1.06.3,4.09,6.06,4.09,6.67,0,.76-3.79,2.58-5.31,2.58s-4.09-2.58-4.09-3c0-.3,1.82-.75,1.82-1.06.45-.75-1.36-2.58-1.36-3.34Zm-12-22.15c.76-.3.76-1.06,1.82-1.82a2.61,2.61,0,0,1,2.28-.3,3.69,3.69,0,0,1,2.58-1.83c1.82-.3,3.34,0,3,.76,0,2.28,1.52,3.79,1.52,5.61s-1.06,4.1-4.85,5.62c-3.79,1.06-8.95,1.06-9.71.76s-1.52-3.34-.76-4.86,2.88-3.18,4.1-3.94h0Z" style="fill:#82764f;fill-rule:evenodd"/><path d="M633,1032.31s-2.58,1.52-2.58,2.28a6.74,6.74,0,0,0-.3,2.27c0,.45,3.34-.3,3.79-.76.15-.3-.91-3-.91-3.79Z" style="fill:#6e6342;fill-rule:evenodd"/><path d="M610.44,1025.18c1.51.31,4.09,0,6.06.76,1.52.76,2.58,2.28,1.06,4.1s-3,4.55-6.37,4.09c-3.79-.3-7.43-2.27-7.43-3.79a7.27,7.27,0,0,1,1.82-5.31c1.52-1.21,2.27-.45,4.85.15h0Z" style="fill:#585136;fill-rule:evenodd"/><path d="M608.62,1026.7s-4.85,3.79-6.07,5.62c-1.52,1.82-8.95,11.22-11.22,13.19a28.57,28.57,0,0,1,2.57-3.79,15.52,15.52,0,0,0-6.37,8.19c-1.82,5.62,10.17,8.65,18.05,10.93s10.93,3,10.93,3a84.72,84.72,0,0,1-7.44-13.8c-3-7.13-4.55-7.89-2.58-11.23,1.52-3.34,3.8-5.61,3.8-8.19C609.38,1028.22,608.62,1026.7,608.62,1026.7Z" style="fill:#574f35;fill-rule:evenodd"/><path d="M435.68,1038.69a9.24,9.24,0,0,0,3.34,0c2.27-.31,25.94-9,50.67-7.44a271.06,271.06,0,0,1,54.76,9c31.1,8.19,69.78,24.42,94.81,33.68,6.67,2.57,13.2,7.13,18,8.94,19.12,7.44,19.87,7.44,31.1,9.41,13.2,1.82,26.7-2.58,40.81-5.61,17.29-3.8,46.87-5.62,72.81-9.41a148.73,148.73,0,0,0,24.73-5.61s-20.63,20.63-70.09,28.06a219.27,219.27,0,0,1-60.37.76c-15.78-1.52-26.24-3.8-34.13-6.07-8.95-2.58-27.31-9.41-49.91-15-15.78-4.1-33.38-7.13-53.55-10.92-49.76-9.11-103.76-19.57-123-29.73Z" style="fill:#252211;fill-rule:evenodd"/><line x1="409.89" y1="846.33" x2="283.52" y2="728.31" style="fill:none"/><path d="M379.85,944.94c-12,10.16-24.73,19.87-37.16,29.27L305.22,1003c-12.74,9.4-25.18,19.11-37.93,28.52s-25.48,18.35-39,27c12-10.16,24.73-19.57,37.47-28.82S291.71,1011.38,304,1002l37.47-28.83c12.89-9.4,25.33-19.11,38.38-28.21Zm-66.29,106.19s13.5-11.23,30.34-27c20.93-19.56,46.57-44.6,54.76-49.14l-85.11,76.15Z" style="fill:#cfb66c;fill-rule:evenodd"/><path d="M313.56,1051.12c6.68-6.67,13.81-13.19,20.94-19.57l10.92-9.4c3.34-3,7.14-6.37,10.47-9.71,6.67-6.67,13.2-13.81,19.87-20.63a127.54,127.54,0,0,1,10.47-9.71,28.3,28.3,0,0,1,6.06-4.1c1.83-1.06,3.8-3,6.37-3.34-1.51,2.28-3.33,3.34-4.85,5.31-1.82,1.52-3.34,3.34-4.85,4.85-3.34,3.34-7.13,6.37-10.47,9.41-7.13,6.07-14.56,12-21.69,18.35s-13.8,13.2-20.94,19.57c-7.73,6.53-14.86,12.9-22.3,19Zm90.72-60.68s-49.45,48.4-59.62,56.28Z" style="fill:#cfb66c;fill-rule:evenodd"/><path d="M404.28,990.44A161.47,161.47,0,0,1,390,1005l-15,14.26c-4.85,4.85-9.41,9.71-14.56,14.56-5.31,4.55-10.16,9-15.78,13.2l14.56-14.26c4.86-4.85,10.17-8.94,15.33-13.8l14.56-14.26c5-5,9.86-9.86,15.17-14.26Zm2.27,26.24a315.38,315.38,0,0,1-16.08,37.17c-12.74,25.49-31.85,57.34-40.2,73.58l56.28-110.75Z" style="fill:#cfb66c;fill-rule:evenodd"/><path d="M406.55,1016.69c0,5.61-1.52,10.47-3.34,15.32a150.66,150.66,0,0,1-6.06,14.26c-2.28,4.55-4.86,9.41-7.44,13.81s-5.61,8.94-7.89,13.5l-15.32,27c-5.31,9-10.47,18.05-16.08,26.7,3.79-9.71,8.95-18.81,13.81-27.76,5.31-9,10.16-18,15-27.31a153.85,153.85,0,0,0,6.37-14.25c2.27-4.86,4.54-9.41,6.37-13.81,2.27-4.85,4.09-9.41,6.37-13.8,2.57-4.71,4.7-9.26,8.19-13.66Z" style="fill:#cfb66c;fill-rule:evenodd"/><path d="M460.56,1141.08s-15,19.87-13.5,45.05C451.15,1172.94,456.31,1152.76,460.56,1141.08ZM474.82,1161s-5.31,54-9.71,80.55C471.33,1210.86,472.54,1213.44,474.82,1161Zm99.36,83.74s-22.45,66-22.91,84.34C556.13,1310.22,565.53,1271.69,574.18,1244.69Z" style="fill:#dec270;fill-rule:evenodd"/><path d="M626.67,1137s36.41,60.07,63.72,111.34C683,1222.54,666,1175.22,626.67,1137Z" style="fill:#cbaf59;fill-rule:evenodd"/><path d="M724.52,1225.43a1104.54,1104.54,0,0,1,54,109.07C775.49,1308.71,767.29,1264.57,724.52,1225.43Z" style="fill:#e3c677;fill-rule:evenodd"/><path d="M1012.14,1314c6.06-3.79,18.05-24.43,28.52-29.58,10.46-5.31,18.35-6.37,27.76-16.84,9.4-10.93,12-17.6,32.61-26.24,28.83-12.45,9-28.53,9-28.53a93.07,93.07,0,0,1,10.16-8.64c7.44-5.61,16.08-12.44,15.33-24.43-1.06-20.17-4.85-49.45-21.39-66.44,16.08-3.34,46.87-5.61,66-10.46,22.14-5.62,32.31-13.51,32.31-13.51s-12.74-21.69,7.89-43.53,37.47-34.89,49.91-59.32c-14.26-1.82-36-9.4-91.48,11.68a69.63,69.63,0,0,1,8.65,4.85s-34.13,9.41-46.57,19.88c-21.7,18.35-24.43,33.37-47.94,44.6s-47.18,8.19-66.74,17.29-22.45,16.84-29.59,20.18c1.52,1.82-.3,4.85,2.58,7.43-1.82,2.58-12.44,19.87-23.21,19.87,1.06,4.1,10.16,7.13,10.16,7.13s-6.67,4.86-23.66,6.07c8.64,9,16.84,18.81,39.44,33.07-1.82,3.79-9.41,9.41-6.37,16.54,3.34,7.13,12,16.84,46.57,24.73-17.6.75-38.22,4.85-66,1.06-27.76-3.34-32.31-5.31-49.45-1.06,1.82,1.82,6.67,1.82,10.92,6.67-4.55.3-33.07-3.34-42.78,9.41-10.16,13.19-14.56,34.89-13.8,49.45-5.31,2.58-10.47,7.13-7.89,16.54s16.08,12.44,24.73,18.35c8.64,6.37,9.4,8.64,17.6,7.13,8.64-1.82,21.38-10.46,28.82-10.46s12.74,5.61,12.74,5.61,20.18-9.71,22.15-7.89c1.82,1.82.3,13.5,2.27,15.32,2,1.37,24.73-12.13,30.8-15.93Z" style="fill:#ecd592;fill-rule:evenodd"/><path d="M1453.13,706.92c-94.81-244.84-329.19-290.2-329.19-290.2H455.25l2.58,249.39H591V1223H455.24v248.94h650.19c156.7,0,282.31-157.47,282.31-157.47,201.15-285.49,65.38-607.55,65.38-607.55Zm-344.21,439.77s-51,73.58-106.49,73.58h-111L888.8,666.72h142.45s66,13.8,112.11,144.41c0,0,61.13,187-34.44,335.56Z" style="fill:#fff;fill-opacity:0.800000011920929;fill-rule:evenodd"/></g></g></g></svg>'),Mg=Os('<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_46_558)"><circle cx="16" cy="16" r="16" fill="#627EEA"/><path d="M15.9957 20.4203L9.14282 16.3876L15.9957 5.14258V20.4203Z" fill="white"/><path d="M15.9957 26.8573L9.30029 17.396L15.9957 21.3511V26.8573Z" fill="white"/><path d="M16.2319 20.4203L23.0849 16.3876L16.2319 5.14258V20.4203Z" fill="#C1CCF7"/><path d="M16.3107 26.8573L23.0848 17.396L16.3107 21.3511V26.8573Z" fill="#C1CCF7"/></g><defs><clipPath id="clip0_46_558"><rect width="32" height="32" fill="white"/></clipPath></defs></svg>'),Bg=Os('<svg version="1.1" id="_8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 256 256" style="enable-background:new 0 0 256 256;" xml:space="preserve"><style type="text/css">.st0{fill:none;} .st1{fill:#FFFFFF;} .st2{fill:#662482;}</style><g><path class="st0" d="M0,0v256h256V0H0z M231.2,159.2c0,20.7,0,31.1-3.5,42.2c-4.4,12.2-14,21.8-26.2,26.2 c-11.1,3.5-21.5,3.5-42.2,3.5H96.8c-20.7,0-31.1,0-42.2-3.5c-12.2-4.4-21.8-14-26.2-26.2c-3.5-11.1-3.5-21.5-3.5-42.2V96.8 c0-20.7,0-31.1,3.5-42.2c4.4-12.2,14-21.8,26.2-26.2c11.2-3.5,21.5-3.5,42.2-3.5h62.5c20.7,0,31.1,0,42.2,3.5 c12.2,4.4,21.8,14,26.2,26.2c3.5,11.1,3.5,21.5,3.5,42.2V159.2z"/> <circle class="st1" cx="137.9" cy="99" r="12.1"/><path class="st1" d="M210.8,115.9c0-47.3-27.7-68.7-64.4-68.7c-16.4,0-31,4.4-42.4,12.5c-3.8,2.7-9,0.1-9-4.5 c0-3.1-2.5-5.7-5.7-5.7H57.7c-3.1,0-5.7,2.5-5.7,5.7v144c0,3.1,2.5,5.7,5.7,5.7h33.7c3.1,0,5.6-2.5,5.6-5.6v-8.4 c0-62.8-33.2-109.8-0.4-116c30-5.7,64.1-3,64.5,20.1c0,2,0.3,8,8.6,11.2c5,2,12.6,2.6,22.6,2.4c0,0,9.1-0.7,9.1,8.5 c0,11.5-20.4,10.7-20.4,10.7c-6.7,0.3-22.6-1.5-31.7,1.2c-4.8,1.5-9,4.2-11.5,9.1c-4.2,8.3-6.2,26.5-6.5,45.5v15.5 c0,3.1,2.5,5.7,5.7,5.7h68c3.1,0,5.7-2.5,5.7-5.7l0,0V115.9z"/><path class="st2" d="M227.6,54.6c-4.4-12.2-14-21.8-26.2-26.2c-11.1-3.5-21.5-3.5-42.2-3.5H96.8c-20.7,0-31.1,0-42.2,3.5 c-12.2,4.4-21.8,14-26.2,26.2c-3.5,11.2-3.5,21.5-3.5,42.2v62.5c0,20.7,0,31.1,3.5,42.2c4.4,12.2,14,21.8,26.2,26.2 c11.2,3.5,21.5,3.5,42.2,3.5h62.5c20.7,0,31.1,0,42.2-3.5c12.2-4.4,21.8-14,26.2-26.2c3.5-11.1,3.5-21.5,3.5-42.2V96.8 C231.2,76.1,231.2,65.7,227.6,54.6z M205.1,204.8h-68c-3.1,0-5.7-2.5-5.7-5.7v-15.5c0.3-19,2.3-37.2,6.5-45.5 c2.5-5,6.7-7.7,11.5-9.1c9-2.7,24.9-0.9,31.7-1.2c0,0,20.4,0.8,20.4-10.7c0-9.3-9.1-8.5-9.1-8.5c-10,0.3-17.7-0.4-22.6-2.4 c-8.3-3.3-8.6-9.2-8.6-11.2c-0.4-23.1-34.5-25.9-64.5-20.1c-32.8,6.2,0.4,53.3,0.4,116v8.4c-0.1,3.1-2.5,5.6-5.6,5.6H57.7 c-3.1,0-5.7-2.5-5.7-5.7v-144c0-3.1,2.5-5.7,5.7-5.7h31.7c3.1,0,5.7,2.5,5.7,5.7c0,4.7,5.2,7.2,9,4.5c11.4-8.2,26-12.5,42.4-12.5 c36.7,0,64.4,21.4,64.4,68.7v83.2l0,0C210.8,202.3,208.3,204.8,205.1,204.8z M125.7,99c0-6.7,5.4-12.1,12.1-12.1S150,92.3,150,99 s-5.4,12.1-12.1,12.1S125.7,105.8,125.7,99z"/></g></svg>'),kg=Re`
  <svg
    width="32"
    height="32"
    viewBox="3 3 26 26"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    class="primary-icon"
  >
    <path
      d="M20.375 16.875H14.25V15.125H20.375L19.5 13.375H21.25L23 16L21.25 18.625H19.5L20.375 16.875ZM20.9509 11.051L19.7128 12.2886C19.226 11.8 18.6473 11.4125 18.0101 11.1484C17.3729 10.8844 16.6897 10.749 16 10.75C13.1006 10.75 10.75 13.1006 10.75 16C10.75 18.8994 13.1006 21.25 16 21.25C17.4107 21.25 18.7309 20.6923 19.71 19.7147L20.9462 20.9532C20.297 21.6031 19.5259 22.1184 18.6771 22.4696C17.8283 22.8209 16.9186 23.0011 16 23C12.1341 23 9 19.8659 9 16C9 12.1341 12.1341 9 16 9C17.8816 9 19.647 9.74667 20.9509 11.051Z"
      fill="currentColor"
    />
  </svg>
`,Og=Re`
  <svg
    width="13"
    height="12"
    viewBox="0 0 13 12"
    xmlns="http://www.w3.org/2000/svg"
    class="secondary-icon"
    stroke="currentColor"
  >
    <path
      d="M9.30688 5.22537L11.1669 3.36536L9.30688 1.50537"
      stroke-width="1.33333"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M2.16699 3.36523H11.167"
      stroke-width="1.33333"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M4.02698 6.77539L2.16699 8.63541L4.02698 10.4954"
      stroke-width="1.33333"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
    <path
      d="M11.167 8.63525H2.16699"
      stroke-width="1.33333"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </svg>
`,Ig=Re`
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="-3 -3 30 30"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="primary-icon"
  >
    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
    <circle cx="12" cy="7" r="4" />
  </svg>
`;function g3(r){return{[le.BTC]:Cg,[le.EVM]:Mg,[le.CKB]:s0,[le.Nostr]:Bg,[le.Doge]:Tg}[r]}function Rg(r,e){return["Select a Chain",Re`
      <img class="wallet-icon mt-1" src=${r.icon} alt=${r.name} />
      <span class="mb-1">${r.name}</span>
      ${Qf(r.signers,t=>t.name,t=>Re`
          <ccc-button
            class="mt-1"
            @click=${async()=>{e(r,t)}}
          >
            <img
              src=${g3(t.signer.type)}
              alt=${t.signer.type}
            />
            ${t.name}
          </ccc-button>
        `)}
    `]}var zr=function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};function Au(r,e=9,t=6){return r&&r.length>e+t+3?`${r.slice(0,e)}...${r.slice(-t)}`:r}let ur=class extends cr{constructor(){super(...arguments),this.selectingClient=!1}willUpdate(e){(!this.recommendedAddress||!this.internalAddress||!this.balance||e.has("signer"))&&this.signer&&(this.signer.getRecommendedAddress().then(t=>this.recommendedAddress=t),this.signer.getInternalAddress().then(t=>this.internalAddress=t),this.signer.getBalance().then(t=>this.balance=t))}render(){const{wallet:e,signer:t,internalAddress:n,balance:i,recommendedAddress:s}=this;if(!e||!t)return Re`<div></div>`;const o=!this.selectingClient||!this.clientOptions?Re`
          <div class="position-relative">
            <img
              class="connecting-wallet-icon"
              src=${e.icon}
              alt=${e.name}
            />
            <img
              class="connected-type-icon"
              src=${g3(t.type)}
              alt=${t.type}
            />
          </div>

          <ccc-copy-button
            value=${s}
            class="text-bold fs-xl mt-2"
          >
            ${Au(s)}
          </ccc-copy-button>
          <div class="text-bold fs-md">
            ${_o(i??Ue)} CKB
          </div>
          <ccc-copy-button
            value=${n}
            class="text-bold text-tip fs-md"
            style="margin-top: 0.5rem"
          >
            ${Au(n,11,9)}
          </ccc-copy-button>

          <ccc-button
            class="mt-2"
            @click=${()=>window.open("https://mobit.app/","_blank")}
          >
            ${Ig} Manage
          </ccc-button>

          <ccc-button
            class="mt-1"
            @click=${()=>this.dispatchEvent(new Event("disconnect"))}
          >
            ${kg} Disconnect
          </ccc-button>

          ${this.hideMark==null?Re`<a href="https://github.com/ckb-devrel/ccc" class="mark"
                >Powered by CCC</a
              >`:""}

          <div
            class="switch-btn-container ${this.clientOptions?"cursor-pointer":""}"
            @click=${()=>this.selectingClient=!!this.clientOptions}
          >
            <div class="switch-line"></div>
            <div class="switch-content ml-2 mr-2 fs-sm">
              <img class="sm-chain-logo" src=${s0} alt="Nervos Network" />
              ${t.client.addressPrefix==="ckb"?"Mainnet":"Testnet"}
              ${["ckb","ckt"].includes(t.client.addressPrefix)?"":` ${t.client.addressPrefix}`}
              ${this.clientOptions?Og:void 0}
            </div>
            <div class="switch-line"></div>
          </div>
        `:Qf(this.clientOptions,({name:a})=>a,({client:a,name:c,icon:f})=>Re`
          <ccc-button
            class="mt-1"
            @click=${()=>this.dispatchEvent(new wg(a))}
          >
            <img src=${f??s0} alt=${c} />
            ${c}
          </ccc-button>
        `);return Re`
      <ccc-dialog
        header=${this.selectingClient?"Select Network":void 0}
        ?canBack=${this.selectingClient}
        @back=${()=>this.selectingClient=!1}
      >
        ${o}
      </ccc-dialog>
    `}updated(){this.dispatchEvent(new Event("updated",{bubbles:!0,composed:!0}))}};ur.styles=Kn`
    :host {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .primary-icon {
      color: var(--icon-primary);
    }
    .secondary-icon {
      color: var(--icon-secondary);
    }

    .text-bold {
      font-weight: bold;
    }

    .text-tip {
      color: var(--tip-color);
    }

    .fs-sm {
      font-size: 0.8rem;
    }
    .fs-md {
      font-size: 1rem;
    }
    .fs-xl {
      font-size: 1.5rem;
    }

    .mt-1 {
      margin-top: 0.7rem;
    }
    .mt-2 {
      margin-top: 1rem;
    }
    .ml-1 {
      margin-left: 0.7em;
    }
    .ml-2 {
      margin-left: 1em;
    }
    .mr-1 {
      margin-right: 0.7rem;
    }
    .mr-2 {
      margin-right: 1rem;
    }

    .connecting-wallet-icon {
      width: 5rem;
      height: 5rem;
      border-radius: 1rem;
    }

    .position-relative {
      position: relative;
    }

    .connected-type-icon {
      position: absolute;
      width: 1.5rem;
      height: 1.5rem;
      right: -0.5rem;
      bottom: -0.5rem;
    }

    .switch-btn-container {
      width: 100%;
      margin-top: 1.2rem;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .cursor-pointer {
      cursor: pointer;
    }

    .switch-content {
      display: flex;
      align-items: center;
      gap: 0.7rem;
    }

    .switch-line {
      flex: 1;
      height: 1px;
      background-color: var(--divider);
    }

    .switching-status-dot {
      width: 0.5rem;
      height: 0.5rem;
      background: #0f0;
      border-radius: 50%;
    }

    .copy-btn {
      width: 1.5rem;
      height: 1.5rem;
    }

    .copy-btn-sm {
      width: 1rem;
      height: 1rem;
    }

    .sm-chain-logo {
      width: 1.125rem;
    }

    .mark {
      text-decoration: none;
      cursor: pointer;
      opacity: 0.2;
      margin: 0;
      margin-top: 0.25rem;
      margin-bottom: -1.05rem;
      color: var(--tip-color);
      font-size: 0.6rem;
    }

    .mark:hover {
      opacity: 0.5;
    }
  `;zr([Ut()],ur.prototype,"hideMark",void 0);zr([Ut()],ur.prototype,"wallet",void 0);zr([Ut()],ur.prototype,"signer",void 0);zr([Ut()],ur.prototype,"clientOptions",void 0);zr([St()],ur.prototype,"recommendedAddress",void 0);zr([St()],ur.prototype,"internalAddress",void 0);zr([St()],ur.prototype,"balance",void 0);zr([St()],ur.prototype,"selectingClient",void 0);ur=zr([Zn("ccc-connected-scene")],ur);const Dg=Re`
  <svg
    width="12"
    height="12"
    viewBox="0 0 12 12"
    xmlns="http://www.w3.org/2000/svg"
    fill="currentColor"
    class="primary-icon"
  >
    <path
      d="M11.398 1.16864C11.0369 1.16864 10.7961 1.41021 10.7961 1.77256V2.37648C10.1941 1.531 9.35141 0.866684 8.38828 0.504333C5.37851 -0.82429 1.82699 0.564725 0.502691 3.58432C-0.821607 6.60392 0.562886 10.167 3.57265 11.4957C6.58242 12.8243 10.1339 11.4353 11.4582 8.41568H11.398C11.398 8.05333 11.1573 7.81176 10.7961 7.81176C10.4349 7.81176 10.1941 8.05333 10.1941 8.41568H10.1339C9.59219 9.32156 8.80965 10.0463 7.78633 10.469C5.31832 11.4957 2.54933 10.2878 1.52601 7.81176C0.502691 5.33569 1.7066 2.49727 4.17461 1.531C6.40183 0.564725 8.93004 1.531 10.1339 3.58432H8.99023C8.62906 3.58432 8.38828 3.82589 8.38828 4.18824C8.38828 4.55059 8.62906 4.79216 8.99023 4.79216H11.398C11.7592 4.79216 12 4.55059 12 4.18824V1.77256C12 1.41021 11.7592 1.16864 11.398 1.16864Z"
    />
  </svg>
`;function Pg(r,e,t,n){return[r.name,Re`
      <img
        class="connecting-wallet-icon mb-1 mt-1"
        src=${r.icon}
        alt=${r.name}
      />
      <span class="text-bold"
        >${t?`Failed to open ${r.name}`:`Opening ${r.name}...`}</span
      >
      <span class="text-tip text-center"
        >${t??"Confirm connection in the wallet"}</span
      >
      <ccc-button-pill
        class="mt-2"
        @click=${()=>n(r,e)}
      >
        ${Dg} Try again
      </ccc-button-pill>
    `]}function Ng(r,e,t){return["Connect Wallet",Qf(r,n=>n.name,n=>Re`
        <ccc-button
          class="mt-1"
          @click=${async()=>{n.signers.length===1?t(n,n.signers[0]):e(n)}}
        >
          <img src=${n.icon} alt=${n.name} />
          ${n.name}
        </ccc-button>
      `)]}var Is=function(r,e,t,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s};let Vn=class extends cr{constructor(){super(...arguments),this.signerSelectedHandler=(e,t)=>{this.connectingError=void 0,this.selectedWallet=e,this.selectedSigner=t,(async()=>{const{signer:n}=t;try{if(await n.connect(),!await n.isConnected()){this.connectingError="Unknown connection status";return}}catch(i){if(typeof i!="object"||i===null){this.connectingError=JSON.stringify(i);return}if(!("message"in i)){this.connectingError="Unknown error";return}const s=i.message;if(typeof s=="string"){this.connectingError=s;return}this.connectingError=JSON.stringify(s);return}this.dispatchEvent(new Gf(()=>{this.dispatchEvent(new vg(e.name,t.name))}))})()}}render(){const[e,t]=this.selectedWallet?this.selectedSigner?Pg(this.selectedWallet,this.selectedSigner,this.connectingError,this.signerSelectedHandler):Rg(this.selectedWallet,this.signerSelectedHandler):Ng(this.wallets??[],n=>{this.selectedWallet=n},this.signerSelectedHandler);return Re`<ccc-dialog
      header=${e}
      ?canBack=${this.selectedSigner||this.selectedWallet}
      @back=${()=>{(!this.selectedSigner||this.selectedWallet&&this.selectedWallet.signers.length<=1)&&(this.selectedWallet=void 0),this.selectedSigner=void 0,this.connectingError=void 0}}
    >
      ${t}
    </ccc-dialog>`}onClose(){this.selectedWallet=void 0,this.selectedSigner=void 0,this.connectingError=void 0}updated(){this.dispatchEvent(new Event("updated",{bubbles:!0,composed:!0}))}};Vn.styles=Kn`
    .primary-icon {
      color: var(--icon-primary);
    }

    :host {
      display: block;
    }

    .text-bold {
      font-weight: bold;
    }

    .text-tip {
      color: var(--tip-color);
    }

    .mb-1 {
      margin-bottom: 0.7rem;
    }
    .mb-2 {
      margin-bottom: 1rem;
    }
    .mt-1 {
      margin-top: 0.7rem;
    }
    .mt-2 {
      margin-top: 1rem;
    }
    .ml-1 {
      margin-left: 0.7rem;
    }
    .ml-2 {
      margin-left: 1em;
    }
    .mr-1 {
      margin-right: 0.7rem;
    }
    .mr-2 {
      margin-right: 1rem;
    }

    .wallet-icon {
      width: 4rem;
      height: 4rem;
      margin-bottom: 0.5rem;
      border-radius: 0.8rem;
    }

    .connecting-wallet-icon {
      width: 5rem;
      height: 5rem;
      border-radius: 1rem;
    }

    .text-center {
      text-align: center;
    }
  `;Is([Ut()],Vn.prototype,"wallets",void 0);Is([St()],Vn.prototype,"selectedWallet",void 0);Is([St()],Vn.prototype,"selectedSigner",void 0);Is([St()],Vn.prototype,"connectingError",void 0);Vn=Is([Zn("ccc-selecting-scene")],Vn);const Jf=x3({tagName:"ccc-connector",elementClass:ut,react:_3,events:{onWillUpdate:"willUpdate",onClose:"close"}}),y3=Pt.createContext(void 0);class Lg extends ra{constructor(e){super(),this.filter=e}async addSigner(e,t,n,i){if(!(this.filter&&!await this.filter(n,{name:e,icon:t})))return super.addSigner(e,t,n,i)}}function m3({children:r,connectorProps:e,hideMark:t,name:n,icon:i,signerFilter:s,signersController:o,defaultClient:a,clientOptions:c,preferredNetworks:f}){const[d,l]=Pt.useState(null),[g,y]=Pt.useState(!1),[m,x]=Pt.useState(0),E=Pt.useRef(void 0),B=Pt.useMemo(()=>(d==null?void 0:d.client)??new So,[d==null?void 0:d.client]),R=Pt.useCallback(()=>{y(!0),d==null||d.requestUpdate()},[y,d,d==null?void 0:d.requestUpdate]),D=Pt.useCallback(()=>{y(!1),d==null||d.requestUpdate()},[y,d,d==null?void 0:d.requestUpdate]),H=Pt.useMemo(()=>(d==null?void 0:d.disconnect.bind(d))??(()=>{}),[d,d==null?void 0:d.disconnect]),N=Pt.useMemo(()=>(d==null?void 0:d.setClient.bind(d))??(()=>{}),[d,d==null?void 0:d.setClient]);return Pt.useEffect(()=>{a&&N(a)},[N]),Pt.useEffect(()=>{E.current?E.current.filter=s:E.current=new Lg(s)},[s]),d1.createElement(y3.Provider,{value:{isOpen:g,open:R,close:D,disconnect:H,setClient:N,client:B,wallet:d==null?void 0:d.wallet,signerInfo:d==null?void 0:d.signer}},d1.createElement(Jf,{hideMark:t,name:n,icon:i,signersController:o??E.current,ref:l,onWillUpdate:()=>x(U=>U+1),onClose:D,preferredNetworks:f,clientOptions:c,...e,style:{zIndex:999,...g?{}:{display:"none"},"--background":"#fff","--divider":"#eee","--btn-primary":"#f8f8f8","--btn-primary-hover":"#efeeee","--btn-secondary":"#ddd","--btn-secondary-hover":"#ccc","--icon-primary":"#1E1E1E","--icon-secondary":"#666666",color:"#1e1e1e","--tip-color":"#666",...e==null?void 0:e.style}}),r)}function e1(){const r=Pt.useContext(y3);if(!r)throw Error("The component which invokes the useCcc hook should be placed in a ccc.Provider.");return r}function w3(){var r;return(r=e1().signerInfo)==null?void 0:r.signer}const Hg=Object.freeze(Object.defineProperty({__proto__:null,Address:Ot,Bytes:Mu,Cell:xt,CellAny:Gt,get CellDep(){return Yt},CellDepInfo:fn,CellDepVec:z0,get CellInput(){return Xt},CellInputVec:j0,get CellOutput(){return Jt},CellOutputVec:ko,Client:A0,ClientBlock:yi,ClientBlockHeader:Qt,ClientBlockUncle:gi,ClientCache:x0,ClientCacheMemory:_0,ClientIndexerSearchKey:dn,ClientIndexerSearchKeyFilter:$n,ClientIndexerSearchKeyTransaction:bi,ClientJsonRpc:Eo,ClientPublicMainnet:zu,ClientPublicTestnet:So,ClientTransactionResponse:an,Connector:Jf,DepTypeCodec:U0,Eip6963:Uh,ErrorClientBase:$r,ErrorClientDuplicatedTransaction:y0,ErrorClientMaxFeeRateExceeded:v0,ErrorClientRBFRejected:m0,ErrorClientResolveUnknown:b0,ErrorClientVerification:g0,ErrorClientWaitTransactionTimeout:w0,ErrorTransactionInsufficientCapacity:si,ErrorTransactionInsufficientCoin:H0,HashTypeCodec:N0,HasherCkb:vo,HasherKeecak256:E0,JoyId:zh,get KnownScript(){return te},Nip07:Zh,Okx:Xh,One:ju,get OutPoint(){return Le},Provider:m3,RawTransaction:Io,Rei:Jh,RequestorJsonRpc:Ao,get Script(){return be},ScriptInfo:cs,ScriptOpt:L0,ScriptVec:io,Signature:kh,Signer:tr,SignerAlwaysError:Cf,SignerBtc:ln,SignerBtcPublicKeyReadonly:Ih,SignerCkbPrivateKey:Rh,SignerCkbPublicKey:Ef,SignerCkbScriptReadonly:Sf,SignerDoge:ws,SignerDogeAddressReadonly:Dh,SignerDogePrivateKey:Ph,SignerDummy:vs,SignerEvm:xs,SignerEvmAddressReadonly:Nh,SignerInfo:Oh,SignerNostr:Nt,SignerNostrPrivateKey:Lh,SignerNostrPublicKeyReadonly:Mf,SignerOpenLink:Tf,get SignerSignType(){return Ne},get SignerType(){return le},SignersController:ra,get Since(){return Nn},get Transaction(){return fe},UniSat:G2,UtxoGlobal:J2,get WebComponentConnector(){return ut},get WitnessArgs(){return Ht},Xverse:a3,Zero:Ue,apply:he,btcEcdsaPublicKeyHash:gs,btcP2pkhAddressFromPublicKey:ff,btcPublicKeyFromP2pkhAddress:df,btcVarLengthBytesFrom:cf,buildNostrEventFromMessage:jo,bytesConcat:Fe,bytesConcatTo:fr,bytesEq:o0,bytesFrom:Q,bytesTo:sn,calcDaoClaimEpoch:fl,calcDaoProfit:V0,depTypeFrom:ls,depTypeFromBytes:F0,depTypeToBytes:$0,epochFrom:Oo,epochFromHex:q0,epochToHex:cl,fixedPointFrom:Gn,fixedPointToString:_o,hashCkb:Dt,hashTypeFrom:Xn,hashTypeFromBytes:Bo,hashTypeId:Ro,hashTypeToBytes:Mo,hexFrom:F,isWebview:p0,keystoreDecrypt:ml,keystoreEncrypt:yl,messageHashBtcEcdsa:Ho,messageHashCkbSecp256k1:Po,messageHashDogeEcdsa:Uo,mol:ol,nostrEventHash:zo,numBeFromBytes:xo,numBeToBytes:Pn,numFrom:K,numFromBytes:Wn,numLeFromBytes:Sn,numLeToBytes:sr,numMax:l0,numMin:u0,numToBytes:Pe,numToHex:vt,reduceAsync:or,sleep:h0,spore:q2,ssri:z2,stringify:$u,udt:K2,udtBalanceFrom:oi,useCcc:e1,useSigner:w3,verifyMessageBtcEcdsa:uf,verifyMessageCkbSecp256k1:J0,verifyMessageDogeEcdsa:lf,verifyMessageEvmPersonal:_f,verifyMessageJoyId:of,verifyMessageNostrEvent:Af},Symbol.toStringTag,{value:"Module"})),Uy=Object.freeze(Object.defineProperty({__proto__:null,Address:Ot,Bytes:Mu,Cell:xt,CellAny:Gt,get CellDep(){return Yt},CellDepInfo:fn,CellDepVec:z0,get CellInput(){return Xt},CellInputVec:j0,get CellOutput(){return Jt},CellOutputVec:ko,Client:A0,ClientBlock:yi,ClientBlockHeader:Qt,ClientBlockUncle:gi,ClientCache:x0,ClientCacheMemory:_0,ClientIndexerSearchKey:dn,ClientIndexerSearchKeyFilter:$n,ClientIndexerSearchKeyTransaction:bi,ClientJsonRpc:Eo,ClientPublicMainnet:zu,ClientPublicTestnet:So,ClientTransactionResponse:an,Connector:Jf,DepTypeCodec:U0,Eip6963:Uh,ErrorClientBase:$r,ErrorClientDuplicatedTransaction:y0,ErrorClientMaxFeeRateExceeded:v0,ErrorClientRBFRejected:m0,ErrorClientResolveUnknown:b0,ErrorClientVerification:g0,ErrorClientWaitTransactionTimeout:w0,ErrorTransactionInsufficientCapacity:si,ErrorTransactionInsufficientCoin:H0,HashTypeCodec:N0,HasherCkb:vo,HasherKeecak256:E0,JoyId:zh,get KnownScript(){return te},Nip07:Zh,Okx:Xh,One:ju,get OutPoint(){return Le},Provider:m3,RawTransaction:Io,Rei:Jh,RequestorJsonRpc:Ao,get Script(){return be},ScriptInfo:cs,ScriptOpt:L0,ScriptVec:io,Signature:kh,Signer:tr,SignerAlwaysError:Cf,SignerBtc:ln,SignerBtcPublicKeyReadonly:Ih,SignerCkbPrivateKey:Rh,SignerCkbPublicKey:Ef,SignerCkbScriptReadonly:Sf,SignerDoge:ws,SignerDogeAddressReadonly:Dh,SignerDogePrivateKey:Ph,SignerDummy:vs,SignerEvm:xs,SignerEvmAddressReadonly:Nh,SignerInfo:Oh,SignerNostr:Nt,SignerNostrPrivateKey:Lh,SignerNostrPublicKeyReadonly:Mf,SignerOpenLink:Tf,get SignerSignType(){return Ne},get SignerType(){return le},SignersController:ra,get Since(){return Nn},get Transaction(){return fe},UniSat:G2,UtxoGlobal:J2,get WebComponentConnector(){return ut},get WitnessArgs(){return Ht},Xverse:a3,Zero:Ue,apply:he,btcEcdsaPublicKeyHash:gs,btcP2pkhAddressFromPublicKey:ff,btcPublicKeyFromP2pkhAddress:df,btcVarLengthBytesFrom:cf,buildNostrEventFromMessage:jo,bytesConcat:Fe,bytesConcatTo:fr,bytesEq:o0,bytesFrom:Q,bytesTo:sn,calcDaoClaimEpoch:fl,calcDaoProfit:V0,ccc:Hg,depTypeFrom:ls,depTypeFromBytes:F0,depTypeToBytes:$0,epochFrom:Oo,epochFromHex:q0,epochToHex:cl,fixedPointFrom:Gn,fixedPointToString:_o,hashCkb:Dt,hashTypeFrom:Xn,hashTypeFromBytes:Bo,hashTypeId:Ro,hashTypeToBytes:Mo,hexFrom:F,isWebview:p0,keystoreDecrypt:ml,keystoreEncrypt:yl,messageHashBtcEcdsa:Ho,messageHashCkbSecp256k1:Po,messageHashDogeEcdsa:Uo,mol:ol,nostrEventHash:zo,numBeFromBytes:xo,numBeToBytes:Pn,numFrom:K,numFromBytes:Wn,numLeFromBytes:Sn,numLeToBytes:sr,numMax:l0,numMin:u0,numToBytes:Pe,numToHex:vt,reduceAsync:or,sleep:h0,spore:q2,ssri:z2,stringify:$u,udt:K2,udtBalanceFrom:oi,useCcc:e1,useSigner:w3,verifyMessageBtcEcdsa:uf,verifyMessageCkbSecp256k1:J0,verifyMessageDogeEcdsa:lf,verifyMessageEvmPersonal:_f,verifyMessageJoyId:of,verifyMessageNostrEvent:Af},Symbol.toStringTag,{value:"Module"}));export{zu as C,m3 as P,jg as a,Ea as b,u1 as c,So as d,w3 as e,_o as f,Su as g,Uy as i,C3 as r,g1 as s,e1 as u};
